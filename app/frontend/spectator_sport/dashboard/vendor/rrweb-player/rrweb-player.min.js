/**
 * https://cdn.jsdelivr.net/npm/rrweb-player@2.0.0-alpha.17/+esm
 * https://www.jsdelivr.com/package/npm/rrweb-player?version=2.0.0-alpha.17
 *
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/rrweb-player@2.0.0-alpha.17/dist/rrweb-player.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var e="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t=[],r=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,s=!1;function i(){s=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0;n<64;++n)t[n]=e[n],r[e.charCodeAt(n)]=n;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63}function o(e,r,n){for(var s,i,o=[],a=r;a<n;a+=3)s=(e[a]<<16)+(e[a+1]<<8)+e[a+2],o.push(t[(i=s)>>18&63]+t[i>>12&63]+t[i>>6&63]+t[63&i]);return o.join("")}function a(e){var r;s||i();for(var n=e.length,a=n%3,l="",c=[],h=16383,u=0,p=n-a;u<p;u+=h)c.push(o(e,u,u+h>p?p:u+h));return 1===a?(r=e[n-1],l+=t[r>>2],l+=t[r<<4&63],l+="=="):2===a&&(r=(e[n-2]<<8)+e[n-1],l+=t[r>>10],l+=t[r>>4&63],l+=t[r<<2&63],l+="="),c.push(l),c.join("")}function l(e,t,r,n,s){var i,o,a=8*s-n-1,l=(1<<a)-1,c=l>>1,h=-7,u=r?s-1:0,p=r?-1:1,d=e[t+u];for(u+=p,i=d&(1<<-h)-1,d>>=-h,h+=a;h>0;i=256*i+e[t+u],u+=p,h-=8);for(o=i&(1<<-h)-1,i>>=-h,h+=n;h>0;o=256*o+e[t+u],u+=p,h-=8);if(0===i)i=1-c;else{if(i===l)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),i-=c}return(d?-1:1)*o*Math.pow(2,i-n)}function c(e,t,r,n,s,i){var o,a,l,c=8*i-s-1,h=(1<<c)-1,u=h>>1,p=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=h):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+u>=1?p/l:p*Math.pow(2,1-u))*l>=2&&(o++,l/=2),o+u>=h?(a=0,o=h):o+u>=1?(a=(t*l-1)*Math.pow(2,s),o+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,s),o=0));s>=8;e[r+d]=255&a,d+=f,a/=256,s-=8);for(o=o<<s|a,c+=s;c>0;e[r+d]=255&o,d+=f,o/=256,c-=8);e[r+d-f]|=128*m}var h={}.toString,u=Array.isArray||function(e){return"[object Array]"==h.call(e)};function p(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function d(e,t){if(p()<t)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=f.prototype:(null===e&&(e=new f(t)),e.length=t),e}function f(e,t,r){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return y(this,e)}return m(this,e,t,r)}function m(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);f.TYPED_ARRAY_SUPPORT?(e=t).__proto__=f.prototype:e=w(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!f.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|C(t,r);e=d(e,n);var s=e.write(t,r);s!==n&&(e=e.slice(0,s));return e}(e,t,r):function(e,t){if(b(t)){var r=0|v(t.length);return 0===(e=d(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?d(e,0):w(e,t);if("Buffer"===t.type&&u(t.data))return w(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function g(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function y(e,t){if(g(t),e=d(e,t<0?0:0|v(t)),!f.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function w(e,t){var r=t.length<0?0:0|v(t.length);e=d(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function v(e){if(e>=p())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p().toString(16)+" bytes");return 0|e}function b(e){return!(null==e||!e._isBuffer)}function C(e,t){if(b(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return J(e).length;default:if(n)return X(e).length;t=(""+t).toLowerCase(),n=!0}}function S(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return F(this,t,r);case"utf8":case"utf-8":return D(this,t,r);case"ascii":return _(this,t,r);case"latin1":case"binary":return L(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function x(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function E(e,t,r,n,s){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=s?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(s)return-1;r=e.length-1}else if(r<0){if(!s)return-1;r=0}if("string"==typeof t&&(t=f.from(t,n)),b(t))return 0===t.length?-1:A(e,t,r,n,s);if("number"==typeof t)return t&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):A(e,[t],r,n,s);throw new TypeError("val must be string, number or Buffer")}function A(e,t,r,n,s){var i,o=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,l/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(s){var h=-1;for(i=r;i<a;i++)if(c(e,i)===c(t,-1===h?0:i-h)){if(-1===h&&(h=i),i-h+1===l)return h*o}else-1!==h&&(i-=i-h),h=-1}else for(r+l>a&&(r=a-l),i=r;i>=0;i--){for(var u=!0,p=0;p<l;p++)if(c(e,i+p)!==c(t,p)){u=!1;break}if(u)return i}return-1}function I(e,t,r,n){r=Number(r)||0;var s=e.length-r;n?(n=Number(n))>s&&(n=s):n=s;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))return o;e[r+o]=a}return o}function M(e,t,r,n){return H(X(t,e.length-r),e,r,n)}function N(e,t,r,n){return H(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function T(e,t,r,n){return N(e,t,r,n)}function R(e,t,r,n){return H(J(t),e,r,n)}function k(e,t,r,n){return H(function(e,t){for(var r,n,s,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,s=r%256,i.push(s),i.push(n);return i}(t,e.length-r),e,r,n)}function O(e,t,r){return 0===t&&r===e.length?a(e):a(e.slice(t,r))}function D(e,t,r){r=Math.min(e.length,r);for(var n=[],s=t;s<r;){var i,o,a,l,c=e[s],h=null,u=c>239?4:c>223?3:c>191?2:1;if(s+u<=r)switch(u){case 1:c<128&&(h=c);break;case 2:128==(192&(i=e[s+1]))&&(l=(31&c)<<6|63&i)>127&&(h=l);break;case 3:i=e[s+1],o=e[s+2],128==(192&i)&&128==(192&o)&&(l=(15&c)<<12|(63&i)<<6|63&o)>2047&&(l<55296||l>57343)&&(h=l);break;case 4:i=e[s+1],o=e[s+2],a=e[s+3],128==(192&i)&&128==(192&o)&&128==(192&a)&&(l=(15&c)<<18|(63&i)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(h=l)}null===h?(h=65533,u=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),s+=u}return function(e){var t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=P));return r}(n)}f.TYPED_ARRAY_SUPPORT=void 0===e.TYPED_ARRAY_SUPPORT||e.TYPED_ARRAY_SUPPORT,p(),f.poolSize=8192,f._augment=function(e){return e.__proto__=f.prototype,e},f.from=function(e,t,r){return m(null,e,t,r)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]),f.alloc=function(e,t,r){return function(e,t,r,n){return g(t),t<=0?d(e,t):void 0!==r?"string"==typeof n?d(e,t).fill(r,n):d(e,t).fill(r):d(e,t)}(null,e,t,r)},f.allocUnsafe=function(e){return y(null,e)},f.allocUnsafeSlow=function(e){return y(null,e)},f.isBuffer=function(e){return null!=e&&(!!e._isBuffer||K(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&K(e.slice(0,0))}(e))},f.compare=function(e,t){if(!b(e)||!b(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,s=0,i=Math.min(r,n);s<i;++s)if(e[s]!==t[s]){r=e[s],n=t[s];break}return r<n?-1:n<r?1:0},f.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(e,t){if(!u(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return f.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=f.allocUnsafe(t),s=0;for(r=0;r<e.length;++r){var i=e[r];if(!b(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,s),s+=i.length}return n},f.byteLength=C,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)x(this,t,t+1);return this},f.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)x(this,t,t+3),x(this,t+1,t+2);return this},f.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)x(this,t,t+7),x(this,t+1,t+6),x(this,t+2,t+5),x(this,t+3,t+4);return this},f.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?D(this,0,e):S.apply(this,arguments)},f.prototype.equals=function(e){if(!b(e))throw new TypeError("Argument must be a Buffer");return this===e||0===f.compare(this,e)},f.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},f.prototype.compare=function(e,t,r,n,s){if(!b(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===s&&(s=this.length),t<0||r>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=r)return 0;if(n>=s)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(s>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),a=Math.min(i,o),l=this.slice(n,s),c=e.slice(t,r),h=0;h<a;++h)if(l[h]!==c[h]){i=l[h],o=c[h];break}return i<o?-1:o<i?1:0},f.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},f.prototype.indexOf=function(e,t,r){return E(this,e,t,r,!0)},f.prototype.lastIndexOf=function(e,t,r){return E(this,e,t,r,!1)},f.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var s=this.length-t;if((void 0===r||r>s)&&(r=s),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return I(this,e,t,r);case"utf8":case"utf-8":return M(this,e,t,r);case"ascii":return N(this,e,t,r);case"latin1":case"binary":return T(this,e,t,r);case"base64":return R(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function _(e,t,r){var n="";r=Math.min(e.length,r);for(var s=t;s<r;++s)n+=String.fromCharCode(127&e[s]);return n}function L(e,t,r){var n="";r=Math.min(e.length,r);for(var s=t;s<r;++s)n+=String.fromCharCode(e[s]);return n}function F(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var s="",i=t;i<r;++i)s+=Z(e[i]);return s}function B(e,t,r){for(var n=e.slice(t,r),s="",i=0;i<n.length;i+=2)s+=String.fromCharCode(n[i]+256*n[i+1]);return s}function U(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function $(e,t,r,n,s,i){if(!b(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function z(e,t,r,n){t<0&&(t=65535+t+1);for(var s=0,i=Math.min(e.length-r,2);s<i;++s)e[r+s]=(t&255<<8*(n?s:1-s))>>>8*(n?s:1-s)}function j(e,t,r,n){t<0&&(t=4294967295+t+1);for(var s=0,i=Math.min(e.length-r,4);s<i;++s)e[r+s]=t>>>8*(n?s:3-s)&255}function Y(e,t,r,n,s,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function V(e,t,r,n,s){return s||Y(e,0,r,4),c(e,t,r,n,23,4),r+4}function G(e,t,r,n,s){return s||Y(e,0,r,8),c(e,t,r,n,52,8),r+8}f.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),f.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=f.prototype;else{var s=t-e;r=new f(s,void 0);for(var i=0;i<s;++i)r[i]=this[i+e]}return r},f.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||U(e,t,this.length);for(var n=this[e],s=1,i=0;++i<t&&(s*=256);)n+=this[e+i]*s;return n},f.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||U(e,t,this.length);for(var n=this[e+--t],s=1;t>0&&(s*=256);)n+=this[e+--t]*s;return n},f.prototype.readUInt8=function(e,t){return t||U(e,1,this.length),this[e]},f.prototype.readUInt16LE=function(e,t){return t||U(e,2,this.length),this[e]|this[e+1]<<8},f.prototype.readUInt16BE=function(e,t){return t||U(e,2,this.length),this[e]<<8|this[e+1]},f.prototype.readUInt32LE=function(e,t){return t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},f.prototype.readUInt32BE=function(e,t){return t||U(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},f.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||U(e,t,this.length);for(var n=this[e],s=1,i=0;++i<t&&(s*=256);)n+=this[e+i]*s;return n>=(s*=128)&&(n-=Math.pow(2,8*t)),n},f.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||U(e,t,this.length);for(var n=t,s=1,i=this[e+--n];n>0&&(s*=256);)i+=this[e+--n]*s;return i>=(s*=128)&&(i-=Math.pow(2,8*t)),i},f.prototype.readInt8=function(e,t){return t||U(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},f.prototype.readInt16LE=function(e,t){t||U(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt16BE=function(e,t){t||U(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt32LE=function(e,t){return t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},f.prototype.readInt32BE=function(e,t){return t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},f.prototype.readFloatLE=function(e,t){return t||U(e,4,this.length),l(this,e,!0,23,4)},f.prototype.readFloatBE=function(e,t){return t||U(e,4,this.length),l(this,e,!1,23,4)},f.prototype.readDoubleLE=function(e,t){return t||U(e,8,this.length),l(this,e,!0,52,8)},f.prototype.readDoubleBE=function(e,t){return t||U(e,8,this.length),l(this,e,!1,52,8)},f.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||$(this,e,t,r,Math.pow(2,8*r)-1,0);var s=1,i=0;for(this[t]=255&e;++i<r&&(s*=256);)this[t+i]=e/s&255;return t+r},f.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||$(this,e,t,r,Math.pow(2,8*r)-1,0);var s=r-1,i=1;for(this[t+s]=255&e;--s>=0&&(i*=256);)this[t+s]=e/i&255;return t+r},f.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||$(this,e,t,1,255,0),f.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},f.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||$(this,e,t,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):z(this,e,t,!0),t+2},f.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||$(this,e,t,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):z(this,e,t,!1),t+2},f.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||$(this,e,t,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):j(this,e,t,!0),t+4},f.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||$(this,e,t,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},f.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var s=Math.pow(2,8*r-1);$(this,e,t,r,s-1,-s)}var i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},f.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var s=Math.pow(2,8*r-1);$(this,e,t,r,s-1,-s)}var i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},f.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||$(this,e,t,1,127,-128),f.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},f.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||$(this,e,t,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):z(this,e,t,!0),t+2},f.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||$(this,e,t,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):z(this,e,t,!1),t+2},f.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||$(this,e,t,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):j(this,e,t,!0),t+4},f.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||$(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},f.prototype.writeFloatLE=function(e,t,r){return V(this,e,t,!0,r)},f.prototype.writeFloatBE=function(e,t,r){return V(this,e,t,!1,r)},f.prototype.writeDoubleLE=function(e,t,r){return G(this,e,t,!0,r)},f.prototype.writeDoubleBE=function(e,t,r){return G(this,e,t,!1,r)},f.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var s,i=n-r;if(this===e&&r<t&&t<n)for(s=i-1;s>=0;--s)e[s+t]=this[s+r];else if(i<1e3||!f.TYPED_ARRAY_SUPPORT)for(s=0;s<i;++s)e[s+t]=this[s+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},f.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var s=e.charCodeAt(0);s<256&&(e=s)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=b(e)?e:X(new f(e,n).toString()),a=o.length;for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};var W=/[^+\/0-9A-Za-z-_]/g;function Z(e){return e<16?"0"+e.toString(16):e.toString(16)}function X(e,t){var r;t=t||1/0;for(var n=e.length,s=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!s){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}s=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),s=r;continue}r=65536+(s-55296<<10|r-56320)}else s&&(t-=3)>-1&&i.push(239,191,189);if(s=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function J(e){return function(e){var t,o,a,l,c,h;s||i();var u=e.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");c="="===e[u-2]?2:"="===e[u-1]?1:0,h=new n(3*u/4-c),a=c>0?u-4:u;var p=0;for(t=0,o=0;t<a;t+=4,o+=3)l=r[e.charCodeAt(t)]<<18|r[e.charCodeAt(t+1)]<<12|r[e.charCodeAt(t+2)]<<6|r[e.charCodeAt(t+3)],h[p++]=l>>16&255,h[p++]=l>>8&255,h[p++]=255&l;return 2===c?(l=r[e.charCodeAt(t)]<<2|r[e.charCodeAt(t+1)]>>4,h[p++]=255&l):1===c&&(l=r[e.charCodeAt(t)]<<10|r[e.charCodeAt(t+1)]<<4|r[e.charCodeAt(t+2)]>>2,h[p++]=l>>8&255,h[p++]=255&l),h}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,r,n){for(var s=0;s<n&&!(s+r>=t.length||s>=e.length);++s)t[s+r]=e[s];return s}function K(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function Q(){throw new Error("setTimeout has not been defined")}function q(){throw new Error("clearTimeout has not been defined")}var ee=Q,te=q;function re(e){if(ee===setTimeout)return setTimeout(e,0);if((ee===Q||!ee)&&setTimeout)return ee=setTimeout,setTimeout(e,0);try{return ee(e,0)}catch(t){try{return ee.call(null,e,0)}catch(t){return ee.call(this,e,0)}}}"function"==typeof e.setTimeout&&(ee=setTimeout),"function"==typeof e.clearTimeout&&(te=clearTimeout);var ne,se=[],ie=!1,oe=-1;function ae(){ie&&ne&&(ie=!1,ne.length?se=ne.concat(se):oe=-1,se.length&&le())}function le(){if(!ie){var e=re(ae);ie=!0;for(var t=se.length;t;){for(ne=se,se=[];++oe<t;)ne&&ne[oe].run();oe=-1,t=se.length}ne=null,ie=!1,function(e){if(te===clearTimeout)return clearTimeout(e);if((te===q||!te)&&clearTimeout)return te=clearTimeout,clearTimeout(e);try{return te(e)}catch(t){try{return te.call(null,e)}catch(t){return te.call(this,e)}}}(e)}}function ce(e,t){this.fun=e,this.array=t}ce.prototype.run=function(){this.fun.apply(null,this.array)};function he(){}var ue=he,pe=he,de=he,fe=he,me=he,ge=he,ye=he;var we=e.performance||{},ve=we.now||we.mozNow||we.msNow||we.oNow||we.webkitNow||function(){return(new Date).getTime()};var be=new Date;var Ce={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];se.push(new ce(e,t)),1!==se.length||ie||re(le)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:ue,addListener:pe,once:de,off:fe,removeListener:me,removeAllListeners:ge,emit:ye,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*ve.call(we),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-be)/1e3}},Se=Object.defineProperty,xe=(e,t,r)=>((e,t,r)=>t in e?Se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);function Ee(){}function Ae(e,t){for(const r in t)e[r]=t[r];return e}function Ie(e){return e()}function Me(){return Object.create(null)}function Ne(e){e.forEach(Ie)}function Te(e){return"function"==typeof e}function Re(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function ke(e){const t={};for(const r in e)"$"!==r[0]&&(t[r]=e[r]);return t}function Oe(e,t){e.appendChild(t)}function De(e,t,r){e.insertBefore(t,r||null)}function Pe(e){e.parentNode&&e.parentNode.removeChild(e)}function _e(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function Le(e){return document.createElement(e)}function Fe(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Be(e){return document.createTextNode(e)}function Ue(){return Be(" ")}function $e(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function ze(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function je(e,t){t=""+t,e.data!==t&&(e.data=t)}function Ye(e,t,r,n){null==r?e.style.removeProperty(t):e.style.setProperty(t,r,"")}function Ve(e,t,r){e.classList.toggle(t,!!r)}let Ge;function We(e){Ge=e}function Ze(){if(!Ge)throw new Error("Function called outside component initialization");return Ge}function Xe(e){Ze().$$.on_mount.push(e)}function Je(e){Ze().$$.on_destroy.push(e)}function He(){const e=Ze();return(t,r,{cancelable:n=!1}={})=>{const s=e.$$.callbacks[t];if(s){const i=function(e,t,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:n})}(t,r,{cancelable:n});return s.slice().forEach((t=>{t.call(e,i)})),!i.defaultPrevented}return!0}}const Ke=[],Qe=[];let qe=[];const et=[],tt=Promise.resolve();let rt=!1;function nt(e){qe.push(e)}const st=new Set;let it=0;function ot(){if(0!==it)return;const e=Ge;do{try{for(;it<Ke.length;){const e=Ke[it];it++,We(e),at(e.$$)}}catch(e){throw Ke.length=0,it=0,e}for(We(null),Ke.length=0,it=0;Qe.length;)Qe.pop()();for(let e=0;e<qe.length;e+=1){const t=qe[e];st.has(t)||(st.add(t),t())}qe.length=0}while(Ke.length);for(;et.length;)et.pop()();rt=!1,st.clear(),We(e)}function at(e){if(null!==e.fragment){e.update(),Ne(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(nt)}}const lt=new Set;let ct;function ht(){ct={r:0,c:[],p:ct}}function ut(){ct.r||Ne(ct.c),ct=ct.p}function pt(e,t){e&&e.i&&(lt.delete(e),e.i(t))}function dt(e,t,r,n){if(e&&e.o){if(lt.has(e))return;lt.add(e),ct.c.push((()=>{lt.delete(e),n&&(r&&e.d(1),n())})),e.o(t)}else n&&n()}function ft(e){return void 0!==(null==e?void 0:e.length)?e:Array.from(e)}function mt(e){e&&e.c()}function gt(e,t,r){const{fragment:n,after_update:s}=e.$$;n&&n.m(t,r),nt((()=>{const t=e.$$.on_mount.map(Ie).filter(Te);e.$$.on_destroy?e.$$.on_destroy.push(...t):Ne(t),e.$$.on_mount=[]})),s.forEach(nt)}function yt(e,t){const r=e.$$;null!==r.fragment&&(!function(e){const t=[],r=[];qe.forEach((n=>-1===e.indexOf(n)?t.push(n):r.push(n))),r.forEach((e=>e())),qe=t}(r.after_update),Ne(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function wt(e,t){-1===e.$$.dirty[0]&&(Ke.push(e),rt||(rt=!0,tt.then(ot)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function vt(e,t,r,n,s,i,o=null,a=[-1]){const l=Ge;We(e);const c=e.$$={fragment:null,ctx:[],props:i,update:Ee,not_equal:s,bound:Me(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Me(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};o&&o(c.root);let h=!1;if(c.ctx=r?r(e,t.props||{},((t,r,...n)=>{const i=n.length?n[0]:r;return c.ctx&&s(c.ctx[t],c.ctx[t]=i)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](i),h&&wt(e,t)),r})):[],c.update(),h=!0,Ne(c.before_update),c.fragment=!!n&&n(c.ctx),t.target){if(t.hydrate){const e=(u=t.target,Array.from(u.childNodes));c.fragment&&c.fragment.l(e),e.forEach(Pe)}else c.fragment&&c.fragment.c();t.intro&&pt(e.$$.fragment),gt(e,t.target,t.anchor),ot()}var u;We(l)}class bt{constructor(){xe(this,"$$"),xe(this,"$$set")}$destroy(){yt(this,1),this.$destroy=Ee}$on(e,t){if(!Te(t))return Ee;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");var Ct,St=Object.defineProperty,xt=(e,t,r)=>((e,t,r)=>t in e?St(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r),Et=Object.defineProperty,At=(e,t,r)=>((e,t,r)=>t in e?Et(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r),It=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(It||{});function Mt(e){return e.nodeType===e.ELEMENT_NODE}class Nt{constructor(){At(this,"idNodeMap",new Map),At(this,"nodeMetaMap",new WeakMap)}getId(e){var t;if(!e)return-1;return(null==(t=this.getMeta(e))?void 0:t.id)??-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const r=t.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,t)}replace(e,t){const r=this.getNode(e);if(r){const e=this.nodeMetaMap.get(r);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Tt(){return new Nt}const Rt=new RegExp(/(max|min)-device-(width|height)/.source,"g"),kt={postcssPlugin:"postcss-custom-selectors",prepare:()=>({postcssPlugin:"postcss-custom-selectors",AtRule:function(e){e.params.match(Rt)&&(e.params=e.params.replace(Rt,"$1-$2"))}})},Ot={postcssPlugin:"postcss-hover-classes",prepare:function(){const e=[];return{Rule:function(t){-1===e.indexOf(t)&&(e.push(t),t.selectors.forEach((function(e){if(!e.includes(":"))return;const r=e.replace(/\n/g," ").split(" "),n=[];var s;r.forEach((function(e){const t=e.match(/::?([^:]+)/g);if(!t)return void n.push(e);const r=e.substr(0,e.length-t.join("").length),s=t.map((function(e){return":hover"!==e.replace(/\(.*/g,"")||e.match(/^::/)?e:".\\:"+(e=(e=(e=e.substr(1)).replace(/\(/g,"\\(")).replace(/\)/g,"\\)"))}));n.push(r+s.join(""))})),(s=n.join(" "))&&s!==e&&(t.selector+=",\n"+s)})))}}}};function Dt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Pt(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var _t={exports:{}},Lt=String,Ft=function(){return{isColorSupported:!1,reset:Lt,bold:Lt,dim:Lt,italic:Lt,underline:Lt,inverse:Lt,hidden:Lt,strikethrough:Lt,black:Lt,red:Lt,green:Lt,yellow:Lt,blue:Lt,magenta:Lt,cyan:Lt,white:Lt,gray:Lt,bgBlack:Lt,bgRed:Lt,bgGreen:Lt,bgYellow:Lt,bgBlue:Lt,bgMagenta:Lt,bgCyan:Lt,bgWhite:Lt}};_t.exports=Ft(),_t.exports.createColors=Ft;var Bt=_t.exports;const Ut=Pt(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));let $t=Bt,zt=Ut,jt=class e extends Error{constructor(t,r,n,s,i,o){super(t),this.name="CssSyntaxError",this.reason=t,i&&(this.file=i),s&&(this.source=s),o&&(this.plugin=o),void 0!==r&&void 0!==n&&("number"==typeof r?(this.line=r,this.column=n):(this.line=r.line,this.column=r.column,this.endLine=n.line,this.endColumn=n.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,e)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;null==e&&(e=$t.isColorSupported),zt&&e&&(t=zt(t));let r,n,s=t.split(/\r?\n/),i=Math.max(this.line-3,0),o=Math.min(this.line+2,s.length),a=String(o).length;if(e){let{bold:e,gray:t,red:s}=$t.createColors(!0);r=t=>e(s(t)),n=e=>t(e)}else r=n=e=>e;return s.slice(i,o).map(((e,t)=>{let s=i+1+t,o=" "+(" "+s).slice(-a)+" | ";if(s===this.line){let t=n(o.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return r(">")+n(o)+e+"\n "+t+r("^")}return" "+n(o)+e})).join("\n")}toString(){let e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}};var Yt=jt;jt.default=jt;var Vt={};Vt.isClean=Symbol("isClean"),Vt.my=Symbol("my");const Gt={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};let Wt=class{constructor(e){this.builder=e}atrule(e,t){let r="@"+e.name,n=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?r+=e.raws.afterName:n&&(r+=" "),e.nodes)this.block(e,r+n);else{let s=(e.raws.between||"")+(t?";":"");this.builder(r+n+s,e)}}beforeAfter(e,t){let r;r="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");let n=e.parent,s=0;for(;n&&"root"!==n.type;)s+=1,n=n.parent;if(r.includes("\n")){let t=this.raw(e,null,"indent");if(t.length)for(let e=0;e<s;e++)r+=t}return r}block(e,t){let r,n=this.raw(e,"between","beforeOpen");this.builder(t+n+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let r=this.raw(e,"semicolon");for(let n=0;n<e.nodes.length;n++){let s=e.nodes[n],i=this.raw(s,"before");i&&this.builder(i),this.stringify(s,t!==n||r)}}comment(e){let t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){let r=this.raw(e,"between","colon"),n=e.prop+r+this.rawValue(e,"value");e.important&&(n+=e.raws.important||" !important"),t&&(n+=";"),this.builder(n,e)}document(e){this.body(e)}raw(e,t,r){let n;if(r||(r=t),t&&(n=e.raws[t],void 0!==n))return n;let s=e.parent;if("before"===r){if(!s||"root"===s.type&&s.first===e)return"";if(s&&"document"===s.type)return""}if(!s)return Gt[r];let i=e.root();if(i.rawCache||(i.rawCache={}),void 0!==i.rawCache[r])return i.rawCache[r];if("before"===r||"after"===r)return this.beforeAfter(e,r);{let s="raw"+((o=r)[0].toUpperCase()+o.slice(1));this[s]?n=this[s](i,e):i.walk((e=>{if(n=e.raws[t],void 0!==n)return!1}))}var o;return void 0===n&&(n=Gt[r]),i.rawCache[r]=n,n}rawBeforeClose(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return t=e.raws.after,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let r;return e.walkComments((e=>{if(void 0!==e.raws.before)return r=e.raws.before,r.includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){let r;return e.walkDecls((e=>{if(void 0!==e.raws.before)return r=e.raws.before,r.includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){let t;return e.walk((e=>{if("decl"!==e.type&&(t=e.raws.between,void 0!==t))return!1})),t}rawBeforeRule(e){let t;return e.walk((r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&void 0!==r.raws.before)return t=r.raws.before,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls((e=>{if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1})),t}rawEmptyBody(e){let t;return e.walk((e=>{if(e.nodes&&0===e.nodes.length&&(t=e.raws.after,void 0!==t))return!1})),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk((r=>{let n=r.parent;if(n&&n!==e&&n.parent&&n.parent===e&&void 0!==r.raws.before){let e=r.raws.before.split("\n");return t=e[e.length-1],t=t.replace(/\S/g,""),!1}})),t}rawSemicolon(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&(t=e.raws.semicolon,void 0!==t))return!1})),t}rawValue(e,t){let r=e[t],n=e.raws[t];return n&&n.value===r?n.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};var Zt=Wt;Wt.default=Wt;let Xt=Zt;function Jt(e,t){new Xt(t).stringify(e)}var Ht=Jt;Jt.default=Jt;let{isClean:Kt,my:Qt}=Vt,qt=Yt,er=Zt,tr=Ht;function rr(e,t){let r=new e.constructor;for(let n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;if("proxyCache"===n)continue;let s=e[n],i=typeof s;"parent"===n&&"object"===i?t&&(r[n]=t):"source"===n?r[n]=s:Array.isArray(s)?r[n]=s.map((e=>rr(e,r))):("object"===i&&null!==s&&(s=rr(s)),r[n]=s)}return r}let nr=class{constructor(e={}){this.raws={},this[Kt]=!1,this[Qt]=!0;for(let t in e)if("nodes"===t){this.nodes=[];for(let r of e[t])"function"==typeof r.clone?this.append(r.clone()):this.append(r)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=rr(this);for(let r in e)t[r]=e[r];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:r,start:n}=this.rangeBy(t);return this.source.input.error(e,{column:n.column,line:n.line},{column:r.column,line:r.line},t)}return new qt(e)}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t],set:(e,t,r)=>(e[t]===r||(e[t]=r,"prop"!==t&&"value"!==t&&"name"!==t&&"params"!==t&&"important"!==t&&"text"!==t||e.markDirty()),!0)}}markDirty(){if(this[Kt]){this[Kt]=!1;let e=this;for(;e=e.parent;)e[Kt]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let r=this.source.start;if(e.index)r=this.positionInside(e.index,t);else if(e.word){let n=(t=this.toString()).indexOf(e.word);-1!==n&&(r=this.positionInside(n,t))}return r}positionInside(e,t){let r=t||this.toString(),n=this.source.start.column,s=this.source.start.line;for(let t=0;t<e;t++)"\n"===r[t]?(n=1,s+=1):n+=1;return{column:n,line:s}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let n=this.toString(),s=n.indexOf(e.word);-1!==s&&(t=this.positionInside(s,n),r=this.positionInside(s+e.word.length,n))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}raw(e,t){return(new er).raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,r=!1;for(let n of e)n===this?r=!0:r?(this.parent.insertAfter(t,n),t=n):this.parent.insertBefore(t,n);r||this.remove()}return this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){let r={},n=null==t;t=t||new Map;let s=0;for(let e in this){if(!Object.prototype.hasOwnProperty.call(this,e))continue;if("parent"===e||"proxyCache"===e)continue;let n=this[e];if(Array.isArray(n))r[e]=n.map((e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e));else if("object"==typeof n&&n.toJSON)r[e]=n.toJSON(null,t);else if("source"===e){let i=t.get(n.input);null==i&&(i=s,t.set(n.input,s),s++),r[e]={end:n.end,inputId:i,start:n.start}}else r[e]=n}return n&&(r.inputs=[...t.keys()].map((e=>e.toJSON()))),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=tr){e.stringify&&(e=e.stringify);let t="";return e(this,(e=>{t+=e})),t}warn(e,t,r){let n={node:this};for(let e in r)n[e]=r[e];return e.warn(t,n)}get proxyOf(){return this}};var sr=nr;nr.default=nr;let ir=sr,or=class extends ir{constructor(e){e&&void 0!==e.value&&"string"!=typeof e.value&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}};var ar=or;or.default=or;var lr={nanoid:(e=21)=>{let t="",r=e;for(;r--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},customAlphabet:(e,t=21)=>(r=t)=>{let n="",s=r;for(;s--;)n+=e[Math.random()*e.length|0];return n}};let{SourceMapConsumer:cr,SourceMapGenerator:hr}=Ut,{existsSync:ur,readFileSync:pr}=Ut,{dirname:dr,join:fr}=Ut;let mr=class{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=t.map?t.map.prev:void 0,n=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=dr(this.mapFile)),n&&(this.text=n)}consumer(){return this.consumerCache||(this.consumerCache=new cr(this.text)),this.consumerCache}decodeInline(e){if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e))return t=e.substr(RegExp.lastMatch.length),f?f.from(t,"base64").toString():window.atob(t);var t;let r=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+r)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let r=e.lastIndexOf(t.pop()),n=e.indexOf("*/",r);r>-1&&n>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,n)))}loadFile(e){if(this.root=dr(e),ur(e))return this.mapFile=e,pr(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"!=typeof t){if(t instanceof cr)return hr.fromSourceMap(t).toString();if(t instanceof hr)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}{let r=t(e);if(r){let e=this.loadFile(r);if(!e)throw new Error("Unable to load previous source map: "+r.toString());return e}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let t=this.annotation;return e&&(t=fr(dr(e),t)),this.loadFile(t)}}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var gr=mr;mr.default=mr;let{SourceMapConsumer:yr,SourceMapGenerator:wr}=Ut,{fileURLToPath:vr,pathToFileURL:br}=Ut,{isAbsolute:Cr,resolve:Sr}=Ut,{nanoid:xr}=lr,Er=Ut,Ar=Yt,Ir=gr,Mr=Symbol("fromOffsetCache"),Nr=Boolean(yr&&wr),Tr=Boolean(Sr&&Cr),Rr=class{constructor(e,t={}){if(null==e||"object"==typeof e&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),"\ufeff"===this.css[0]||"￾"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!Tr||/^\w+:\/\//.test(t.from)||Cr(t.from)?this.file=t.from:this.file=Sr(t.from)),Tr&&Nr){let e=new Ir(this.css,t);if(e.text){this.map=e;let t=e.consumer().file;!this.file&&t&&(this.file=this.mapResolve(t))}}this.file||(this.id="<input css "+xr(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,r,n={}){let s,i,o;if(t&&"object"==typeof t){let e=t,n=r;if("number"==typeof e.offset){let n=this.fromOffset(e.offset);t=n.line,r=n.col}else t=e.line,r=e.column;if("number"==typeof n.offset){let e=this.fromOffset(n.offset);i=e.line,o=e.col}else i=n.line,o=n.column}else if(!r){let e=this.fromOffset(t);t=e.line,r=e.col}let a=this.origin(t,r,i,o);return s=a?new Ar(e,void 0===a.endLine?a.line:{column:a.column,line:a.line},void 0===a.endLine?a.column:{column:a.endColumn,line:a.endLine},a.source,a.file,n.plugin):new Ar(e,void 0===i?t:{column:r,line:t},void 0===i?r:{column:o,line:i},this.css,this.file,n.plugin),s.input={column:r,endColumn:o,endLine:i,line:t,source:this.css},this.file&&(br&&(s.input.url=br(this.file).toString()),s.input.file=this.file),s}fromOffset(e){let t,r;if(this[Mr])r=this[Mr];else{let e=this.css.split("\n");r=new Array(e.length);let t=0;for(let n=0,s=e.length;n<s;n++)r[n]=t,t+=e[n].length+1;this[Mr]=r}t=r[r.length-1];let n=0;if(e>=t)n=r.length-1;else{let t,s=r.length-2;for(;n<s;)if(t=n+(s-n>>1),e<r[t])s=t-1;else{if(!(e>=r[t+1])){n=t;break}n=t+1}}return{col:e-r[n]+1,line:n+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:Sr(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,r,n){if(!this.map)return!1;let s,i,o=this.map.consumer(),a=o.originalPositionFor({column:t,line:e});if(!a.source)return!1;"number"==typeof r&&(s=o.originalPositionFor({column:n,line:r})),i=Cr(a.source)?br(a.source):new URL(a.source,this.map.consumer().sourceRoot||br(this.map.mapFile));let l={column:a.column,endColumn:s&&s.column,endLine:s&&s.line,line:a.line,url:i.toString()};if("file:"===i.protocol){if(!vr)throw new Error("file: protocol is not available in this PostCSS build");l.file=vr(i)}let c=o.sourceContentFor(a.source);return c&&(l.source=c),l}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};var kr=Rr;Rr.default=Rr,Er&&Er.registerInput&&Er.registerInput(Rr);let{SourceMapConsumer:Or,SourceMapGenerator:Dr}=Ut,{dirname:Pr,relative:_r,resolve:Lr,sep:Fr}=Ut,{pathToFileURL:Br}=Ut,Ur=kr,$r=Boolean(Or&&Dr),zr=Boolean(Pr&&Lr&&_r&&Fr);var jr=class{constructor(e,t,r,n){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=n,this.originalCSS=n,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t,r=this.toUrl(this.path(e.file)),n=e.root||Pr(e.file);!1===this.mapOpts.sourcesContent?(t=new Or(e.text),t.sourcesContent&&(t.sourcesContent=null)):t=e.consumer(),this.map.applySourceMap(t,r,this.toUrl(this.path(n)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],"comment"===e.type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),zr&&$r&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,(t=>{e+=t})),[e]}}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=Dr.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new Dr({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new Dr({file:this.outputFile(),ignoreInvalidMapping:!0});let e,t,r=1,n=1,s="<no source>",i={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,((o,a,l)=>{if(this.css+=o,a&&"end"!==l&&(i.generated.line=r,i.generated.column=n-1,a.source&&a.source.start?(i.source=this.sourcePath(a),i.original.line=a.source.start.line,i.original.column=a.source.start.column-1,this.map.addMapping(i)):(i.source=s,i.original.line=1,i.original.column=0,this.map.addMapping(i))),e=o.match(/\n/g),e?(r+=e.length,t=o.lastIndexOf("\n"),n=o.length-t):n+=o.length,a&&"start"!==l){let e=a.parent||{raws:{}};("decl"===a.type||"atrule"===a.type&&!a.nodes)&&a===e.last&&!e.raws.semicolon||(a.source&&a.source.end?(i.source=this.sourcePath(a),i.original.line=a.source.end.line,i.original.column=a.source.end.column-1,i.generated.line=r,i.generated.column=n-2,this.map.addMapping(i)):(i.source=s,i.original.line=1,i.original.column=0,i.generated.line=r,i.generated.column=n-1,this.map.addMapping(i)))}}))}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((e=>e.annotation)))}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;let e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some((e=>e.inline)))}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((e=>e.withContent()))}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute)return e;if(60===e.charCodeAt(0))return e;if(/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let r=this.opts.to?Pr(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(r=Pr(Lr(r,this.mapOpts.annotation)));let n=_r(r,e);return this.memoizedPaths.set(e,n),n}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}}));else{let e=new Ur(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk((t=>{if(t.source){let r=t.source.input.from;if(r&&!e[r]){e[r]=!0;let n=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(n,t.source.input.css)}}}));else if(this.css){let e=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(e,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return f?f.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(Br){let t=Br(e).toString();return this.memoizedFileURLs.set(e,t),t}throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;"\\"===Fr&&(e=e.replace(/\\/g,"/"));let r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}};let Yr=sr,Vr=class extends Yr{constructor(e){super(e),this.type="comment"}};var Gr=Vr;Vr.default=Vr;let Wr,Zr,Xr,Jr,{isClean:Hr,my:Kr}=Vt,Qr=ar,qr=Gr,en=sr;function tn(e){return e.map((e=>(e.nodes&&(e.nodes=tn(e.nodes)),delete e.source,e)))}function rn(e){if(e[Hr]=!1,e.proxyOf.nodes)for(let t of e.proxyOf.nodes)rn(t)}let nn=class e extends en{append(...e){for(let t of e){let e=this.normalize(t,this.last);for(let t of e)this.proxyOf.nodes.push(t)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t,r,n=this.getIterator();for(;this.indexes[n]<this.proxyOf.nodes.length&&(t=this.indexes[n],r=e(this.proxyOf.nodes[t],t),!1!==r);)this.indexes[n]+=1;return delete this.indexes[n],r}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:e[t]?"each"===t||"string"==typeof t&&t.startsWith("walk")?(...r)=>e[t](...r.map((e=>"function"==typeof e?(t,r)=>e(t.toProxy(),r):e))):"every"===t||"some"===t?r=>e[t](((e,...t)=>r(e.toProxy(),...t))):"root"===t?()=>e.root().toProxy():"nodes"===t?e.nodes.map((e=>e.toProxy())):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t],set:(e,t,r)=>(e[t]===r||(e[t]=r,"name"!==t&&"params"!==t&&"selector"!==t||e.markDirty()),!0)}}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let r,n=this.index(e),s=this.normalize(t,this.proxyOf.nodes[n]).reverse();n=this.index(e);for(let e of s)this.proxyOf.nodes.splice(n+1,0,e);for(let e in this.indexes)r=this.indexes[e],n<r&&(this.indexes[e]=r+s.length);return this.markDirty(),this}insertBefore(e,t){let r,n=this.index(e),s=0===n&&"prepend",i=this.normalize(t,this.proxyOf.nodes[n],s).reverse();n=this.index(e);for(let e of i)this.proxyOf.nodes.splice(n,0,e);for(let e in this.indexes)r=this.indexes[e],n<=r&&(this.indexes[e]=r+i.length);return this.markDirty(),this}normalize(t,r){if("string"==typeof t)t=tn(Wr(t).nodes);else if(void 0===t)t=[];else if(Array.isArray(t)){t=t.slice(0);for(let e of t)e.parent&&e.parent.removeChild(e,"ignore")}else if("root"===t.type&&"document"!==this.type){t=t.nodes.slice(0);for(let e of t)e.parent&&e.parent.removeChild(e,"ignore")}else if(t.type)t=[t];else if(t.prop){if(void 0===t.value)throw new Error("Value field is missed in node creation");"string"!=typeof t.value&&(t.value=String(t.value)),t=[new Qr(t)]}else if(t.selector)t=[new Zr(t)];else if(t.name)t=[new Xr(t)];else{if(!t.text)throw new Error("Unknown node type in node creation");t=[new qr(t)]}return t.map((t=>(t[Kr]||e.rebuild(t),(t=t.proxyOf).parent&&t.parent.removeChild(t),t[Hr]&&rn(t),void 0===t.raws.before&&r&&void 0!==r.raws.before&&(t.raws.before=r.raws.before.replace(/\S/g,"")),t.parent=this.proxyOf,t)))}prepend(...e){e=e.reverse();for(let t of e){let e=this.normalize(t,this.first,"prepend").reverse();for(let t of e)this.proxyOf.nodes.unshift(t);for(let t in this.indexes)this.indexes[t]=this.indexes[t]+e.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){let t;e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);for(let r in this.indexes)t=this.indexes[r],t>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls((n=>{t.props&&!t.props.includes(n.prop)||t.fast&&!n.value.includes(t.fast)||(n.value=n.value.replace(e,r))})),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each(((t,r)=>{let n;try{n=e(t,r)}catch(e){throw t.addToError(e)}return!1!==n&&t.walk&&(n=t.walk(e)),n}))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("atrule"===r.type&&e.test(r.name))return t(r,n)})):this.walk(((r,n)=>{if("atrule"===r.type&&r.name===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("atrule"===e.type)return t(e,r)})))}walkComments(e){return this.walk(((t,r)=>{if("comment"===t.type)return e(t,r)}))}walkDecls(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("decl"===r.type&&e.test(r.prop))return t(r,n)})):this.walk(((r,n)=>{if("decl"===r.type&&r.prop===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("decl"===e.type)return t(e,r)})))}walkRules(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("rule"===r.type&&e.test(r.selector))return t(r,n)})):this.walk(((r,n)=>{if("rule"===r.type&&r.selector===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("rule"===e.type)return t(e,r)})))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};nn.registerParse=e=>{Wr=e},nn.registerRule=e=>{Zr=e},nn.registerAtRule=e=>{Xr=e},nn.registerRoot=e=>{Jr=e};var sn=nn;nn.default=nn,nn.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,Xr.prototype):"rule"===e.type?Object.setPrototypeOf(e,Zr.prototype):"decl"===e.type?Object.setPrototypeOf(e,Qr.prototype):"comment"===e.type?Object.setPrototypeOf(e,qr.prototype):"root"===e.type&&Object.setPrototypeOf(e,Jr.prototype),e[Kr]=!0,e.nodes&&e.nodes.forEach((e=>{nn.rebuild(e)}))};let on,an,ln=sn,cn=class extends ln{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new on(new an,this,e).stringify()}};cn.registerLazyResult=e=>{on=e},cn.registerProcessor=e=>{an=e};var hn=cn;cn.default=cn;let un=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let e=t.node.rangeBy(t);this.line=e.start.line,this.column=e.start.column,this.endLine=e.end.line,this.endColumn=e.end.column}for(let e in t)this[e]=t[e]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var pn=un;un.default=un;let dn=pn,fn=class{constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let r=new dn(e,t);return this.messages.push(r),r}warnings(){return this.messages.filter((e=>"warning"===e.type))}get content(){return this.css}};var mn=fn;fn.default=fn;const gn="'".charCodeAt(0),yn='"'.charCodeAt(0),wn="\\".charCodeAt(0),vn="/".charCodeAt(0),bn="\n".charCodeAt(0),Cn=" ".charCodeAt(0),Sn="\f".charCodeAt(0),xn="\t".charCodeAt(0),En="\r".charCodeAt(0),An="[".charCodeAt(0),In="]".charCodeAt(0),Mn="(".charCodeAt(0),Nn=")".charCodeAt(0),Tn="{".charCodeAt(0),Rn="}".charCodeAt(0),kn=";".charCodeAt(0),On="*".charCodeAt(0),Dn=":".charCodeAt(0),Pn="@".charCodeAt(0),_n=/[\t\n\f\r "#'()/;[\\\]{}]/g,Ln=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,Fn=/.[\r\n"'(/\\]/,Bn=/[\da-f]/i;let Un=sn,$n=class extends Un{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};var zn=$n;$n.default=$n,Un.registerAtRule($n);let jn,Yn,Vn=sn,Gn=class extends Vn{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,r){let n=super.normalize(e);if(t)if("prepend"===r)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let e of n)e.raws.before=t.raws.before;return n}removeChild(e,t){let r=this.index(e);return!t&&0===r&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(e={}){return new jn(new Yn,this,e).stringify()}};Gn.registerLazyResult=e=>{jn=e},Gn.registerProcessor=e=>{Yn=e};var Wn=Gn;Gn.default=Gn,Vn.registerRoot(Gn);let Zn={comma:e=>Zn.split(e,[","],!0),space:e=>Zn.split(e,[" ","\n","\t"]),split(e,t,r){let n=[],s="",i=!1,o=0,a=!1,l="",c=!1;for(let r of e)c?c=!1:"\\"===r?c=!0:a?r===l&&(a=!1):'"'===r||"'"===r?(a=!0,l=r):"("===r?o+=1:")"===r?o>0&&(o-=1):0===o&&t.includes(r)&&(i=!0),i?(""!==s&&n.push(s.trim()),s="",i=!1):s+=r;return(r||""!==s)&&n.push(s.trim()),n}};var Xn=Zn;Zn.default=Zn;let Jn=sn,Hn=Xn,Kn=class extends Jn{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return Hn.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}};var Qn=Kn;Kn.default=Kn,Jn.registerRule(Kn);let qn=ar,es=function(e,t={}){let r,n,s,i,o,a,l,c,h,u,p=e.css.valueOf(),d=t.ignoreErrors,f=p.length,m=0,g=[],y=[];function w(t){throw e.error("Unclosed "+t,m)}return{back:function(e){y.push(e)},endOfFile:function(){return 0===y.length&&m>=f},nextToken:function(e){if(y.length)return y.pop();if(m>=f)return;let t=!!e&&e.ignoreUnclosed;switch(r=p.charCodeAt(m),r){case bn:case Cn:case xn:case En:case Sn:n=m;do{n+=1,r=p.charCodeAt(n)}while(r===Cn||r===bn||r===xn||r===En||r===Sn);u=["space",p.slice(m,n)],m=n-1;break;case An:case In:case Tn:case Rn:case Dn:case kn:case Nn:{let e=String.fromCharCode(r);u=[e,e,m];break}case Mn:if(c=g.length?g.pop()[1]:"",h=p.charCodeAt(m+1),"url"===c&&h!==gn&&h!==yn&&h!==Cn&&h!==bn&&h!==xn&&h!==Sn&&h!==En){n=m;do{if(a=!1,n=p.indexOf(")",n+1),-1===n){if(d||t){n=m;break}w("bracket")}for(l=n;p.charCodeAt(l-1)===wn;)l-=1,a=!a}while(a);u=["brackets",p.slice(m,n+1),m,n],m=n}else n=p.indexOf(")",m+1),i=p.slice(m,n+1),-1===n||Fn.test(i)?u=["(","(",m]:(u=["brackets",i,m,n],m=n);break;case gn:case yn:s=r===gn?"'":'"',n=m;do{if(a=!1,n=p.indexOf(s,n+1),-1===n){if(d||t){n=m+1;break}w("string")}for(l=n;p.charCodeAt(l-1)===wn;)l-=1,a=!a}while(a);u=["string",p.slice(m,n+1),m,n],m=n;break;case Pn:_n.lastIndex=m+1,_n.test(p),n=0===_n.lastIndex?p.length-1:_n.lastIndex-2,u=["at-word",p.slice(m,n+1),m,n],m=n;break;case wn:for(n=m,o=!0;p.charCodeAt(n+1)===wn;)n+=1,o=!o;if(r=p.charCodeAt(n+1),o&&r!==vn&&r!==Cn&&r!==bn&&r!==xn&&r!==En&&r!==Sn&&(n+=1,Bn.test(p.charAt(n)))){for(;Bn.test(p.charAt(n+1));)n+=1;p.charCodeAt(n+1)===Cn&&(n+=1)}u=["word",p.slice(m,n+1),m,n],m=n;break;default:r===vn&&p.charCodeAt(m+1)===On?(n=p.indexOf("*/",m+2)+1,0===n&&(d||t?n=p.length:w("comment")),u=["comment",p.slice(m,n+1),m,n],m=n):(Ln.lastIndex=m+1,Ln.test(p),n=0===Ln.lastIndex?p.length-1:Ln.lastIndex-2,u=["word",p.slice(m,n+1),m,n],g.push(u),m=n)}return m++,u},position:function(){return m}}},ts=Gr,rs=zn,ns=Wn,ss=Qn;const is={empty:!0,space:!0};var os=class{constructor(e){this.input=e,this.root=new ns,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t,r,n,s=new rs;s.name=e[1].slice(1),""===s.name&&this.unnamedAtrule(s,e),this.init(s,e[2]);let i=!1,o=!1,a=[],l=[];for(;!this.tokenizer.endOfFile();){if(t=(e=this.tokenizer.nextToken())[0],"("===t||"["===t?l.push("("===t?")":"]"):"{"===t&&l.length>0?l.push("}"):t===l[l.length-1]&&l.pop(),0===l.length){if(";"===t){s.source.end=this.getPosition(e[2]),s.source.end.offset++,this.semicolon=!0;break}if("{"===t){o=!0;break}if("}"===t){if(a.length>0){for(n=a.length-1,r=a[n];r&&"space"===r[0];)r=a[--n];r&&(s.source.end=this.getPosition(r[3]||r[2]),s.source.end.offset++)}this.end(e);break}a.push(e)}else a.push(e);if(this.tokenizer.endOfFile()){i=!0;break}}s.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(s.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(s,"params",a),i&&(e=a[a.length-1],s.source.end=this.getPosition(e[3]||e[2]),s.source.end.offset++,this.spaces=s.raws.between,s.raws.between="")):(s.raws.afterName="",s.params=""),o&&(s.nodes=[],this.current=s)}checkMissedSemicolon(e){let t=this.colon(e);if(!1===t)return;let r,n=0;for(let s=t-1;s>=0&&(r=e[s],"space"===r[0]||(n+=1,2!==n));s--);throw this.input.error("Missed semicolon","word"===r[0]?r[3]+1:r[2])}colon(e){let t,r,n,s=0;for(let[i,o]of e.entries()){if(t=o,r=t[0],"("===r&&(s+=1),")"===r&&(s-=1),0===s&&":"===r){if(n){if("word"===n[0]&&"progid"===n[1])continue;return i}this.doubleColon(t)}n=t}return!1}comment(e){let t=new ts;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{let e=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=e[2],t.raws.left=e[1],t.raws.right=e[3]}}createTokenizer(){this.tokenizer=es(this.input)}decl(e,t){let r=new qn;this.init(r,e[0][2]);let n,s=e[e.length-1];for(";"===s[0]&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(s[3]||s[2]||function(e){for(let t=e.length-1;t>=0;t--){let r=e[t],n=r[3]||r[2];if(n)return n}}(e)),r.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){let t=e[0][0];if(":"===t||"space"===t||"comment"===t)break;r.prop+=e.shift()[1]}for(r.raws.between="";e.length;){if(n=e.shift(),":"===n[0]){r.raws.between+=n[1];break}"word"===n[0]&&/\w/.test(n[1])&&this.unknownWord([n]),r.raws.between+=n[1]}"_"!==r.prop[0]&&"*"!==r.prop[0]||(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));let i,o=[];for(;e.length&&(i=e[0][0],"space"===i||"comment"===i);)o.push(e.shift());this.precheckMissedSemicolon(e);for(let t=e.length-1;t>=0;t--){if(n=e[t],"!important"===n[1].toLowerCase()){r.important=!0;let n=this.stringFrom(e,t);n=this.spacesFromEnd(e)+n," !important"!==n&&(r.raws.important=n);break}if("important"===n[1].toLowerCase()){let n=e.slice(0),s="";for(let e=t;e>0;e--){let t=n[e][0];if(0===s.trim().indexOf("!")&&"space"!==t)break;s=n.pop()[1]+s}0===s.trim().indexOf("!")&&(r.important=!0,r.raws.important=s,e=n)}if("space"!==n[0]&&"comment"!==n[0])break}e.some((e=>"space"!==e[0]&&"comment"!==e[0]))&&(r.raws.between+=o.map((e=>e[1])).join(""),o=[]),this.raw(r,"value",o.concat(e),t),r.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new ss;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let e=this.current.nodes[this.current.nodes.length-1];e&&"rule"===e.type&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){let t=!1,r=null,n=!1,s=null,i=[],o=e[1].startsWith("--"),a=[],l=e;for(;l;){if(r=l[0],a.push(l),"("===r||"["===r)s||(s=l),i.push("("===r?")":"]");else if(o&&n&&"{"===r)s||(s=l),i.push("}");else if(0===i.length){if(";"===r){if(n)return void this.decl(a,o);break}if("{"===r)return void this.rule(a);if("}"===r){this.tokenizer.back(a.pop()),t=!0;break}":"===r&&(n=!0)}else r===i[i.length-1]&&(i.pop(),0===i.length&&(s=null));l=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),i.length>0&&this.unclosedBracket(s),t&&n){if(!o)for(;a.length&&(l=a[a.length-1][0],"space"===l||"comment"===l);)this.tokenizer.back(a.pop());this.decl(a,o)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,r,n){let s,i,o,a,l=r.length,c="",h=!0;for(let e=0;e<l;e+=1)s=r[e],i=s[0],"space"!==i||e!==l-1||n?"comment"===i?(a=r[e-1]?r[e-1][0]:"empty",o=r[e+1]?r[e+1][0]:"empty",is[a]||is[o]||","===c.slice(-1)?h=!1:c+=s[1]):c+=s[1]:h=!1;if(!h){let n=r.reduce(((e,t)=>e+t[1]),"");e.raws[t]={raw:n,value:c}}e[t]=c}rule(e){e.pop();let t=new ss;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],"space"===t||"comment"===t);)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let t,r="";for(;e.length&&(t=e[0][0],"space"===t||"comment"===t);)r+=e.shift()[1];return r}spacesFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],"space"===t);)r=e.pop()[1]+r;return r}stringFrom(e,t){let r="";for(let n=t;n<e.length;n++)r+=e[n][1];return e.splice(t,e.length-t),r}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};let as=sn,ls=os,cs=kr;function hs(e,t){let r=new cs(e,t),n=new ls(r);try{n.parse()}catch(e){throw e}return n.root}var us=hs;hs.default=hs,as.registerParse(hs);let{isClean:ps,my:ds}=Vt,fs=jr,ms=Ht,gs=sn,ys=hn,ws=mn,vs=us,bs=Wn;const Cs={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},Ss={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},xs={Once:!0,postcssPlugin:!0,prepare:!0},Es=0;function As(e){return"object"==typeof e&&"function"==typeof e.then}function Is(e){let t=!1,r=Cs[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[r,r+"-"+t,Es,r+"Exit",r+"Exit-"+t]:t?[r,r+"-"+t,r+"Exit",r+"Exit-"+t]:e.append?[r,Es,r+"Exit"]:[r,r+"Exit"]}function Ms(e){let t;return t="document"===e.type?["Document",Es,"DocumentExit"]:"root"===e.type?["Root",Es,"RootExit"]:Is(e),{eventIndex:0,events:t,iterator:0,node:e,visitorIndex:0,visitors:[]}}function Ns(e){return e[ps]=!1,e.nodes&&e.nodes.forEach((e=>Ns(e))),e}let Ts={},Rs=class e{constructor(t,r,n){let s;if(this.stringified=!1,this.processed=!1,"object"!=typeof r||null===r||"root"!==r.type&&"document"!==r.type)if(r instanceof e||r instanceof ws)s=Ns(r.root),r.map&&(void 0===n.map&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=r.map);else{let e=vs;n.syntax&&(e=n.syntax.parse),n.parser&&(e=n.parser),e.parse&&(e=e.parse);try{s=e(r,n)}catch(e){this.processed=!0,this.error=e}s&&!s[ds]&&gs.rebuild(s)}else s=Ns(r);this.result=new ws(t,s,n),this.helpers={...Ts,postcss:Ts,result:this.result},this.plugins=this.processor.plugins.map((e=>"object"==typeof e&&e.prepare?{...e,...e.prepare(this.result)}:e))}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let r=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?r.postcssVersion:(e.plugin=r.postcssPlugin,e.setMessage())}catch(e){console&&console.error&&console.error(e)}return e}prepareVisitors(){this.listeners={};let e=(e,t,r)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,r])};for(let t of this.plugins)if("object"==typeof t)for(let r in t){if(!Ss[r]&&/^[A-Z]/.test(r))throw new Error(`Unknown event ${r} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!xs[r])if("object"==typeof t[r])for(let n in t[r])e(t,"*"===n?r:r+"-"+n.toLowerCase(),t[r][n]);else"function"==typeof t[r]&&e(t,r,t[r])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],r=this.runOnRoot(t);if(As(r))try{await r}catch(e){throw this.handleError(e)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[ps];){e[ps]=!0;let t=[Ms(e)];for(;t.length>0;){let e=this.visitTick(t);if(As(e))try{await e}catch(e){let r=t[t.length-1].node;throw this.handleError(e,r)}}}if(this.listeners.OnceExit)for(let[t,r]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if("document"===e.type){let t=e.nodes.map((e=>r(e,this.helpers)));await Promise.all(t)}else await r(e,this.helpers)}catch(e){throw this.handleError(e)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){let t=this.result.root.nodes.map((t=>e.Once(t,this.helpers)));return As(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=ms;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let r=new fs(t,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){if(As(this.runOnRoot(e)))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[ps];)e[ps]=!0,this.walkSync(e);if(this.listeners.OnceExit)if("document"===e.type)for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[r,n]of e){let e;this.result.lastPlugin=r;try{e=n(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(As(e))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:r,visitors:n}=t;if("root"!==r.type&&"document"!==r.type&&!r.parent)return void e.pop();if(n.length>0&&t.visitorIndex<n.length){let[e,s]=n[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===n.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=e;try{return s(r.toProxy(),this.helpers)}catch(e){throw this.handleError(e,r)}}if(0!==t.iterator){let n,s=t.iterator;for(;n=r.nodes[r.indexes[s]];)if(r.indexes[s]+=1,!n[ps])return n[ps]=!0,void e.push(Ms(n));t.iterator=0,delete r.indexes[s]}let s=t.events;for(;t.eventIndex<s.length;){let e=s[t.eventIndex];if(t.eventIndex+=1,e===Es)return void(r.nodes&&r.nodes.length&&(r[ps]=!0,t.iterator=r.getIterator()));if(this.listeners[e])return void(t.visitors=this.listeners[e])}e.pop()}walkSync(e){e[ps]=!0;let t=Is(e);for(let r of t)if(r===Es)e.nodes&&e.each((e=>{e[ps]||this.walkSync(e)}));else{let t=this.listeners[r];if(t&&this.visitSync(t,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};Rs.registerPostcss=e=>{Ts=e};var ks=Rs;Rs.default=Rs,bs.registerLazyResult(Rs),ys.registerLazyResult(Rs);let Os=jr,Ds=Ht,Ps=us;const _s=mn;let Ls=class{constructor(e,t,r){let n;t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=r,this._map=void 0;let s=Ds;this.result=new _s(this._processor,n,this._opts),this.result.css=t;let i=this;Object.defineProperty(this.result,"root",{get:()=>i.root});let o=new Os(s,n,this._opts,t);if(o.isMap()){let[e,t]=o.generate();e&&(this.result.css=e),t&&(this.result.map=t)}else o.clearAnnotation(),this.result.css=o.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=Ps;try{e=t(this._css,this._opts)}catch(e){this.error=e}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}};var Fs=Ls;Ls.default=Ls;let Bs=Fs,Us=ks,$s=hn,zs=Wn,js=class{constructor(e=[]){this.version="8.4.38",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let r of e)if(!0===r.postcss?r=r():r.postcss&&(r=r.postcss),"object"==typeof r&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if("object"==typeof r&&r.postcssPlugin)t.push(r);else if("function"==typeof r)t.push(r);else if("object"!=typeof r||!r.parse&&!r.stringify)throw new Error(r+" is not a PostCSS plugin");return t}process(e,t={}){return this.plugins.length||t.parser||t.stringifier||t.syntax?new Us(this,e,t):new Bs(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};var Ys=js;js.default=js,zs.registerProcessor(js),$s.registerProcessor(js);let Vs=ar,Gs=gr,Ws=Gr,Zs=zn,Xs=kr,Js=Wn,Hs=Qn;function Ks(e,t){if(Array.isArray(e))return e.map((e=>Ks(e)));let{inputs:r,...n}=e;if(r){t=[];for(let e of r){let r={...e,__proto__:Xs.prototype};r.map&&(r.map={...r.map,__proto__:Gs.prototype}),t.push(r)}}if(n.nodes&&(n.nodes=e.nodes.map((e=>Ks(e,t)))),n.source){let{inputId:e,...r}=n.source;n.source=r,null!=e&&(n.source.input=t[e])}if("root"===n.type)return new Js(n);if("decl"===n.type)return new Vs(n);if("rule"===n.type)return new Hs(n);if("comment"===n.type)return new Ws(n);if("atrule"===n.type)return new Zs(n);throw new Error("Unknown node type: "+e.type)}var Qs=Ks;Ks.default=Ks;let qs=Yt,ei=ar,ti=ks,ri=sn,ni=Ys,si=Ht,ii=Qs,oi=hn,ai=pn,li=Gr,ci=zn,hi=mn,ui=kr,pi=us,di=Xn,fi=Qn,mi=Wn,gi=sr;function yi(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new ni(e)}yi.plugin=function(e,t){let r,n=!1;function s(...r){console&&console.warn&&!n&&(n=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),Ce.env.LANG&&Ce.env.LANG.startsWith("cn")&&console.warn(e+": 里面 postcss.plugin 被弃用. 迁移指南:\nhttps://www.w3ctech.com/topic/2226"));let s=t(...r);return s.postcssPlugin=e,s.postcssVersion=(new ni).version,s}return Object.defineProperty(s,"postcss",{get:()=>(r||(r=s()),r)}),s.process=function(e,t,r){return yi([s(r)]).process(e,t)},s},yi.stringify=si,yi.parse=pi,yi.fromJSON=ii,yi.list=di,yi.comment=e=>new li(e),yi.atRule=e=>new ci(e),yi.decl=e=>new ei(e),yi.rule=e=>new fi(e),yi.root=e=>new mi(e),yi.document=e=>new oi(e),yi.CssSyntaxError=qs,yi.Declaration=ei,yi.Container=ri,yi.Processor=ni,yi.Document=oi,yi.Comment=li,yi.Warning=ai,yi.AtRule=ci,yi.Result=hi,yi.Input=ui,yi.Rule=fi,yi.Root=mi,yi.Node=gi,ti.registerPostcss(yi);var wi=yi;yi.default=yi;const vi=Dt(wi);vi.stringify,vi.fromJSON,vi.plugin,vi.parse,vi.list,vi.document,vi.comment,vi.atRule,vi.rule,vi.decl,vi.root,vi.CssSyntaxError,vi.Declaration,vi.Container,vi.Processor,vi.Document,vi.Comment,vi.Warning,vi.AtRule,vi.Result,vi.Input,vi.Rule,vi.Root,vi.Node;const bi={script:"noscript",altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};function Ci(e,t){const r=null==t?void 0:t.stylesWithHoverClass.get(e);if(r)return r;const n=vi([kt,Ot]).process(e).css;return null==t||t.stylesWithHoverClass.set(e,n),n}function Si(){return{stylesWithHoverClass:new Map}}function xi(e,t){var r;const{doc:n,hackCss:s,cache:i}=t;switch(e.type){case It.Document:return n.implementation.createDocument(null,"",null);case It.DocumentType:return n.implementation.createDocumentType(e.name||"html",e.publicId,e.systemId);case It.Element:{const t=function(e){let t=bi[e.tagName]?bi[e.tagName]:e.tagName;return"link"===t&&e.attributes._cssText&&(t="style"),t}(e);let o;e.isSVG?o=n.createElementNS("http://www.w3.org/2000/svg",t):(e.isCustom&&(null==(r=n.defaultView)?void 0:r.customElements)&&!n.defaultView.customElements.get(e.tagName)&&n.defaultView.customElements.define(e.tagName,class extends n.defaultView.HTMLElement{}),o=n.createElement(t));const a={};for(const r in e.attributes){if(!Object.prototype.hasOwnProperty.call(e.attributes,r))continue;let l=e.attributes[r];if("option"===t&&"selected"===r&&!1===l)continue;if(null===l)continue;if(!0===l&&(l=""),r.startsWith("rr_")){a[r]=l;continue}const c="textarea"===t&&"value"===r,h="style"===t&&"_cssText"===r;if(h&&s&&"string"==typeof l&&(l=Ci(l,i)),!c&&!h||"string"!=typeof l)try{if(e.isSVG&&"xlink:href"===r)o.setAttributeNS("http://www.w3.org/1999/xlink",r,l.toString());else if("onload"===r||"onclick"===r||"onmouse"===r.substring(0,7))o.setAttribute("_"+r,l.toString());else{if("meta"===t&&"Content-Security-Policy"===e.attributes["http-equiv"]&&"content"===r){o.setAttribute("csp-content",l.toString());continue}("link"!==t||"preload"!==e.attributes.rel&&"modulepreload"!==e.attributes.rel||"script"!==e.attributes.as)&&("link"===t&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js")||("img"===t&&e.attributes.srcset&&e.attributes.rr_dataURL?o.setAttribute("rrweb-original-srcset",e.attributes.srcset):o.setAttribute(r,l.toString())))}}catch(e){}else o.appendChild(n.createTextNode(l)),e.childNodes=[]}for(const r in a){const s=a[r];if("canvas"===t&&"rr_dataURL"===r){const e=n.createElement("img");e.onload=()=>{const t=o.getContext("2d");t&&t.drawImage(e,0,0,e.width,e.height)},e.src=s.toString(),o.RRNodeType&&(o.rr_dataURL=s.toString())}else if("img"===t&&"rr_dataURL"===r){const t=o;t.currentSrc.startsWith("data:")||(t.setAttribute("rrweb-original-src",e.attributes.src),t.src=s.toString())}if("rr_width"===r)o.style.width=s.toString();else if("rr_height"===r)o.style.height=s.toString();else if("rr_mediaCurrentTime"===r&&"number"==typeof s)o.currentTime=s;else if("rr_mediaState"===r)switch(s){case"played":o.play().catch((e=>console.warn("media playback error",e)));break;case"paused":o.pause()}else"rr_mediaPlaybackRate"===r&&"number"==typeof s?o.playbackRate=s:"rr_mediaMuted"===r&&"boolean"==typeof s?o.muted=s:"rr_mediaLoop"===r&&"boolean"==typeof s?o.loop=s:"rr_mediaVolume"===r&&"number"==typeof s?o.volume=s:"rr_open_mode"===r&&o.setAttribute("rr_open_mode",s)}if(e.isShadowHost)if(o.shadowRoot)for(;o.shadowRoot.firstChild;)o.shadowRoot.removeChild(o.shadowRoot.firstChild);else o.attachShadow({mode:"open"});return o}case It.Text:return n.createTextNode(e.isStyle&&s?Ci(e.textContent,i):e.textContent);case It.CDATA:return n.createCDATASection(e.textContent);case It.Comment:return n.createComment(e.textContent);default:return null}}function Ei(e,t){const{doc:r,mirror:n,skipChild:s=!1,hackCss:i=!0,afterAppend:o,cache:a}=t;if(n.has(e.id)){const t=n.getNode(e.id),r=n.getMeta(t);if(c=e,(l=r)&&c&&l.type===c.type&&(l.type===It.Document?l.compatMode===c.compatMode:l.type===It.DocumentType?l.name===c.name&&l.publicId===c.publicId&&l.systemId===c.systemId:l.type===It.Comment||l.type===It.Text||l.type===It.CDATA?l.textContent===c.textContent:l.type===It.Element&&l.tagName===c.tagName&&JSON.stringify(l.attributes)===JSON.stringify(c.attributes)&&l.isSVG===c.isSVG&&l.needBlock===c.needBlock))return n.getNode(e.id)}var l,c;let h=xi(e,{doc:r,hackCss:i,cache:a});if(!h)return null;if(e.rootId&&n.getNode(e.rootId)!==r&&n.replace(e.rootId,r),e.type===It.Document&&(r.close(),r.open(),"BackCompat"===e.compatMode&&e.childNodes&&e.childNodes[0].type!==It.DocumentType&&(e.childNodes[0].type===It.Element&&"xmlns"in e.childNodes[0].attributes&&"http://www.w3.org/1999/xhtml"===e.childNodes[0].attributes.xmlns?r.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "">'):r.write('<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "">')),h=r),n.add(h,e),(e.type===It.Document||e.type===It.Element)&&!s)for(const t of e.childNodes){const s=Ei(t,{doc:r,mirror:n,skipChild:!1,hackCss:i,afterAppend:o,cache:a});if(s){if(t.isShadow&&Mt(h)&&h.shadowRoot)h.shadowRoot.appendChild(s);else if(e.type===It.Document&&t.type==It.Element){const e=s;let t=null;e.childNodes.forEach((e=>{"BODY"===e.nodeName&&(t=e)})),t?(e.removeChild(t),h.appendChild(s),e.appendChild(t)):h.appendChild(s)}else h.appendChild(s);o&&o(s,t.id)}else console.warn("Failed to rebuild",t)}return h}function Ai(e,t){const{doc:r,onVisit:n,hackCss:s=!0,afterAppend:i,cache:o,mirror:a=new Nt}=t,l=Ei(e,{doc:r,mirror:a,skipChild:!1,hackCss:s,afterAppend:i,cache:o});return function(e,t){for(const n of e.getIds())e.has(n)&&(r=e.getNode(n),t(r));var r}(a,(e=>{n&&n(e),function(e,t){const r=t.getMeta(e);if((null==r?void 0:r.type)!==It.Element)return;const n=e;for(const e in r.attributes){if(!Object.prototype.hasOwnProperty.call(r.attributes,e)||!e.startsWith("rr_"))continue;const t=r.attributes[e];"rr_scrollLeft"===e&&(n.scrollLeft=t),"rr_scrollTop"===e&&(n.scrollTop=t)}}(e,a)})),l}var Ii=Object.defineProperty,Mi=(e,t,r)=>((e,t,r)=>t in e?Ii(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r),Ni=Object.defineProperty,Ti=(e,t,r)=>((e,t,r)=>t in e?Ni(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r),Ri=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Ri||{});let ki=class{constructor(){Ti(this,"idNodeMap",new Map),Ti(this,"nodeMetaMap",new WeakMap)}getId(e){var t;if(!e)return-1;return(null==(t=this.getMeta(e))?void 0:t.id)??-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const r=t.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,t)}replace(e,t){const r=this.getNode(e);if(r){const e=this.nodeMetaMap.get(r);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function Oi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Di(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var Pi={exports:{}},_i=String,Li=function(){return{isColorSupported:!1,reset:_i,bold:_i,dim:_i,italic:_i,underline:_i,inverse:_i,hidden:_i,strikethrough:_i,black:_i,red:_i,green:_i,yellow:_i,blue:_i,magenta:_i,cyan:_i,white:_i,gray:_i,bgBlack:_i,bgRed:_i,bgGreen:_i,bgYellow:_i,bgBlue:_i,bgMagenta:_i,bgCyan:_i,bgWhite:_i}};Pi.exports=Li(),Pi.exports.createColors=Li;var Fi=Pi.exports;const Bi=Di(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));let Ui=Fi,$i=Bi,zi=class e extends Error{constructor(t,r,n,s,i,o){super(t),this.name="CssSyntaxError",this.reason=t,i&&(this.file=i),s&&(this.source=s),o&&(this.plugin=o),void 0!==r&&void 0!==n&&("number"==typeof r?(this.line=r,this.column=n):(this.line=r.line,this.column=r.column,this.endLine=n.line,this.endColumn=n.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,e)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;null==e&&(e=Ui.isColorSupported),$i&&e&&(t=$i(t));let r,n,s=t.split(/\r?\n/),i=Math.max(this.line-3,0),o=Math.min(this.line+2,s.length),a=String(o).length;if(e){let{bold:e,gray:t,red:s}=Ui.createColors(!0);r=t=>e(s(t)),n=e=>t(e)}else r=n=e=>e;return s.slice(i,o).map(((e,t)=>{let s=i+1+t,o=" "+(" "+s).slice(-a)+" | ";if(s===this.line){let t=n(o.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return r(">")+n(o)+e+"\n "+t+r("^")}return" "+n(o)+e})).join("\n")}toString(){let e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}};var ji=zi;zi.default=zi;var Yi={};Yi.isClean=Symbol("isClean"),Yi.my=Symbol("my");const Vi={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};let Gi=class{constructor(e){this.builder=e}atrule(e,t){let r="@"+e.name,n=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?r+=e.raws.afterName:n&&(r+=" "),e.nodes)this.block(e,r+n);else{let s=(e.raws.between||"")+(t?";":"");this.builder(r+n+s,e)}}beforeAfter(e,t){let r;r="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");let n=e.parent,s=0;for(;n&&"root"!==n.type;)s+=1,n=n.parent;if(r.includes("\n")){let t=this.raw(e,null,"indent");if(t.length)for(let e=0;e<s;e++)r+=t}return r}block(e,t){let r,n=this.raw(e,"between","beforeOpen");this.builder(t+n+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let r=this.raw(e,"semicolon");for(let n=0;n<e.nodes.length;n++){let s=e.nodes[n],i=this.raw(s,"before");i&&this.builder(i),this.stringify(s,t!==n||r)}}comment(e){let t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){let r=this.raw(e,"between","colon"),n=e.prop+r+this.rawValue(e,"value");e.important&&(n+=e.raws.important||" !important"),t&&(n+=";"),this.builder(n,e)}document(e){this.body(e)}raw(e,t,r){let n;if(r||(r=t),t&&(n=e.raws[t],void 0!==n))return n;let s=e.parent;if("before"===r){if(!s||"root"===s.type&&s.first===e)return"";if(s&&"document"===s.type)return""}if(!s)return Vi[r];let i=e.root();if(i.rawCache||(i.rawCache={}),void 0!==i.rawCache[r])return i.rawCache[r];if("before"===r||"after"===r)return this.beforeAfter(e,r);{let s="raw"+((o=r)[0].toUpperCase()+o.slice(1));this[s]?n=this[s](i,e):i.walk((e=>{if(n=e.raws[t],void 0!==n)return!1}))}var o;return void 0===n&&(n=Vi[r]),i.rawCache[r]=n,n}rawBeforeClose(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return t=e.raws.after,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let r;return e.walkComments((e=>{if(void 0!==e.raws.before)return r=e.raws.before,r.includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){let r;return e.walkDecls((e=>{if(void 0!==e.raws.before)return r=e.raws.before,r.includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){let t;return e.walk((e=>{if("decl"!==e.type&&(t=e.raws.between,void 0!==t))return!1})),t}rawBeforeRule(e){let t;return e.walk((r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&void 0!==r.raws.before)return t=r.raws.before,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls((e=>{if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1})),t}rawEmptyBody(e){let t;return e.walk((e=>{if(e.nodes&&0===e.nodes.length&&(t=e.raws.after,void 0!==t))return!1})),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk((r=>{let n=r.parent;if(n&&n!==e&&n.parent&&n.parent===e&&void 0!==r.raws.before){let e=r.raws.before.split("\n");return t=e[e.length-1],t=t.replace(/\S/g,""),!1}})),t}rawSemicolon(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&(t=e.raws.semicolon,void 0!==t))return!1})),t}rawValue(e,t){let r=e[t],n=e.raws[t];return n&&n.value===r?n.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};var Wi=Gi;Gi.default=Gi;let Zi=Wi;function Xi(e,t){new Zi(t).stringify(e)}var Ji=Xi;Xi.default=Xi;let{isClean:Hi,my:Ki}=Yi,Qi=ji,qi=Wi,eo=Ji;function to(e,t){let r=new e.constructor;for(let n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;if("proxyCache"===n)continue;let s=e[n],i=typeof s;"parent"===n&&"object"===i?t&&(r[n]=t):"source"===n?r[n]=s:Array.isArray(s)?r[n]=s.map((e=>to(e,r))):("object"===i&&null!==s&&(s=to(s)),r[n]=s)}return r}let ro=class{constructor(e={}){this.raws={},this[Hi]=!1,this[Ki]=!0;for(let t in e)if("nodes"===t){this.nodes=[];for(let r of e[t])"function"==typeof r.clone?this.append(r.clone()):this.append(r)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=to(this);for(let r in e)t[r]=e[r];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:r,start:n}=this.rangeBy(t);return this.source.input.error(e,{column:n.column,line:n.line},{column:r.column,line:r.line},t)}return new Qi(e)}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t],set:(e,t,r)=>(e[t]===r||(e[t]=r,"prop"!==t&&"value"!==t&&"name"!==t&&"params"!==t&&"important"!==t&&"text"!==t||e.markDirty()),!0)}}markDirty(){if(this[Hi]){this[Hi]=!1;let e=this;for(;e=e.parent;)e[Hi]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let r=this.source.start;if(e.index)r=this.positionInside(e.index,t);else if(e.word){let n=(t=this.toString()).indexOf(e.word);-1!==n&&(r=this.positionInside(n,t))}return r}positionInside(e,t){let r=t||this.toString(),n=this.source.start.column,s=this.source.start.line;for(let t=0;t<e;t++)"\n"===r[t]?(n=1,s+=1):n+=1;return{column:n,line:s}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let n=this.toString(),s=n.indexOf(e.word);-1!==s&&(t=this.positionInside(s,n),r=this.positionInside(s+e.word.length,n))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}raw(e,t){return(new qi).raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,r=!1;for(let n of e)n===this?r=!0:r?(this.parent.insertAfter(t,n),t=n):this.parent.insertBefore(t,n);r||this.remove()}return this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){let r={},n=null==t;t=t||new Map;let s=0;for(let e in this){if(!Object.prototype.hasOwnProperty.call(this,e))continue;if("parent"===e||"proxyCache"===e)continue;let n=this[e];if(Array.isArray(n))r[e]=n.map((e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e));else if("object"==typeof n&&n.toJSON)r[e]=n.toJSON(null,t);else if("source"===e){let i=t.get(n.input);null==i&&(i=s,t.set(n.input,s),s++),r[e]={end:n.end,inputId:i,start:n.start}}else r[e]=n}return n&&(r.inputs=[...t.keys()].map((e=>e.toJSON()))),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=eo){e.stringify&&(e=e.stringify);let t="";return e(this,(e=>{t+=e})),t}warn(e,t,r){let n={node:this};for(let e in r)n[e]=r[e];return e.warn(t,n)}get proxyOf(){return this}};var no=ro;ro.default=ro;let so=no,io=class extends so{constructor(e){e&&void 0!==e.value&&"string"!=typeof e.value&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}};var oo=io;io.default=io;var ao={nanoid:(e=21)=>{let t="",r=e;for(;r--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},customAlphabet:(e,t=21)=>(r=t)=>{let n="",s=r;for(;s--;)n+=e[Math.random()*e.length|0];return n}};let{SourceMapConsumer:lo,SourceMapGenerator:co}=Bi,{existsSync:ho,readFileSync:uo}=Bi,{dirname:po,join:fo}=Bi;let mo=class{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=t.map?t.map.prev:void 0,n=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=po(this.mapFile)),n&&(this.text=n)}consumer(){return this.consumerCache||(this.consumerCache=new lo(this.text)),this.consumerCache}decodeInline(e){if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e))return t=e.substr(RegExp.lastMatch.length),f?f.from(t,"base64").toString():window.atob(t);var t;let r=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+r)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let r=e.lastIndexOf(t.pop()),n=e.indexOf("*/",r);r>-1&&n>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,n)))}loadFile(e){if(this.root=po(e),ho(e))return this.mapFile=e,uo(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"!=typeof t){if(t instanceof lo)return co.fromSourceMap(t).toString();if(t instanceof co)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}{let r=t(e);if(r){let e=this.loadFile(r);if(!e)throw new Error("Unable to load previous source map: "+r.toString());return e}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let t=this.annotation;return e&&(t=fo(po(e),t)),this.loadFile(t)}}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var go=mo;mo.default=mo;let{SourceMapConsumer:yo,SourceMapGenerator:wo}=Bi,{fileURLToPath:vo,pathToFileURL:bo}=Bi,{isAbsolute:Co,resolve:So}=Bi,{nanoid:xo}=ao,Eo=Bi,Ao=ji,Io=go,Mo=Symbol("fromOffsetCache"),No=Boolean(yo&&wo),To=Boolean(So&&Co),Ro=class{constructor(e,t={}){if(null==e||"object"==typeof e&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),"\ufeff"===this.css[0]||"￾"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!To||/^\w+:\/\//.test(t.from)||Co(t.from)?this.file=t.from:this.file=So(t.from)),To&&No){let e=new Io(this.css,t);if(e.text){this.map=e;let t=e.consumer().file;!this.file&&t&&(this.file=this.mapResolve(t))}}this.file||(this.id="<input css "+xo(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,r,n={}){let s,i,o;if(t&&"object"==typeof t){let e=t,n=r;if("number"==typeof e.offset){let n=this.fromOffset(e.offset);t=n.line,r=n.col}else t=e.line,r=e.column;if("number"==typeof n.offset){let e=this.fromOffset(n.offset);i=e.line,o=e.col}else i=n.line,o=n.column}else if(!r){let e=this.fromOffset(t);t=e.line,r=e.col}let a=this.origin(t,r,i,o);return s=a?new Ao(e,void 0===a.endLine?a.line:{column:a.column,line:a.line},void 0===a.endLine?a.column:{column:a.endColumn,line:a.endLine},a.source,a.file,n.plugin):new Ao(e,void 0===i?t:{column:r,line:t},void 0===i?r:{column:o,line:i},this.css,this.file,n.plugin),s.input={column:r,endColumn:o,endLine:i,line:t,source:this.css},this.file&&(bo&&(s.input.url=bo(this.file).toString()),s.input.file=this.file),s}fromOffset(e){let t,r;if(this[Mo])r=this[Mo];else{let e=this.css.split("\n");r=new Array(e.length);let t=0;for(let n=0,s=e.length;n<s;n++)r[n]=t,t+=e[n].length+1;this[Mo]=r}t=r[r.length-1];let n=0;if(e>=t)n=r.length-1;else{let t,s=r.length-2;for(;n<s;)if(t=n+(s-n>>1),e<r[t])s=t-1;else{if(!(e>=r[t+1])){n=t;break}n=t+1}}return{col:e-r[n]+1,line:n+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:So(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,r,n){if(!this.map)return!1;let s,i,o=this.map.consumer(),a=o.originalPositionFor({column:t,line:e});if(!a.source)return!1;"number"==typeof r&&(s=o.originalPositionFor({column:n,line:r})),i=Co(a.source)?bo(a.source):new URL(a.source,this.map.consumer().sourceRoot||bo(this.map.mapFile));let l={column:a.column,endColumn:s&&s.column,endLine:s&&s.line,line:a.line,url:i.toString()};if("file:"===i.protocol){if(!vo)throw new Error("file: protocol is not available in this PostCSS build");l.file=vo(i)}let c=o.sourceContentFor(a.source);return c&&(l.source=c),l}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};var ko=Ro;Ro.default=Ro,Eo&&Eo.registerInput&&Eo.registerInput(Ro);let{SourceMapConsumer:Oo,SourceMapGenerator:Do}=Bi,{dirname:Po,relative:_o,resolve:Lo,sep:Fo}=Bi,{pathToFileURL:Bo}=Bi,Uo=ko,$o=Boolean(Oo&&Do),zo=Boolean(Po&&Lo&&_o&&Fo);var jo=class{constructor(e,t,r,n){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=n,this.originalCSS=n,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t,r=this.toUrl(this.path(e.file)),n=e.root||Po(e.file);!1===this.mapOpts.sourcesContent?(t=new Oo(e.text),t.sourcesContent&&(t.sourcesContent=null)):t=e.consumer(),this.map.applySourceMap(t,r,this.toUrl(this.path(n)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],"comment"===e.type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),zo&&$o&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,(t=>{e+=t})),[e]}}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=Do.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new Do({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new Do({file:this.outputFile(),ignoreInvalidMapping:!0});let e,t,r=1,n=1,s="<no source>",i={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,((o,a,l)=>{if(this.css+=o,a&&"end"!==l&&(i.generated.line=r,i.generated.column=n-1,a.source&&a.source.start?(i.source=this.sourcePath(a),i.original.line=a.source.start.line,i.original.column=a.source.start.column-1,this.map.addMapping(i)):(i.source=s,i.original.line=1,i.original.column=0,this.map.addMapping(i))),e=o.match(/\n/g),e?(r+=e.length,t=o.lastIndexOf("\n"),n=o.length-t):n+=o.length,a&&"start"!==l){let e=a.parent||{raws:{}};("decl"===a.type||"atrule"===a.type&&!a.nodes)&&a===e.last&&!e.raws.semicolon||(a.source&&a.source.end?(i.source=this.sourcePath(a),i.original.line=a.source.end.line,i.original.column=a.source.end.column-1,i.generated.line=r,i.generated.column=n-2,this.map.addMapping(i)):(i.source=s,i.original.line=1,i.original.column=0,i.generated.line=r,i.generated.column=n-1,this.map.addMapping(i)))}}))}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((e=>e.annotation)))}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;let e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some((e=>e.inline)))}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((e=>e.withContent()))}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute)return e;if(60===e.charCodeAt(0))return e;if(/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let r=this.opts.to?Po(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(r=Po(Lo(r,this.mapOpts.annotation)));let n=_o(r,e);return this.memoizedPaths.set(e,n),n}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}}));else{let e=new Uo(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk((t=>{if(t.source){let r=t.source.input.from;if(r&&!e[r]){e[r]=!0;let n=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(n,t.source.input.css)}}}));else if(this.css){let e=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(e,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return f?f.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(Bo){let t=Bo(e).toString();return this.memoizedFileURLs.set(e,t),t}throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;"\\"===Fo&&(e=e.replace(/\\/g,"/"));let r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}};let Yo=no,Vo=class extends Yo{constructor(e){super(e),this.type="comment"}};var Go=Vo;Vo.default=Vo;let Wo,Zo,Xo,Jo,{isClean:Ho,my:Ko}=Yi,Qo=oo,qo=Go,ea=no;function ta(e){return e.map((e=>(e.nodes&&(e.nodes=ta(e.nodes)),delete e.source,e)))}function ra(e){if(e[Ho]=!1,e.proxyOf.nodes)for(let t of e.proxyOf.nodes)ra(t)}let na=class e extends ea{append(...e){for(let t of e){let e=this.normalize(t,this.last);for(let t of e)this.proxyOf.nodes.push(t)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t,r,n=this.getIterator();for(;this.indexes[n]<this.proxyOf.nodes.length&&(t=this.indexes[n],r=e(this.proxyOf.nodes[t],t),!1!==r);)this.indexes[n]+=1;return delete this.indexes[n],r}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:e[t]?"each"===t||"string"==typeof t&&t.startsWith("walk")?(...r)=>e[t](...r.map((e=>"function"==typeof e?(t,r)=>e(t.toProxy(),r):e))):"every"===t||"some"===t?r=>e[t](((e,...t)=>r(e.toProxy(),...t))):"root"===t?()=>e.root().toProxy():"nodes"===t?e.nodes.map((e=>e.toProxy())):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t],set:(e,t,r)=>(e[t]===r||(e[t]=r,"name"!==t&&"params"!==t&&"selector"!==t||e.markDirty()),!0)}}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let r,n=this.index(e),s=this.normalize(t,this.proxyOf.nodes[n]).reverse();n=this.index(e);for(let e of s)this.proxyOf.nodes.splice(n+1,0,e);for(let e in this.indexes)r=this.indexes[e],n<r&&(this.indexes[e]=r+s.length);return this.markDirty(),this}insertBefore(e,t){let r,n=this.index(e),s=0===n&&"prepend",i=this.normalize(t,this.proxyOf.nodes[n],s).reverse();n=this.index(e);for(let e of i)this.proxyOf.nodes.splice(n,0,e);for(let e in this.indexes)r=this.indexes[e],n<=r&&(this.indexes[e]=r+i.length);return this.markDirty(),this}normalize(t,r){if("string"==typeof t)t=ta(Wo(t).nodes);else if(void 0===t)t=[];else if(Array.isArray(t)){t=t.slice(0);for(let e of t)e.parent&&e.parent.removeChild(e,"ignore")}else if("root"===t.type&&"document"!==this.type){t=t.nodes.slice(0);for(let e of t)e.parent&&e.parent.removeChild(e,"ignore")}else if(t.type)t=[t];else if(t.prop){if(void 0===t.value)throw new Error("Value field is missed in node creation");"string"!=typeof t.value&&(t.value=String(t.value)),t=[new Qo(t)]}else if(t.selector)t=[new Zo(t)];else if(t.name)t=[new Xo(t)];else{if(!t.text)throw new Error("Unknown node type in node creation");t=[new qo(t)]}return t.map((t=>(t[Ko]||e.rebuild(t),(t=t.proxyOf).parent&&t.parent.removeChild(t),t[Ho]&&ra(t),void 0===t.raws.before&&r&&void 0!==r.raws.before&&(t.raws.before=r.raws.before.replace(/\S/g,"")),t.parent=this.proxyOf,t)))}prepend(...e){e=e.reverse();for(let t of e){let e=this.normalize(t,this.first,"prepend").reverse();for(let t of e)this.proxyOf.nodes.unshift(t);for(let t in this.indexes)this.indexes[t]=this.indexes[t]+e.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){let t;e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);for(let r in this.indexes)t=this.indexes[r],t>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls((n=>{t.props&&!t.props.includes(n.prop)||t.fast&&!n.value.includes(t.fast)||(n.value=n.value.replace(e,r))})),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each(((t,r)=>{let n;try{n=e(t,r)}catch(e){throw t.addToError(e)}return!1!==n&&t.walk&&(n=t.walk(e)),n}))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("atrule"===r.type&&e.test(r.name))return t(r,n)})):this.walk(((r,n)=>{if("atrule"===r.type&&r.name===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("atrule"===e.type)return t(e,r)})))}walkComments(e){return this.walk(((t,r)=>{if("comment"===t.type)return e(t,r)}))}walkDecls(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("decl"===r.type&&e.test(r.prop))return t(r,n)})):this.walk(((r,n)=>{if("decl"===r.type&&r.prop===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("decl"===e.type)return t(e,r)})))}walkRules(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("rule"===r.type&&e.test(r.selector))return t(r,n)})):this.walk(((r,n)=>{if("rule"===r.type&&r.selector===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("rule"===e.type)return t(e,r)})))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};na.registerParse=e=>{Wo=e},na.registerRule=e=>{Zo=e},na.registerAtRule=e=>{Xo=e},na.registerRoot=e=>{Jo=e};var sa=na;na.default=na,na.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,Xo.prototype):"rule"===e.type?Object.setPrototypeOf(e,Zo.prototype):"decl"===e.type?Object.setPrototypeOf(e,Qo.prototype):"comment"===e.type?Object.setPrototypeOf(e,qo.prototype):"root"===e.type&&Object.setPrototypeOf(e,Jo.prototype),e[Ko]=!0,e.nodes&&e.nodes.forEach((e=>{na.rebuild(e)}))};let ia,oa,aa=sa,la=class extends aa{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new ia(new oa,this,e).stringify()}};la.registerLazyResult=e=>{ia=e},la.registerProcessor=e=>{oa=e};var ca=la;la.default=la;let ha=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let e=t.node.rangeBy(t);this.line=e.start.line,this.column=e.start.column,this.endLine=e.end.line,this.endColumn=e.end.column}for(let e in t)this[e]=t[e]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var ua=ha;ha.default=ha;let pa=ua,da=class{constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let r=new pa(e,t);return this.messages.push(r),r}warnings(){return this.messages.filter((e=>"warning"===e.type))}get content(){return this.css}};var fa=da;da.default=da;const ma="'".charCodeAt(0),ga='"'.charCodeAt(0),ya="\\".charCodeAt(0),wa="/".charCodeAt(0),va="\n".charCodeAt(0),ba=" ".charCodeAt(0),Ca="\f".charCodeAt(0),Sa="\t".charCodeAt(0),xa="\r".charCodeAt(0),Ea="[".charCodeAt(0),Aa="]".charCodeAt(0),Ia="(".charCodeAt(0),Ma=")".charCodeAt(0),Na="{".charCodeAt(0),Ta="}".charCodeAt(0),Ra=";".charCodeAt(0),ka="*".charCodeAt(0),Oa=":".charCodeAt(0),Da="@".charCodeAt(0),Pa=/[\t\n\f\r "#'()/;[\\\]{}]/g,_a=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,La=/.[\r\n"'(/\\]/,Fa=/[\da-f]/i;let Ba=sa,Ua=class extends Ba{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};var $a=Ua;Ua.default=Ua,Ba.registerAtRule(Ua);let za,ja,Ya=sa,Va=class extends Ya{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,r){let n=super.normalize(e);if(t)if("prepend"===r)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let e of n)e.raws.before=t.raws.before;return n}removeChild(e,t){let r=this.index(e);return!t&&0===r&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(e={}){return new za(new ja,this,e).stringify()}};Va.registerLazyResult=e=>{za=e},Va.registerProcessor=e=>{ja=e};var Ga=Va;Va.default=Va,Ya.registerRoot(Va);let Wa={comma:e=>Wa.split(e,[","],!0),space:e=>Wa.split(e,[" ","\n","\t"]),split(e,t,r){let n=[],s="",i=!1,o=0,a=!1,l="",c=!1;for(let r of e)c?c=!1:"\\"===r?c=!0:a?r===l&&(a=!1):'"'===r||"'"===r?(a=!0,l=r):"("===r?o+=1:")"===r?o>0&&(o-=1):0===o&&t.includes(r)&&(i=!0),i?(""!==s&&n.push(s.trim()),s="",i=!1):s+=r;return(r||""!==s)&&n.push(s.trim()),n}};var Za=Wa;Wa.default=Wa;let Xa=sa,Ja=Za,Ha=class extends Xa{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return Ja.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}};var Ka=Ha;Ha.default=Ha,Xa.registerRule(Ha);let Qa=oo,qa=function(e,t={}){let r,n,s,i,o,a,l,c,h,u,p=e.css.valueOf(),d=t.ignoreErrors,f=p.length,m=0,g=[],y=[];function w(t){throw e.error("Unclosed "+t,m)}return{back:function(e){y.push(e)},endOfFile:function(){return 0===y.length&&m>=f},nextToken:function(e){if(y.length)return y.pop();if(m>=f)return;let t=!!e&&e.ignoreUnclosed;switch(r=p.charCodeAt(m),r){case va:case ba:case Sa:case xa:case Ca:n=m;do{n+=1,r=p.charCodeAt(n)}while(r===ba||r===va||r===Sa||r===xa||r===Ca);u=["space",p.slice(m,n)],m=n-1;break;case Ea:case Aa:case Na:case Ta:case Oa:case Ra:case Ma:{let e=String.fromCharCode(r);u=[e,e,m];break}case Ia:if(c=g.length?g.pop()[1]:"",h=p.charCodeAt(m+1),"url"===c&&h!==ma&&h!==ga&&h!==ba&&h!==va&&h!==Sa&&h!==Ca&&h!==xa){n=m;do{if(a=!1,n=p.indexOf(")",n+1),-1===n){if(d||t){n=m;break}w("bracket")}for(l=n;p.charCodeAt(l-1)===ya;)l-=1,a=!a}while(a);u=["brackets",p.slice(m,n+1),m,n],m=n}else n=p.indexOf(")",m+1),i=p.slice(m,n+1),-1===n||La.test(i)?u=["(","(",m]:(u=["brackets",i,m,n],m=n);break;case ma:case ga:s=r===ma?"'":'"',n=m;do{if(a=!1,n=p.indexOf(s,n+1),-1===n){if(d||t){n=m+1;break}w("string")}for(l=n;p.charCodeAt(l-1)===ya;)l-=1,a=!a}while(a);u=["string",p.slice(m,n+1),m,n],m=n;break;case Da:Pa.lastIndex=m+1,Pa.test(p),n=0===Pa.lastIndex?p.length-1:Pa.lastIndex-2,u=["at-word",p.slice(m,n+1),m,n],m=n;break;case ya:for(n=m,o=!0;p.charCodeAt(n+1)===ya;)n+=1,o=!o;if(r=p.charCodeAt(n+1),o&&r!==wa&&r!==ba&&r!==va&&r!==Sa&&r!==xa&&r!==Ca&&(n+=1,Fa.test(p.charAt(n)))){for(;Fa.test(p.charAt(n+1));)n+=1;p.charCodeAt(n+1)===ba&&(n+=1)}u=["word",p.slice(m,n+1),m,n],m=n;break;default:r===wa&&p.charCodeAt(m+1)===ka?(n=p.indexOf("*/",m+2)+1,0===n&&(d||t?n=p.length:w("comment")),u=["comment",p.slice(m,n+1),m,n],m=n):(_a.lastIndex=m+1,_a.test(p),n=0===_a.lastIndex?p.length-1:_a.lastIndex-2,u=["word",p.slice(m,n+1),m,n],g.push(u),m=n)}return m++,u},position:function(){return m}}},el=Go,tl=$a,rl=Ga,nl=Ka;const sl={empty:!0,space:!0};var il=class{constructor(e){this.input=e,this.root=new rl,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t,r,n,s=new tl;s.name=e[1].slice(1),""===s.name&&this.unnamedAtrule(s,e),this.init(s,e[2]);let i=!1,o=!1,a=[],l=[];for(;!this.tokenizer.endOfFile();){if(t=(e=this.tokenizer.nextToken())[0],"("===t||"["===t?l.push("("===t?")":"]"):"{"===t&&l.length>0?l.push("}"):t===l[l.length-1]&&l.pop(),0===l.length){if(";"===t){s.source.end=this.getPosition(e[2]),s.source.end.offset++,this.semicolon=!0;break}if("{"===t){o=!0;break}if("}"===t){if(a.length>0){for(n=a.length-1,r=a[n];r&&"space"===r[0];)r=a[--n];r&&(s.source.end=this.getPosition(r[3]||r[2]),s.source.end.offset++)}this.end(e);break}a.push(e)}else a.push(e);if(this.tokenizer.endOfFile()){i=!0;break}}s.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(s.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(s,"params",a),i&&(e=a[a.length-1],s.source.end=this.getPosition(e[3]||e[2]),s.source.end.offset++,this.spaces=s.raws.between,s.raws.between="")):(s.raws.afterName="",s.params=""),o&&(s.nodes=[],this.current=s)}checkMissedSemicolon(e){let t=this.colon(e);if(!1===t)return;let r,n=0;for(let s=t-1;s>=0&&(r=e[s],"space"===r[0]||(n+=1,2!==n));s--);throw this.input.error("Missed semicolon","word"===r[0]?r[3]+1:r[2])}colon(e){let t,r,n,s=0;for(let[i,o]of e.entries()){if(t=o,r=t[0],"("===r&&(s+=1),")"===r&&(s-=1),0===s&&":"===r){if(n){if("word"===n[0]&&"progid"===n[1])continue;return i}this.doubleColon(t)}n=t}return!1}comment(e){let t=new el;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{let e=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=e[2],t.raws.left=e[1],t.raws.right=e[3]}}createTokenizer(){this.tokenizer=qa(this.input)}decl(e,t){let r=new Qa;this.init(r,e[0][2]);let n,s=e[e.length-1];for(";"===s[0]&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(s[3]||s[2]||function(e){for(let t=e.length-1;t>=0;t--){let r=e[t],n=r[3]||r[2];if(n)return n}}(e)),r.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){let t=e[0][0];if(":"===t||"space"===t||"comment"===t)break;r.prop+=e.shift()[1]}for(r.raws.between="";e.length;){if(n=e.shift(),":"===n[0]){r.raws.between+=n[1];break}"word"===n[0]&&/\w/.test(n[1])&&this.unknownWord([n]),r.raws.between+=n[1]}"_"!==r.prop[0]&&"*"!==r.prop[0]||(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));let i,o=[];for(;e.length&&(i=e[0][0],"space"===i||"comment"===i);)o.push(e.shift());this.precheckMissedSemicolon(e);for(let t=e.length-1;t>=0;t--){if(n=e[t],"!important"===n[1].toLowerCase()){r.important=!0;let n=this.stringFrom(e,t);n=this.spacesFromEnd(e)+n," !important"!==n&&(r.raws.important=n);break}if("important"===n[1].toLowerCase()){let n=e.slice(0),s="";for(let e=t;e>0;e--){let t=n[e][0];if(0===s.trim().indexOf("!")&&"space"!==t)break;s=n.pop()[1]+s}0===s.trim().indexOf("!")&&(r.important=!0,r.raws.important=s,e=n)}if("space"!==n[0]&&"comment"!==n[0])break}e.some((e=>"space"!==e[0]&&"comment"!==e[0]))&&(r.raws.between+=o.map((e=>e[1])).join(""),o=[]),this.raw(r,"value",o.concat(e),t),r.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new nl;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let e=this.current.nodes[this.current.nodes.length-1];e&&"rule"===e.type&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){let t=!1,r=null,n=!1,s=null,i=[],o=e[1].startsWith("--"),a=[],l=e;for(;l;){if(r=l[0],a.push(l),"("===r||"["===r)s||(s=l),i.push("("===r?")":"]");else if(o&&n&&"{"===r)s||(s=l),i.push("}");else if(0===i.length){if(";"===r){if(n)return void this.decl(a,o);break}if("{"===r)return void this.rule(a);if("}"===r){this.tokenizer.back(a.pop()),t=!0;break}":"===r&&(n=!0)}else r===i[i.length-1]&&(i.pop(),0===i.length&&(s=null));l=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),i.length>0&&this.unclosedBracket(s),t&&n){if(!o)for(;a.length&&(l=a[a.length-1][0],"space"===l||"comment"===l);)this.tokenizer.back(a.pop());this.decl(a,o)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,r,n){let s,i,o,a,l=r.length,c="",h=!0;for(let e=0;e<l;e+=1)s=r[e],i=s[0],"space"!==i||e!==l-1||n?"comment"===i?(a=r[e-1]?r[e-1][0]:"empty",o=r[e+1]?r[e+1][0]:"empty",sl[a]||sl[o]||","===c.slice(-1)?h=!1:c+=s[1]):c+=s[1]:h=!1;if(!h){let n=r.reduce(((e,t)=>e+t[1]),"");e.raws[t]={raw:n,value:c}}e[t]=c}rule(e){e.pop();let t=new nl;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],"space"===t||"comment"===t);)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let t,r="";for(;e.length&&(t=e[0][0],"space"===t||"comment"===t);)r+=e.shift()[1];return r}spacesFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],"space"===t);)r=e.pop()[1]+r;return r}stringFrom(e,t){let r="";for(let n=t;n<e.length;n++)r+=e[n][1];return e.splice(t,e.length-t),r}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};let ol=sa,al=il,ll=ko;function cl(e,t){let r=new ll(e,t),n=new al(r);try{n.parse()}catch(e){throw e}return n.root}var hl=cl;cl.default=cl,ol.registerParse(cl);let{isClean:ul,my:pl}=Yi,dl=jo,fl=Ji,ml=sa,gl=ca,yl=fa,wl=hl,vl=Ga;const bl={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},Cl={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},Sl={Once:!0,postcssPlugin:!0,prepare:!0},xl=0;function El(e){return"object"==typeof e&&"function"==typeof e.then}function Al(e){let t=!1,r=bl[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[r,r+"-"+t,xl,r+"Exit",r+"Exit-"+t]:t?[r,r+"-"+t,r+"Exit",r+"Exit-"+t]:e.append?[r,xl,r+"Exit"]:[r,r+"Exit"]}function Il(e){let t;return t="document"===e.type?["Document",xl,"DocumentExit"]:"root"===e.type?["Root",xl,"RootExit"]:Al(e),{eventIndex:0,events:t,iterator:0,node:e,visitorIndex:0,visitors:[]}}function Ml(e){return e[ul]=!1,e.nodes&&e.nodes.forEach((e=>Ml(e))),e}let Nl={},Tl=class e{constructor(t,r,n){let s;if(this.stringified=!1,this.processed=!1,"object"!=typeof r||null===r||"root"!==r.type&&"document"!==r.type)if(r instanceof e||r instanceof yl)s=Ml(r.root),r.map&&(void 0===n.map&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=r.map);else{let e=wl;n.syntax&&(e=n.syntax.parse),n.parser&&(e=n.parser),e.parse&&(e=e.parse);try{s=e(r,n)}catch(e){this.processed=!0,this.error=e}s&&!s[pl]&&ml.rebuild(s)}else s=Ml(r);this.result=new yl(t,s,n),this.helpers={...Nl,postcss:Nl,result:this.result},this.plugins=this.processor.plugins.map((e=>"object"==typeof e&&e.prepare?{...e,...e.prepare(this.result)}:e))}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let r=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?r.postcssVersion:(e.plugin=r.postcssPlugin,e.setMessage())}catch(e){console&&console.error&&console.error(e)}return e}prepareVisitors(){this.listeners={};let e=(e,t,r)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,r])};for(let t of this.plugins)if("object"==typeof t)for(let r in t){if(!Cl[r]&&/^[A-Z]/.test(r))throw new Error(`Unknown event ${r} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!Sl[r])if("object"==typeof t[r])for(let n in t[r])e(t,"*"===n?r:r+"-"+n.toLowerCase(),t[r][n]);else"function"==typeof t[r]&&e(t,r,t[r])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],r=this.runOnRoot(t);if(El(r))try{await r}catch(e){throw this.handleError(e)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[ul];){e[ul]=!0;let t=[Il(e)];for(;t.length>0;){let e=this.visitTick(t);if(El(e))try{await e}catch(e){let r=t[t.length-1].node;throw this.handleError(e,r)}}}if(this.listeners.OnceExit)for(let[t,r]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if("document"===e.type){let t=e.nodes.map((e=>r(e,this.helpers)));await Promise.all(t)}else await r(e,this.helpers)}catch(e){throw this.handleError(e)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){let t=this.result.root.nodes.map((t=>e.Once(t,this.helpers)));return El(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=fl;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let r=new dl(t,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){if(El(this.runOnRoot(e)))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[ul];)e[ul]=!0,this.walkSync(e);if(this.listeners.OnceExit)if("document"===e.type)for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[r,n]of e){let e;this.result.lastPlugin=r;try{e=n(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(El(e))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:r,visitors:n}=t;if("root"!==r.type&&"document"!==r.type&&!r.parent)return void e.pop();if(n.length>0&&t.visitorIndex<n.length){let[e,s]=n[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===n.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=e;try{return s(r.toProxy(),this.helpers)}catch(e){throw this.handleError(e,r)}}if(0!==t.iterator){let n,s=t.iterator;for(;n=r.nodes[r.indexes[s]];)if(r.indexes[s]+=1,!n[ul])return n[ul]=!0,void e.push(Il(n));t.iterator=0,delete r.indexes[s]}let s=t.events;for(;t.eventIndex<s.length;){let e=s[t.eventIndex];if(t.eventIndex+=1,e===xl)return void(r.nodes&&r.nodes.length&&(r[ul]=!0,t.iterator=r.getIterator()));if(this.listeners[e])return void(t.visitors=this.listeners[e])}e.pop()}walkSync(e){e[ul]=!0;let t=Al(e);for(let r of t)if(r===xl)e.nodes&&e.each((e=>{e[ul]||this.walkSync(e)}));else{let t=this.listeners[r];if(t&&this.visitSync(t,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};Tl.registerPostcss=e=>{Nl=e};var Rl=Tl;Tl.default=Tl,vl.registerLazyResult(Tl),gl.registerLazyResult(Tl);let kl=jo,Ol=Ji,Dl=hl;const Pl=fa;let _l=class{constructor(e,t,r){let n;t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=r,this._map=void 0;let s=Ol;this.result=new Pl(this._processor,n,this._opts),this.result.css=t;let i=this;Object.defineProperty(this.result,"root",{get:()=>i.root});let o=new kl(s,n,this._opts,t);if(o.isMap()){let[e,t]=o.generate();e&&(this.result.css=e),t&&(this.result.map=t)}else o.clearAnnotation(),this.result.css=o.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=Dl;try{e=t(this._css,this._opts)}catch(e){this.error=e}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}};var Ll=_l;_l.default=_l;let Fl=Ll,Bl=Rl,Ul=ca,$l=Ga,zl=class{constructor(e=[]){this.version="8.4.38",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let r of e)if(!0===r.postcss?r=r():r.postcss&&(r=r.postcss),"object"==typeof r&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if("object"==typeof r&&r.postcssPlugin)t.push(r);else if("function"==typeof r)t.push(r);else if("object"!=typeof r||!r.parse&&!r.stringify)throw new Error(r+" is not a PostCSS plugin");return t}process(e,t={}){return this.plugins.length||t.parser||t.stringifier||t.syntax?new Bl(this,e,t):new Fl(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};var jl=zl;zl.default=zl,$l.registerProcessor(zl),Ul.registerProcessor(zl);let Yl=oo,Vl=go,Gl=Go,Wl=$a,Zl=ko,Xl=Ga,Jl=Ka;function Hl(e,t){if(Array.isArray(e))return e.map((e=>Hl(e)));let{inputs:r,...n}=e;if(r){t=[];for(let e of r){let r={...e,__proto__:Zl.prototype};r.map&&(r.map={...r.map,__proto__:Vl.prototype}),t.push(r)}}if(n.nodes&&(n.nodes=e.nodes.map((e=>Hl(e,t)))),n.source){let{inputId:e,...r}=n.source;n.source=r,null!=e&&(n.source.input=t[e])}if("root"===n.type)return new Xl(n);if("decl"===n.type)return new Yl(n);if("rule"===n.type)return new Jl(n);if("comment"===n.type)return new Gl(n);if("atrule"===n.type)return new Wl(n);throw new Error("Unknown node type: "+e.type)}var Kl=Hl;Hl.default=Hl;let Ql=ji,ql=oo,ec=Rl,tc=sa,rc=jl,nc=Ji,sc=Kl,ic=ca,oc=ua,ac=Go,lc=$a,cc=fa,hc=ko,uc=hl,pc=Za,dc=Ka,fc=Ga,mc=no;function gc(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new rc(e)}gc.plugin=function(e,t){let r,n=!1;function s(...r){console&&console.warn&&!n&&(n=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),Ce.env.LANG&&Ce.env.LANG.startsWith("cn")&&console.warn(e+": 里面 postcss.plugin 被弃用. 迁移指南:\nhttps://www.w3ctech.com/topic/2226"));let s=t(...r);return s.postcssPlugin=e,s.postcssVersion=(new rc).version,s}return Object.defineProperty(s,"postcss",{get:()=>(r||(r=s()),r)}),s.process=function(e,t,r){return gc([s(r)]).process(e,t)},s},gc.stringify=nc,gc.parse=uc,gc.fromJSON=sc,gc.list=pc,gc.comment=e=>new ac(e),gc.atRule=e=>new lc(e),gc.decl=e=>new ql(e),gc.rule=e=>new dc(e),gc.root=e=>new fc(e),gc.document=e=>new ic(e),gc.CssSyntaxError=Ql,gc.Declaration=ql,gc.Container=tc,gc.Processor=rc,gc.Document=ic,gc.Comment=ac,gc.Warning=oc,gc.AtRule=lc,gc.Result=cc,gc.Input=hc,gc.Rule=dc,gc.Root=fc,gc.Node=mc,ec.registerPostcss(gc);var yc=gc;gc.default=gc;const wc=Oi(yc);function vc(e){const t=[];for(const r in e){const n=e[r];if("string"!=typeof n)continue;const s=Ec(r);t.push(`${s}: ${n};`)}return t.join(" ")}wc.stringify,wc.fromJSON,wc.plugin,wc.parse,wc.list,wc.document,wc.comment,wc.atRule,wc.rule,wc.decl,wc.root,wc.CssSyntaxError,wc.Declaration,wc.Container,wc.Processor,wc.Document,wc.Comment,wc.Warning,wc.AtRule,wc.Result,wc.Input,wc.Rule,wc.Root,wc.Node;const bc=/-([a-z])/g,Cc=/^--[a-zA-Z0-9-]+$/,Sc=e=>Cc.test(e)?e:e.replace(bc,((e,t)=>t?t.toUpperCase():"")),xc=/\B([A-Z])/g,Ec=e=>e.replace(xc,"-$1").toLowerCase();class Ac{constructor(...e){Mi(this,"parentElement",null),Mi(this,"parentNode",null),Mi(this,"ownerDocument"),Mi(this,"firstChild",null),Mi(this,"lastChild",null),Mi(this,"previousSibling",null),Mi(this,"nextSibling",null),Mi(this,"ELEMENT_NODE",1),Mi(this,"TEXT_NODE",3),Mi(this,"nodeType"),Mi(this,"nodeName"),Mi(this,"RRNodeType")}get childNodes(){const e=[];let t=this.firstChild;for(;t;)e.push(t),t=t.nextSibling;return e}contains(e){if(!(e instanceof Ac))return!1;if(e.ownerDocument!==this.ownerDocument)return!1;if(e===this)return!0;for(;e.parentNode;){if(e.parentNode===this)return!0;e=e.parentNode}return!1}appendChild(e){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(e,t){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(e){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}}class Ic extends Ac{constructor(...e){super(e),Mi(this,"nodeType",9),Mi(this,"nodeName","#document"),Mi(this,"compatMode","CSS1Compat"),Mi(this,"RRNodeType",Ri.Document),Mi(this,"textContent",null),this.ownerDocument=this}get documentElement(){return this.childNodes.find((e=>e.RRNodeType===Ri.Element&&"HTML"===e.tagName))||null}get body(){var e;return(null==(e=this.documentElement)?void 0:e.childNodes.find((e=>e.RRNodeType===Ri.Element&&"BODY"===e.tagName)))||null}get head(){var e;return(null==(e=this.documentElement)?void 0:e.childNodes.find((e=>e.RRNodeType===Ri.Element&&"HEAD"===e.tagName)))||null}get implementation(){return this}get firstElementChild(){return this.documentElement}appendChild(e){const t=e.RRNodeType;if((t===Ri.Element||t===Ri.DocumentType)&&this.childNodes.some((e=>e.RRNodeType===t)))throw new Error(`RRDomException: Failed to execute 'appendChild' on 'RRNode': Only one ${t===Ri.Element?"RRElement":"RRDoctype"} on RRDocument allowed.`);const r=_c(this,e);return r.parentElement=null,r}insertBefore(e,t){const r=e.RRNodeType;if((r===Ri.Element||r===Ri.DocumentType)&&this.childNodes.some((e=>e.RRNodeType===r)))throw new Error(`RRDomException: Failed to execute 'insertBefore' on 'RRNode': Only one ${r===Ri.Element?"RRElement":"RRDoctype"} on RRDocument allowed.`);const n=Lc(this,e,t);return n.parentElement=null,n}removeChild(e){return Fc(this,e)}open(){this.firstChild=null,this.lastChild=null}close(){}write(e){let t;if('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "">'===e?t="-//W3C//DTD XHTML 1.0 Transitional//EN":'<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "">'===e&&(t="-//W3C//DTD HTML 4.0 Transitional//EN"),t){const e=this.createDocumentType("html",t,"");this.open(),this.appendChild(e)}}createDocument(e,t,r){return new Ic}createDocumentType(e,t,r){const n=new Mc(e,t,r);return n.ownerDocument=this,n}createElement(e){const t=new Nc(e);return t.ownerDocument=this,t}createElementNS(e,t){return this.createElement(t)}createTextNode(e){const t=new kc(e);return t.ownerDocument=this,t}createComment(e){const t=new Oc(e);return t.ownerDocument=this,t}createCDATASection(e){const t=new Dc(e);return t.ownerDocument=this,t}toString(){return"RRDocument"}}class Mc extends Ac{constructor(e,t,r){super(),Mi(this,"nodeType",10),Mi(this,"RRNodeType",Ri.DocumentType),Mi(this,"name"),Mi(this,"publicId"),Mi(this,"systemId"),Mi(this,"textContent",null),this.name=e,this.publicId=t,this.systemId=r,this.nodeName=e}toString(){return"RRDocumentType"}}class Nc extends Ac{constructor(e){super(),Mi(this,"nodeType",1),Mi(this,"RRNodeType",Ri.Element),Mi(this,"tagName"),Mi(this,"attributes",{}),Mi(this,"shadowRoot",null),Mi(this,"scrollLeft"),Mi(this,"scrollTop"),this.tagName=e.toUpperCase(),this.nodeName=e.toUpperCase()}get textContent(){let e="";return this.childNodes.forEach((t=>e+=t.textContent)),e}set textContent(e){this.firstChild=null,this.lastChild=null,this.appendChild(this.ownerDocument.createTextNode(e))}get classList(){return new Pc(this.attributes.class,(e=>{this.attributes.class=e}))}get id(){return this.attributes.id||""}get className(){return this.attributes.class||""}get style(){const e=this.attributes.style?function(e){const t={},r=/:(.+)/;return e.replace(/\/\*.*?\*\//g,"").split(/;(?![^(]*\))/g).forEach((function(e){if(e){const n=e.split(r);n.length>1&&(t[Sc(n[0].trim())]=n[1].trim())}})),t}(this.attributes.style):{},t=/\B([A-Z])/g;return e.setProperty=(r,n,s)=>{if(t.test(r))return;const i=Sc(r);n?e[i]=n:delete e[i],"important"===s&&(e[i]+=" !important"),this.attributes.style=vc(e)},e.removeProperty=r=>{if(t.test(r))return"";const n=Sc(r),s=e[n]||"";return delete e[n],this.attributes.style=vc(e),s},e}getAttribute(e){return void 0===this.attributes[e]?null:this.attributes[e]}setAttribute(e,t){this.attributes[e]=t}setAttributeNS(e,t,r){this.setAttribute(t,r)}removeAttribute(e){delete this.attributes[e]}appendChild(e){return _c(this,e)}insertBefore(e,t){return Lc(this,e,t)}removeChild(e){return Fc(this,e)}attachShadow(e){const t=this.ownerDocument.createElement("SHADOWROOT");return this.shadowRoot=t,t}dispatchEvent(e){return!0}toString(){let e="";for(const t in this.attributes)e+=`${t}="${this.attributes[t]}" `;return`${this.tagName} ${e}`}}class Tc extends Nc{constructor(){super(...arguments),Mi(this,"currentTime"),Mi(this,"volume"),Mi(this,"paused"),Mi(this,"muted"),Mi(this,"playbackRate"),Mi(this,"loop")}attachShadow(e){throw new Error("RRDomException: Failed to execute 'attachShadow' on 'RRElement': This RRElement does not support attachShadow")}play(){this.paused=!1}pause(){this.paused=!0}}class Rc extends Nc{constructor(){super(...arguments),Mi(this,"tagName","DIALOG"),Mi(this,"nodeName","DIALOG")}get isModal(){return"modal"===this.getAttribute("rr_open_mode")}get open(){return null!==this.getAttribute("open")}close(){this.removeAttribute("open"),this.removeAttribute("rr_open_mode")}show(){this.setAttribute("open",""),this.setAttribute("rr_open_mode","non-modal")}showModal(){this.setAttribute("open",""),this.setAttribute("rr_open_mode","modal")}}class kc extends Ac{constructor(e){super(),Mi(this,"nodeType",3),Mi(this,"nodeName","#text"),Mi(this,"RRNodeType",Ri.Text),Mi(this,"data"),this.data=e}get textContent(){return this.data}set textContent(e){this.data=e}toString(){return`RRText text=${JSON.stringify(this.data)}`}}class Oc extends Ac{constructor(e){super(),Mi(this,"nodeType",8),Mi(this,"nodeName","#comment"),Mi(this,"RRNodeType",Ri.Comment),Mi(this,"data"),this.data=e}get textContent(){return this.data}set textContent(e){this.data=e}toString(){return`RRComment text=${JSON.stringify(this.data)}`}}class Dc extends Ac{constructor(e){super(),Mi(this,"nodeName","#cdata-section"),Mi(this,"nodeType",4),Mi(this,"RRNodeType",Ri.CDATA),Mi(this,"data"),this.data=e}get textContent(){return this.data}set textContent(e){this.data=e}toString(){return`RRCDATASection data=${JSON.stringify(this.data)}`}}class Pc{constructor(e,t){if(Mi(this,"onChange"),Mi(this,"classes",[]),Mi(this,"add",((...e)=>{for(const t of e){const e=String(t);this.classes.indexOf(e)>=0||this.classes.push(e)}this.onChange&&this.onChange(this.classes.join(" "))})),Mi(this,"remove",((...e)=>{this.classes=this.classes.filter((t=>-1===e.indexOf(t))),this.onChange&&this.onChange(this.classes.join(" "))})),e){const t=e.trim().split(/\s+/);this.classes.push(...t)}this.onChange=t}}function _c(e,t){return t.parentNode&&t.parentNode.removeChild(t),e.lastChild?(e.lastChild.nextSibling=t,t.previousSibling=e.lastChild):(e.firstChild=t,t.previousSibling=null),e.lastChild=t,t.nextSibling=null,t.parentNode=e,t.parentElement=e,t.ownerDocument=e.ownerDocument,t}function Lc(e,t,r){if(!r)return _c(e,t);if(r.parentNode!==e)throw new Error("Failed to execute 'insertBefore' on 'RRNode': The RRNode before which the new node is to be inserted is not a child of this RRNode.");return t===r||(t.parentNode&&t.parentNode.removeChild(t),t.previousSibling=r.previousSibling,r.previousSibling=t,t.nextSibling=r,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,t.parentElement=e,t.parentNode=e,t.ownerDocument=e.ownerDocument),t}function Fc(e,t){if(t.parentNode!==e)throw new Error("Failed to execute 'removeChild' on 'RRNode': The RRNode to be removed is not a child of this RRNode.");return t.previousSibling?t.previousSibling.nextSibling=t.nextSibling:e.firstChild=t.nextSibling,t.nextSibling?t.nextSibling.previousSibling=t.previousSibling:e.lastChild=t.previousSibling,t.previousSibling=null,t.nextSibling=null,t.parentElement=null,t.parentNode=null,t}var Bc=(e=>(e[e.PLACEHOLDER=0]="PLACEHOLDER",e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",e[e.ENTITY_NODE=6]="ENTITY_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE",e))(Bc||{});const Uc={svg:"http://www.w3.org/2000/svg","xlink:href":"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/xmlns/"},$c={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};let zc=null;function jc(e,t,r,n=t.mirror||t.ownerDocument.mirror){e=function(e,t,r,n){var s;r.afterAppend&&!zc&&(zc=new WeakSet,setTimeout((()=>{zc=null}),0));if(!Gc(e,t)){const i=Vc(t,r.mirror,n);null==(s=e.parentNode)||s.replaceChild(i,e),e=i}switch(t.RRNodeType){case Ri.Document:if(!Wc(e,t,r.mirror,n)){const s=n.getMeta(t);s&&(r.mirror.removeNodeFromMap(e),e.close(),e.open(),r.mirror.add(e,s),null==zc||zc.add(e))}break;case Ri.Element:{const s=e,i=t;switch(i.tagName){case"IFRAME":{const s=e.contentDocument;if(!s)break;jc(s,t.contentDocument,r,n);break}}i.shadowRoot&&(s.shadowRoot||s.attachShadow({mode:"open"}),Yc(s.shadowRoot,i.shadowRoot,r,n)),function(e,t,r){const n=e.attributes,s=t.attributes;for(const n in s){const i=s[n],o=r.getMeta(t);if((null==o?void 0:o.isSVG)&&Uc[n])e.setAttributeNS(Uc[n],n,i);else if("CANVAS"===t.tagName&&"rr_dataURL"===n){const t=document.createElement("img");t.src=i,t.onload=()=>{const r=e.getContext("2d");r&&r.drawImage(t,0,0,t.width,t.height)}}else{if("IFRAME"===t.tagName&&"srcdoc"===n)continue;e.setAttribute(n,i)}}for(const{name:t}of Array.from(n))t in s||e.removeAttribute(t);t.scrollLeft&&(e.scrollLeft=t.scrollLeft),t.scrollTop&&(e.scrollTop=t.scrollTop)}(s,i,n);break}}return e}(e,t,r,n),Yc(e,t,r,n),function(e,t,r){var n;switch(t.RRNodeType){case Ri.Document:{const e=t.scrollData;e&&r.applyScroll(e,!0);break}case Ri.Element:{const n=e,s=t;switch(s.scrollData&&r.applyScroll(s.scrollData,!0),s.inputData&&r.applyInput(s.inputData),s.tagName){case"AUDIO":case"VIDEO":{const t=e,r=s;void 0!==r.paused&&(r.paused?t.pause():t.play()),void 0!==r.muted&&(t.muted=r.muted),void 0!==r.volume&&(t.volume=r.volume),void 0!==r.currentTime&&(t.currentTime=r.currentTime),void 0!==r.playbackRate&&(t.playbackRate=r.playbackRate),void 0!==r.loop&&(t.loop=r.loop);break}case"CANVAS":{const s=t;if(null!==s.rr_dataURL){const e=document.createElement("img");e.onload=()=>{const t=n.getContext("2d");t&&t.drawImage(e,0,0,e.width,e.height)},e.src=s.rr_dataURL}s.canvasMutations.forEach((t=>r.applyCanvas(t.event,t.mutation,e)));break}case"STYLE":{const e=n.sheet;e&&t.rules.forEach((t=>r.applyStyleSheetMutation(t,e)));break}case"DIALOG":{const e=n,t=s,r=e.open,i=e.matches("dialog:modal"),o=t.open,a=t.isModal,l=i!==a,c=r!==o;if((l||r&&c)&&e.close(),o&&(c||l))try{a?e.showModal():e.show()}catch(e){console.warn(e)}break}}break}case Ri.Text:case Ri.Comment:case Ri.CDATA:e.textContent!==t.data&&(e.textContent=t.data)}(null==zc?void 0:zc.has(e))&&(zc.delete(e),null==(n=r.afterAppend)||n.call(r,e,r.mirror.getId(e)))}(e,t,r)}function Yc(e,t,r,n){const s=Array.from(e.childNodes),i=t.childNodes;if(0===s.length&&0===i.length)return;let o,a,l=0,c=s.length-1,h=0,u=i.length-1,p=s[l],d=s[c],f=i[h],m=i[u];for(;l<=c&&h<=u;)if(void 0===p)p=s[++l];else if(void 0===d)d=s[--c];else if(Wc(p,f,r.mirror,n))p=s[++l],f=i[++h];else if(Wc(d,m,r.mirror,n))d=s[--c],m=i[--u];else if(Wc(p,m,r.mirror,n)){try{e.insertBefore(p,d.nextSibling)}catch(e){console.warn(e)}p=s[++l],m=i[--u]}else if(Wc(d,f,r.mirror,n)){try{e.insertBefore(d,p)}catch(e){console.warn(e)}d=s[--c],f=i[++h]}else{if(!o){o={};for(let e=l;e<=c;e++){const t=s[e];t&&r.mirror.hasNode(t)&&(o[r.mirror.getId(t)]=e)}}a=o[n.getId(f)];const t=s[a];if(void 0!==a&&t&&Wc(t,f,r.mirror,n)){try{e.insertBefore(t,p)}catch(e){console.warn(e)}s[a]=void 0}else{const t=Vc(f,r.mirror,n);"#document"===e.nodeName&&p&&(t.nodeType===t.DOCUMENT_TYPE_NODE&&p.nodeType===p.DOCUMENT_TYPE_NODE||t.nodeType===t.ELEMENT_NODE&&p.nodeType===p.ELEMENT_NODE)&&(e.removeChild(p),r.mirror.removeNodeFromMap(p),p=s[++l]);try{e.insertBefore(t,p||null)}catch(e){console.warn(e)}}f=i[++h]}if(l>c){const t=i[u+1];let s=null;for(t&&(s=r.mirror.getNode(n.getId(t)));h<=u;++h){const t=Vc(i[h],r.mirror,n);try{e.insertBefore(t,s)}catch(e){console.warn(e)}}}else if(h>u)for(;l<=c;l++){const t=s[l];if(t&&t.parentNode===e)try{e.removeChild(t),r.mirror.removeNodeFromMap(t)}catch(e){console.warn(e)}}let g=e.firstChild,y=t.firstChild;for(;null!==g&&null!==y;)jc(g,y,r,n),g=g.nextSibling,y=y.nextSibling}function Vc(e,t,r){const n=r.getId(e),s=r.getMeta(e);let i=null;if(n>-1&&(i=t.getNode(n)),null!==i&&Gc(i,e))return i;switch(e.RRNodeType){case Ri.Document:i=new Document;break;case Ri.DocumentType:i=document.implementation.createDocumentType(e.name,e.publicId,e.systemId);break;case Ri.Element:{let t=e.tagName.toLowerCase();t=$c[t]||t,i=s&&"isSVG"in s&&(null==s?void 0:s.isSVG)?document.createElementNS(Uc.svg,t):document.createElement(e.tagName);break}case Ri.Text:i=document.createTextNode(e.data);break;case Ri.Comment:i=document.createComment(e.data);break;case Ri.CDATA:i=document.createCDATASection(e.data)}s&&t.add(i,{...s});try{null==zc||zc.add(i)}catch(e){}return i}function Gc(e,t){return e.nodeType===t.nodeType&&(e.nodeType!==e.ELEMENT_NODE||e.tagName.toUpperCase()===t.tagName)}function Wc(e,t,r,n){const s=r.getId(e),i=n.getId(t);return-1!==s&&s===i&&Gc(e,t)}class Zc extends Ic{constructor(e){super(),Mi(this,"UNSERIALIZED_STARTING_ID",-2),Mi(this,"_unserializedId",this.UNSERIALIZED_STARTING_ID),Mi(this,"mirror",new oh),Mi(this,"scrollData",null),e&&(this.mirror=e)}get unserializedId(){return this._unserializedId--}createDocument(e,t,r){return new Zc}createDocumentType(e,t,r){const n=new Xc(e,t,r);return n.ownerDocument=this,n}createElement(e){const t=e.toUpperCase();let r;switch(t){case"AUDIO":case"VIDEO":r=new Hc(t);break;case"IFRAME":r=new eh(t,this.mirror);break;case"CANVAS":r=new Qc(t);break;case"STYLE":r=new qc(t);break;case"DIALOG":r=new Kc(t);break;default:r=new Jc(t)}return r.ownerDocument=this,r}createComment(e){const t=new rh(e);return t.ownerDocument=this,t}createCDATASection(e){const t=new nh(e);return t.ownerDocument=this,t}createTextNode(e){const t=new th(e);return t.ownerDocument=this,t}destroyTree(){this.firstChild=null,this.lastChild=null,this.mirror.reset()}open(){super.open(),this._unserializedId=this.UNSERIALIZED_STARTING_ID}}const Xc=Mc;class Jc extends Nc{constructor(){super(...arguments),Mi(this,"inputData",null),Mi(this,"scrollData",null)}}class Hc extends Tc{}class Kc extends Rc{}class Qc extends Jc{constructor(){super(...arguments),Mi(this,"rr_dataURL",null),Mi(this,"canvasMutations",[])}getContext(){return null}}class qc extends Jc{constructor(){super(...arguments),Mi(this,"rules",[])}}class eh extends Jc{constructor(e,t){super(e),Mi(this,"contentDocument",new Zc),this.contentDocument.mirror=t}}const th=kc,rh=Oc,nh=Dc;function sh(e,t,r,n){let s;switch(e.nodeType){case Bc.DOCUMENT_NODE:n&&"IFRAME"===n.nodeName?s=n.contentDocument:(s=t,s.compatMode=e.compatMode);break;case Bc.DOCUMENT_TYPE_NODE:{const r=e;s=t.createDocumentType(r.name,r.publicId,r.systemId);break}case Bc.ELEMENT_NODE:{const r=e,n=(i=r)instanceof HTMLFormElement?"FORM":i.tagName.toUpperCase();s=t.createElement(n);const o=s;for(const{name:e,value:t}of Array.from(r.attributes))o.attributes[e]=t;r.scrollLeft&&(o.scrollLeft=r.scrollLeft),r.scrollTop&&(o.scrollTop=r.scrollTop);break}case Bc.TEXT_NODE:s=t.createTextNode(e.textContent||"");break;case Bc.CDATA_SECTION_NODE:s=t.createCDATASection(e.data);break;case Bc.COMMENT_NODE:s=t.createComment(e.textContent||"");break;case Bc.DOCUMENT_FRAGMENT_NODE:s=n.attachShadow({mode:"open"});break;default:return null}var i;let o=r.getMeta(e);return t instanceof Zc&&(o||(o=ah(s,t.unserializedId),r.add(e,o)),t.mirror.add(s,{...o})),s}function ih(e,t=function(){return new ki}(),r=new Zc){return function e(n,s){const i=sh(n,r,t,s);if(null!==i)if("IFRAME"!==(null==s?void 0:s.nodeName)&&n.nodeType!==Bc.DOCUMENT_FRAGMENT_NODE&&(null==s||s.appendChild(i),i.parentNode=s,i.parentElement=s),"IFRAME"===n.nodeName){const t=n.contentDocument;t&&e(t,i)}else n.nodeType!==Bc.DOCUMENT_NODE&&n.nodeType!==Bc.ELEMENT_NODE&&n.nodeType!==Bc.DOCUMENT_FRAGMENT_NODE||(n.nodeType===Bc.ELEMENT_NODE&&n.shadowRoot&&e(n.shadowRoot,i),n.childNodes.forEach((t=>e(t,i))))}(e,null),r}class oh{constructor(){Mi(this,"idNodeMap",new Map),Mi(this,"nodeMetaMap",new WeakMap)}getId(e){var t;if(!e)return-1;return(null==(t=this.getMeta(e))?void 0:t.id)??-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const r=t.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,t)}replace(e,t){const r=this.getNode(e);if(r){const e=this.nodeMetaMap.get(r);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function ah(e,t){switch(e.RRNodeType){case Ri.Document:return{id:t,type:e.RRNodeType,childNodes:[]};case Ri.DocumentType:{const r=e;return{id:t,type:e.RRNodeType,name:r.name,publicId:r.publicId,systemId:r.systemId}}case Ri.Element:return{id:t,type:e.RRNodeType,tagName:e.tagName.toLowerCase(),attributes:{},childNodes:[]};case Ri.Text:case Ri.Comment:return{id:t,type:e.RRNodeType,textContent:e.textContent||""};case Ri.CDATA:return{id:t,type:e.RRNodeType,textContent:""}}}const lh={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},ch={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},hh={};function uh(e){if(hh[e])return hh[e];const t=globalThis[e],r=t.prototype,n=e in lh?lh[e]:void 0,s=Boolean(n&&n.every((e=>{var t,n;return Boolean(null==(n=null==(t=Object.getOwnPropertyDescriptor(r,e))?void 0:t.get)?void 0:n.toString().includes("[native code]"))}))),i=e in ch?ch[e]:void 0,o=Boolean(i&&i.every((e=>{var t;return"function"==typeof r[e]&&(null==(t=r[e])?void 0:t.toString().includes("[native code]"))})));if(s&&o)return hh[e]=t.prototype,t.prototype;try{const n=document.createElement("iframe");document.body.appendChild(n);const s=n.contentWindow;if(!s)return t.prototype;const i=s[e].prototype;return document.body.removeChild(n),i?hh[e]=i:r}catch{return r}}const ph={};function dh(e,t,r){var n;const s=`${e}.${String(r)}`;if(ph[s])return ph[s].call(t);const i=uh(e),o=null==(n=Object.getOwnPropertyDescriptor(i,r))?void 0:n.get;return o?(ph[s]=o,o.call(t)):t[r]}const fh={};function mh(e,t,r){const n=`${e}.${String(r)}`;if(fh[n])return fh[n].bind(t);const s=uh(e)[r];return"function"!=typeof s?t[r]:(fh[n]=s,s.bind(t))}const gh={childNodes:function(e){return dh("Node",e,"childNodes")},parentNode:function(e){return dh("Node",e,"parentNode")},parentElement:function(e){return dh("Node",e,"parentElement")},textContent:function(e){return dh("Node",e,"textContent")},contains:function(e,t){return mh("Node",e,"contains")(t)},getRootNode:function(e){return mh("Node",e,"getRootNode")()},host:function(e){return e&&"host"in e?dh("ShadowRoot",e,"host"):null},styleSheets:function(e){return e.styleSheets},shadowRoot:function(e){return e&&"shadowRoot"in e?dh("Element",e,"shadowRoot"):null},querySelector:function(e,t){return dh("Element",e,"querySelector")(t)},querySelectorAll:function(e,t){return dh("Element",e,"querySelectorAll")(t)},mutationObserver:function(){return uh("MutationObserver").constructor}},yh="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let wh={map:{},getId:()=>(console.error(yh),-1),getNode:()=>(console.error(yh),null),removeNodeFromMap(){console.error(yh)},has:()=>(console.error(yh),!1),reset(){console.error(yh)}};function vh(e){const t={},r=(e,r)=>{const n={value:e,parent:r,children:[]};return t[e.node.id]=n,n},n=[];for(const s of e){const{nextId:e,parentId:i}=s;if(e&&e in t){const i=t[e];if(i.parent){const e=i.parent.children.indexOf(i);i.parent.children.splice(e,0,r(s,i.parent))}else{const e=n.indexOf(i);n.splice(e,0,r(s,null))}}else if(i in t){const e=t[i];e.children.push(r(s,e))}else n.push(r(s,null))}return n}function bh(e,t){t(e.value);for(let r=e.children.length-1;r>=0;r--)bh(e.children[r],t)}function Ch(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function Sh(e,t){var r,n;const s=null==(n=null==(r=e.ownerDocument)?void 0:r.defaultView)?void 0:n.frameElement;if(!s||s===t)return{x:0,y:0,relativeScale:1,absoluteScale:1};const i=s.getBoundingClientRect(),o=Sh(s,t),a=i.height/s.clientHeight;return{x:i.x*o.relativeScale+o.x,y:i.y*o.relativeScale+o.y,relativeScale:a,absoluteScale:o.absoluteScale*a}}function xh(e){return!!e&&(e instanceof Ac&&"shadowRoot"in e?Boolean(e.shadowRoot):Boolean(gh.shadowRoot(e)))}function Eh(e,t){const r=e[t[0]];return 1===t.length?r:Eh(r.cssRules[t[1]].cssRules,t.slice(2))}function Ah(e){const t=[...e],r=t.pop();return{positions:t,index:r}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(wh=new Proxy(wh,{get:(e,t,r)=>("map"===t&&console.error(yh),Reflect.get(e,t,r))})),Date.now().toString();class Ih{constructor(){xt(this,"id",1),xt(this,"styleIDMap",new WeakMap),xt(this,"idStyleMap",new Map)}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let r;return r=void 0===t?this.id++:t,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}for(var Mh=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Mh||{}),Nh=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Nh||{}),Th=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Th||{}),Rh=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Rh||{}),kh=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(kh||{}),Oh=(e=>(e.Start="start",e.Pause="pause",e.Resume="resume",e.Resize="resize",e.Finish="finish",e.FullsnapshotRebuilded="fullsnapshot-rebuilded",e.LoadStylesheetStart="load-stylesheet-start",e.LoadStylesheetEnd="load-stylesheet-end",e.SkipStart="skip-start",e.SkipEnd="skip-end",e.MouseInteraction="mouse-interaction",e.EventCast="event-cast",e.CustomEvent="custom-event",e.Flush="flush",e.StateChange="state-change",e.PlayBack="play-back",e.Destroy="destroy",e))(Oh||{}),Dh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ph="undefined"==typeof Uint8Array?[]:new Uint8Array(256),_h=0;_h<64;_h++)Ph[Dh.charCodeAt(_h)]=_h;var Lh=function(e){var t,r,n,s,i,o=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c=new ArrayBuffer(o),h=new Uint8Array(c);for(t=0;t<a;t+=4)r=Ph[e.charCodeAt(t)],n=Ph[e.charCodeAt(t+1)],s=Ph[e.charCodeAt(t+2)],i=Ph[e.charCodeAt(t+3)],h[l++]=r<<2|n>>4,h[l++]=(15&n)<<4|s>>2,h[l++]=(3&s)<<6|63&i;return c};var Fh;"undefined"!=typeof window&&window.Blob&&new Blob([(Fh="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",Uint8Array.from(atob(Fh),(e=>e.charCodeAt(0))))],{type:"text/javascript;charset=utf-8"});try{if(2!==Array.from([1],(e=>2*e))[0]){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=(null==(Ct=e.contentWindow)?void 0:Ct.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}function Bh(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map((function(e){e(r)})),(n=e.get("*"))&&n.slice().map((function(e){e(t,r)}))}}}Tt();const Uh=Object.freeze(Object.defineProperty({__proto__:null,default:Bh},Symbol.toStringTag,{value:"Module"}));function $h(e=window,t=document){if("scrollBehavior"in t.documentElement.style&&!0!==e.__forceSmoothScrollPolyfill__)return;const r=e.HTMLElement||e.Element,n=468,s={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:r.prototype.scroll||l,scrollIntoView:r.prototype.scrollIntoView},i=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now;const o=(a=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(a)?1:0);var a;function l(e,t){this.scrollLeft=e,this.scrollTop=t}function c(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function h(e,t){return"Y"===t?e.clientHeight+o<e.scrollHeight:"X"===t?e.clientWidth+o<e.scrollWidth:void 0}function u(t,r){const n=e.getComputedStyle(t,null)["overflow"+r];return"auto"===n||"scroll"===n}function p(e){const t=h(e,"Y")&&u(e,"Y"),r=h(e,"X")&&u(e,"X");return t||r}function d(t){let r,s,o,a=(i()-t.startTime)/n;var l;a=a>1?1:a,l=a,r=.5*(1-Math.cos(Math.PI*l)),s=t.startX+(t.x-t.startX)*r,o=t.startY+(t.y-t.startY)*r,t.method.call(t.scrollable,s,o),s===t.x&&o===t.y||e.requestAnimationFrame(d.bind(e,t))}function f(r,n,o){let a,c,h,u;const p=i();r===t.body?(a=e,c=e.scrollX||e.pageXOffset,h=e.scrollY||e.pageYOffset,u=s.scroll):(a=r,c=r.scrollLeft,h=r.scrollTop,u=l),d({scrollable:a,method:u,startTime:p,startX:c,startY:h,x:n,y:o})}e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?f.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):s.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(c(arguments[0])?s.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):f.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},r.prototype.scroll=r.prototype.scrollTo=function(){if(void 0===arguments[0])return;if(!0===c(arguments[0])){if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");return void s.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}const e=arguments[0].left,t=arguments[0].top;f.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)},r.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):s.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},r.prototype.scrollIntoView=function(){if(!0===c(arguments[0]))return void s.scrollIntoView.call(this,void 0===arguments[0]||arguments[0]);const r=function(e){for(;e!==t.body&&!1===p(e);)e=e.parentNode||e.host;return e}(this),n=r.getBoundingClientRect(),i=this.getBoundingClientRect();r!==t.body?(f.call(this,r,r.scrollLeft+i.left-n.left,r.scrollTop+i.top-n.top),"fixed"!==e.getComputedStyle(r).position&&e.scrollBy({left:n.left,top:n.top,behavior:"smooth"})):e.scrollBy({left:i.left,top:i.top,behavior:"smooth"})}}class zh{constructor(e=[],t){xt(this,"timeOffset",0),xt(this,"speed"),xt(this,"actions"),xt(this,"raf",null),xt(this,"lastTimestamp"),this.actions=e,this.speed=t.speed}addAction(e){const t=!0===this.raf;if(!this.actions.length||this.actions[this.actions.length-1].delay<=e.delay)this.actions.push(e);else{const t=this.findActionIndex(e);this.actions.splice(t,0,e)}t&&(this.raf=requestAnimationFrame(this.rafCheck.bind(this)))}start(){this.timeOffset=0,this.lastTimestamp=performance.now(),this.raf=requestAnimationFrame(this.rafCheck.bind(this))}rafCheck(){const e=performance.now();for(this.timeOffset+=(e-this.lastTimestamp)*this.speed,this.lastTimestamp=e;this.actions.length;){const e=this.actions[0];if(!(this.timeOffset>=e.delay))break;this.actions.shift(),e.doAction()}this.actions.length>0?this.raf=requestAnimationFrame(this.rafCheck.bind(this)):this.raf=!0}clear(){this.raf&&(!0!==this.raf&&cancelAnimationFrame(this.raf),this.raf=null),this.actions.length=0}setSpeed(e){this.speed=e}isActive(){return null!==this.raf}findActionIndex(e){let t=0,r=this.actions.length-1;for(;t<=r;){const n=Math.floor((t+r)/2);if(this.actions[n].delay<e.delay)t=n+1;else{if(!(this.actions[n].delay>e.delay))return n+1;r=n-1}}return t}}function jh(e,t){if(e.type===Mh.IncrementalSnapshot&&e.data.source===Nh.MouseMove&&e.data.positions&&e.data.positions.length){const r=e.data.positions[0].timeOffset,n=e.timestamp+r;return e.delay=n-t,n-t}return e.delay=e.timestamp-t,e.delay}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Yh(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,s,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){s={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}return o}var Vh,Gh;(Gh=Vh||(Vh={}))[Gh.NotStarted=0]="NotStarted",Gh[Gh.Running=1]="Running",Gh[Gh.Stopped=2]="Stopped";var Wh={type:"xstate.init"};function Zh(e){return void 0===e?[]:[].concat(e)}function Xh(e){return{type:"xstate.assign",assignment:e}}function Jh(e,t){return"string"==typeof(e="string"==typeof e&&t&&t[e]?t[e]:e)?{type:e}:"function"==typeof e?{type:e.name,exec:e}:e}function Hh(e){return function(t){return e===t}}function Kh(e){return"string"==typeof e?{type:e}:e}function Qh(e,t){return{value:e,context:t,actions:[],changed:!1,matches:Hh(e)}}function qh(e,t,r){var n=t,s=!1;return[e.filter((function(e){if("xstate.assign"===e.type){s=!0;var t=Object.assign({},n);return"function"==typeof e.assignment?t=e.assignment(n,r):Object.keys(e.assignment).forEach((function(s){t[s]="function"==typeof e.assignment[s]?e.assignment[s](n,r):e.assignment[s]})),n=t,!1}return!0})),n,s]}function eu(e,t){void 0===t&&(t={});var r=Yh(qh(Zh(e.states[e.initial].entry).map((function(e){return Jh(e,t.actions)})),e.context,Wh),2),n=r[0],s=r[1],i={config:e,_options:t,initialState:{value:e.initial,actions:n,context:s,matches:Hh(e.initial)},transition:function(t,r){var n,s,o="string"==typeof t?{value:t,context:e.context}:t,a=o.value,l=o.context,c=Kh(r),h=e.states[a];if(h.on){var u=Zh(h.on[c.type]);try{for(var p=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(u),d=p.next();!d.done;d=p.next()){var f=d.value;if(void 0===f)return Qh(a,l);var m="string"==typeof f?{target:f}:f,g=m.target,y=m.actions,w=void 0===y?[]:y,v=m.cond,b=void 0===v?function(){return!0}:v,C=void 0===g,S=null!=g?g:a,x=e.states[S];if(b(l,c)){var E=Yh(qh((C?Zh(w):[].concat(h.exit,w,x.entry).filter((function(e){return e}))).map((function(e){return Jh(e,i._options.actions)})),l,c),3),A=E[0],I=E[1],M=E[2],N=null!=g?g:a;return{value:N,context:I,actions:A,changed:g!==a||A.length>0||M,matches:Hh(N)}}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(s=p.return)&&s.call(p)}finally{if(n)throw n.error}}}return Qh(a,l)}};return i}var tu=function(e,t){return e.actions.forEach((function(r){var n=r.exec;return n&&n(e.context,t)}))};function ru(e){var t=e.initialState,r=Vh.NotStarted,n=new Set,s={_machine:e,send:function(s){r===Vh.Running&&(t=e.transition(t,s),tu(t,Kh(s)),n.forEach((function(e){return e(t)})))},subscribe:function(e){return n.add(e),e(t),{unsubscribe:function(){return n.delete(e)}}},start:function(n){if(n){var i="object"==typeof n?n:{context:e.config.context,value:n};t={value:i.value,actions:[],context:i.context,matches:Hh(i.value)}}return r=Vh.Running,tu(t,Wh),s},stop:function(){return r=Vh.Stopped,n.clear(),s},get state(){return t},get status(){return r}};return s}function nu(e,{getCastFn:t,applyEventsSynchronously:r,emitter:n}){return ru(eu({id:"player",context:e,initial:"paused",states:{playing:{on:{PAUSE:{target:"paused",actions:["pause"]},CAST_EVENT:{target:"playing",actions:"castEvent"},END:{target:"paused",actions:["resetLastPlayedEvent","pause"]},ADD_EVENT:{target:"playing",actions:["addEvent"]}}},paused:{on:{PLAY:{target:"playing",actions:["recordTimeOffset","play"]},CAST_EVENT:{target:"paused",actions:"castEvent"},TO_LIVE:{target:"live",actions:["startLive"]},ADD_EVENT:{target:"paused",actions:["addEvent"]}}},live:{on:{ADD_EVENT:{target:"live",actions:["addEvent"]},CAST_EVENT:{target:"live",actions:["castEvent"]}}}}},{actions:{castEvent:Xh({lastPlayedEvent:(e,t)=>"CAST_EVENT"===t.type?t.payload.event:e.lastPlayedEvent}),recordTimeOffset:Xh(((e,t)=>{let r=e.timeOffset;return"payload"in t&&"timeOffset"in t.payload&&(r=t.payload.timeOffset),{...e,timeOffset:r,baselineTime:e.events[0].timestamp+r}})),play(e){var s;const{timer:i,events:o,baselineTime:a,lastPlayedEvent:l}=e;i.clear();for(const e of o)jh(e,a);const c=function(e,t){for(let r=e.length-1;r>=0;r--){const n=e[r];if(n.type===Mh.Meta&&n.timestamp<=t)return e.slice(r)}return e}(o,a);let h=null==l?void 0:l.timestamp;(null==l?void 0:l.type)===Mh.IncrementalSnapshot&&l.data.source===Nh.MouseMove&&(h=l.timestamp+(null==(s=l.data.positions[0])?void 0:s.timeOffset)),a<(h||0)&&n.emit(Oh.PlayBack);const u=new Array;for(const e of c)if(!(h&&h<a&&(e.timestamp<=h||e===l)))if(e.timestamp<a)u.push(e);else{const r=t(e,!1);i.addAction({doAction:()=>{r()},delay:e.delay})}r(u),n.emit(Oh.Flush),i.start()},pause(e){e.timer.clear()},resetLastPlayedEvent:Xh((e=>({...e,lastPlayedEvent:null}))),startLive:Xh({baselineTime:(e,t)=>(e.timer.start(),"TO_LIVE"===t.type&&t.payload.baselineTime?t.payload.baselineTime:Date.now())}),addEvent:Xh(((e,r)=>{const{baselineTime:n,timer:s,events:i}=e;if("ADD_EVENT"===r.type){const{event:e}=r.payload;jh(e,n);let o=i.length-1;if(!i[o]||i[o].timestamp<=e.timestamp)i.push(e);else{let t=-1,r=0;for(;r<=o;){const t=Math.floor((r+o)/2);i[t].timestamp<=e.timestamp?r=t+1:o=t-1}-1===t&&(t=r),i.splice(t,0,e)}const a=e.timestamp<n,l=t(e,a);a?l():s.isActive()&&s.addAction({doAction:()=>{l()},delay:e.delay})}return{...e,events:i}}))}}))}const su=new Map;function iu(e,t){let r=su.get(e);return r||(r=new Map,su.set(e,r)),r.has(t)||r.set(t,[]),r.get(t)}function ou(e,t,r){return async n=>{if(n&&"object"==typeof n&&"rr_type"in n){if(r&&(r.isUnchanged=!1),"ImageBitmap"===n.rr_type&&"args"in n){const s=await ou(e,t,r)(n.args);return await createImageBitmap.apply(null,s)}if("index"in n){if(r||null===t)return n;const{rr_type:e,index:s}=n;return iu(t,e)[s]}if("args"in n){const{rr_type:s,args:i}=n;return new(0,window[s])(...await Promise.all(i.map(ou(e,t,r))))}if("base64"in n)return Lh(n.base64);if("src"in n){const t=e.get(n.src);if(t)return t;{const t=new Image;return t.src=n.src,e.set(n.src,t),t}}if("data"in n&&"Blob"===n.rr_type){const s=await Promise.all(n.data.map(ou(e,t,r)));return new Blob(s,{type:n.type})}}else if(Array.isArray(n)){return await Promise.all(n.map(ou(e,t,r)))}return n}}const au=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject"];async function lu({mutation:e,target:t,type:r,imageMap:n,errorHandler:s}){try{const s=function(e,t){try{return t===Rh.WebGL?e.getContext("webgl")||e.getContext("experimental-webgl"):e.getContext("webgl2")}catch(e){return null}}(t,r);if(!s)return;if(e.setter)return void(s[e.property]=e.args[0]);const i=s[e.property],o=await Promise.all(e.args.map(ou(n,s)));!function(e,t){if(!(null==t?void 0:t.constructor))return;const{name:r}=t.constructor;if(!au.includes(r))return;const n=iu(e,r);n.includes(t)||n.push(t)}(s,i.apply(s,o))}catch(t){s(e,t)}}async function cu({event:e,mutation:t,target:r,imageMap:n,canvasEventMap:s,errorHandler:i}){try{const o=s.get(e)||t,a="commands"in o?o.commands:[o];if([Rh.WebGL,Rh.WebGL2].includes(t.type)){for(let e=0;e<a.length;e++){const s=a[e];await lu({mutation:s,type:t.type,target:r,imageMap:n,errorHandler:i})}return}await async function({event:e,mutations:t,target:r,imageMap:n,errorHandler:s}){const i=r.getContext("2d");if(!i)return void s(t[0],new Error("Canvas context is null"));const o=t.map((async e=>Promise.all(e.args.map(ou(n,i)))));(await Promise.all(o)).forEach(((r,o)=>{const a=t[o];try{if(a.setter)return void(i[a.property]=a.args[0]);const t=i[a.property];"drawImage"===a.property&&"string"==typeof a.args[0]?(n.get(e),t.apply(i,a.args)):t.apply(i,r)}catch(e){s(a,e)}}))}({event:e,mutations:a,target:r,imageMap:n,errorHandler:i})}catch(e){i(t,e)}}class hu{constructor(e){xt(this,"mediaMap",new Map),xt(this,"warn"),xt(this,"service"),xt(this,"speedService"),xt(this,"emitter"),xt(this,"getCurrentTime"),xt(this,"metadataCallbackMap",new Map),this.warn=e.warn,this.service=e.service,this.speedService=e.speedService,this.emitter=e.emitter,this.getCurrentTime=e.getCurrentTime,this.emitter.on(Oh.Start,this.start.bind(this)),this.emitter.on(Oh.SkipStart,this.start.bind(this)),this.emitter.on(Oh.Pause,this.pause.bind(this)),this.emitter.on(Oh.Finish,this.pause.bind(this)),this.speedService.subscribe((()=>{this.syncAllMediaElements()}))}syncAllMediaElements(e={pause:!1}){this.mediaMap.forEach(((t,r)=>{this.syncTargetWithState(r),e.pause&&r.pause()}))}start(){this.syncAllMediaElements()}pause(){this.syncAllMediaElements({pause:!0})}seekTo({time:e,target:t,mediaState:r}){if(r.isPlaying){const n=(e-r.lastInteractionTimeOffset)/1e3*r.playbackRate,s="duration"in t&&t.duration;if(Number.isNaN(s))return void this.waitForMetadata(t);let i=r.currentTimeAtLastInteraction+n;t.loop&&!1!==s&&(i%=s),t.currentTime=i}else t.pause(),t.currentTime=r.currentTimeAtLastInteraction}waitForMetadata(e){if(this.metadataCallbackMap.has(e))return;if(!("addEventListener"in e))return;const t=()=>{this.metadataCallbackMap.delete(e);const t=this.mediaMap.get(e);t&&this.seekTo({time:this.getCurrentTime(),target:e,mediaState:t})};this.metadataCallbackMap.set(e,t),e.addEventListener("loadedmetadata",t,{once:!0})}getMediaStateFromMutation({target:e,timeOffset:t,mutation:r}){const n=this.mediaMap.get(e),{type:s,playbackRate:i,currentTime:o,muted:a,volume:l,loop:c}=r;return{isPlaying:s===kh.Play||s!==kh.Pause&&((null==n?void 0:n.isPlaying)||null!==e.getAttribute("autoplay")),currentTimeAtLastInteraction:o??(null==n?void 0:n.currentTimeAtLastInteraction)??0,lastInteractionTimeOffset:t,playbackRate:i??(null==n?void 0:n.playbackRate)??1,volume:l??(null==n?void 0:n.volume)??1,muted:a??(null==n?void 0:n.muted)??null===e.getAttribute("muted"),loop:c??(null==n?void 0:n.loop)??null===e.getAttribute("loop")}}syncTargetWithState(e){const t=this.mediaMap.get(e);if(!t)return;const{muted:r,loop:n,volume:s,isPlaying:i}=t,o=this.service.state.matches("paused"),a=t.playbackRate*this.speedService.state.context.timer.speed;try{this.seekTo({time:this.getCurrentTime(),target:e,mediaState:t}),e.volume!==s&&(e.volume=s),e.muted=r,e.loop=n,e.playbackRate!==a&&(e.playbackRate=a),i&&!o?e.play():e.pause()}catch(e){this.warn(`Failed to replay media interactions: ${e.message||e}`)}}addMediaElements(e,t,r){if(!["AUDIO","VIDEO"].includes(e.nodeName))return;const n=e,s=r.getMeta(n);if(!s||!("attributes"in s))return;const i=this.service.state.matches("paused"),o=s.attributes;let a=!1;a=o.rr_mediaState?"played"===o.rr_mediaState:null!==n.getAttribute("autoplay"),a&&i&&n.pause();let l=1;"number"==typeof o.rr_mediaPlaybackRate&&(l=o.rr_mediaPlaybackRate);let c=!1;c="boolean"==typeof o.rr_mediaMuted?o.rr_mediaMuted:null!==n.getAttribute("muted");let h=!1;h="boolean"==typeof o.rr_mediaLoop?o.rr_mediaLoop:null!==n.getAttribute("loop");let u=1;"number"==typeof o.rr_mediaVolume&&(u=o.rr_mediaVolume);let p=0;"number"==typeof o.rr_mediaCurrentTime&&(p=o.rr_mediaCurrentTime),this.mediaMap.set(n,{isPlaying:a,currentTimeAtLastInteraction:p,lastInteractionTimeOffset:t,playbackRate:l,volume:u,muted:c,loop:h}),this.syncTargetWithState(n)}mediaMutation({target:e,timeOffset:t,mutation:r}){this.mediaMap.set(e,this.getMediaStateFromMutation({target:e,timeOffset:t,mutation:r})),this.syncTargetWithState(e)}isSupportedMediaElement(e){return["AUDIO","VIDEO"].includes(e.nodeName)}reset(){this.mediaMap.clear()}}function uu(e,t){if("DIALOG"!==e.nodeName||e instanceof Ac)return;const r=e,n=r.open,s=n&&r.matches("dialog:modal"),i=r.getAttribute("rr_open_mode"),o="string"==typeof(null==t?void 0:t.attributes.open)||"string"==typeof r.getAttribute("open"),a="modal"===i;n&&!(s&&"non-modal"===i||!s&&a)||(r.isConnected?(n&&r.close(),o&&(a?r.showModal():r.show())):console.warn("dialog is not attached to the dom",r))}function pu(e,t){if("DIALOG"!==e.nodeName||e instanceof Ac)return;const r=e;r.isConnected?null===t.attributes.open&&(r.removeAttribute("open"),r.removeAttribute("rr_open_mode")):console.warn("dialog is not attached to the dom",r)}const du=Bh||Uh,fu="[replayer]",mu={duration:500,lineCap:"round",lineWidth:3,strokeStyle:"red"};function gu(e){return e.type==Mh.IncrementalSnapshot&&(e.data.source==Nh.TouchMove||e.data.source==Nh.MouseInteraction&&e.data.type==Th.TouchStart)}class yu{constructor(e,t){if(xt(this,"wrapper"),xt(this,"iframe"),xt(this,"service"),xt(this,"speedService"),xt(this,"config"),xt(this,"usingVirtualDom",!1),xt(this,"virtualDom",new Zc),xt(this,"mouse"),xt(this,"mouseTail",null),xt(this,"tailPositions",[]),xt(this,"emitter",du()),xt(this,"nextUserInteractionEvent"),xt(this,"legacy_missingNodeRetryMap",{}),xt(this,"cache",Si()),xt(this,"imageMap",new Map),xt(this,"canvasEventMap",new Map),xt(this,"mirror",Tt()),xt(this,"styleMirror",new Ih),xt(this,"mediaManager"),xt(this,"firstFullSnapshot",null),xt(this,"newDocumentQueue",[]),xt(this,"mousePos",null),xt(this,"touchActive",null),xt(this,"lastMouseDownEvent",null),xt(this,"lastHoveredRootNode"),xt(this,"lastSelectionData",null),xt(this,"constructedStyleMutations",[]),xt(this,"adoptedStyleSheets",[]),xt(this,"handleResize",(e=>{this.iframe.style.display="inherit";for(const t of[this.mouseTail,this.iframe])t&&(t.setAttribute("width",String(e.width)),t.setAttribute("height",String(e.height)))})),xt(this,"applyEventsSynchronously",(e=>{for(const t of e){switch(t.type){case Mh.DomContentLoaded:case Mh.Load:case Mh.Custom:continue;case Mh.FullSnapshot:case Mh.Meta:case Mh.Plugin:case Mh.IncrementalSnapshot:}this.getCastFn(t,!0)()}})),xt(this,"getCastFn",((e,t=!1)=>{let r;switch(e.type){case Mh.DomContentLoaded:case Mh.Load:break;case Mh.Custom:r=()=>{this.emitter.emit(Oh.CustomEvent,e)};break;case Mh.Meta:r=()=>this.emitter.emit(Oh.Resize,{width:e.data.width,height:e.data.height});break;case Mh.FullSnapshot:r=()=>{var r;if(this.firstFullSnapshot){if(this.firstFullSnapshot===e)return void(this.firstFullSnapshot=!0)}else this.firstFullSnapshot=!0;this.mediaManager.reset(),this.styleMirror.reset(),this.rebuildFullSnapshot(e,t),null==(r=this.iframe.contentWindow)||r.scrollTo(e.data.initialOffset)};break;case Mh.IncrementalSnapshot:r=()=>{if(this.applyIncremental(e,t),!t&&(e===this.nextUserInteractionEvent&&(this.nextUserInteractionEvent=null,this.backToNormal()),this.config.skipInactive&&!this.nextUserInteractionEvent)){for(const t of this.service.state.context.events)if(!(t.timestamp<=e.timestamp)&&this.isUserInteraction(t)){t.delay-e.delay>this.config.inactivePeriodThreshold*this.speedService.state.context.timer.speed&&(this.nextUserInteractionEvent=t);break}if(this.nextUserInteractionEvent){const t=this.nextUserInteractionEvent.delay-e.delay,r={speed:Math.min(Math.round(t/5e3),this.config.maxSpeed)};this.speedService.send({type:"FAST_FORWARD",payload:r}),this.emitter.emit(Oh.SkipStart,r)}}}}return()=>{r&&r();for(const r of this.config.plugins||[])r.handler&&r.handler(e,t,{replayer:this});this.service.send({type:"CAST_EVENT",payload:{event:e}});const n=this.service.state.context.events.length-1;if(!this.config.liveMode&&e===this.service.state.context.events[n]){const t=()=>{n<this.service.state.context.events.length-1||(this.backToNormal(),this.service.send("END"),this.emitter.emit(Oh.Finish))};let r=50;e.type===Mh.IncrementalSnapshot&&e.data.source===Nh.MouseMove&&e.data.positions.length&&(r+=Math.max(0,-e.data.positions[0].timeOffset)),setTimeout(t,r)}this.emitter.emit(Oh.EventCast,e)}})),!(null==t?void 0:t.liveMode)&&e.length<2)throw new Error("Replayer need at least 2 events.");const r={speed:1,maxSpeed:360,root:document.body,loadTimeout:0,skipInactive:!1,inactivePeriodThreshold:1e4,showWarning:!0,showDebug:!1,blockClass:"rr-block",liveMode:!1,insertStyleRules:[],triggerFocus:!0,UNSAFE_replayCanvas:!1,pauseAnimation:!0,mouseTail:mu,useVirtualDom:!0,logger:console};this.config=Object.assign({},r,t),this.handleResize=this.handleResize.bind(this),this.getCastFn=this.getCastFn.bind(this),this.applyEventsSynchronously=this.applyEventsSynchronously.bind(this),this.emitter.on(Oh.Resize,this.handleResize),this.setupDom();for(const e of this.config.plugins||[])e.getMirror&&e.getMirror({nodeMirror:this.mirror});this.emitter.on(Oh.Flush,(()=>{if(this.usingVirtualDom){const e={mirror:this.mirror,applyCanvas:(e,t,r)=>{cu({event:e,mutation:t,target:r,imageMap:this.imageMap,canvasEventMap:this.canvasEventMap,errorHandler:this.warnCanvasMutationFailed.bind(this)})},applyInput:this.applyInput.bind(this),applyScroll:this.applyScroll.bind(this),applyStyleSheetMutation:(e,t)=>{e.source===Nh.StyleSheetRule?this.applyStyleSheetRule(e,t):e.source===Nh.StyleDeclaration&&this.applyStyleDeclaration(e,t)},afterAppend:(e,t)=>{for(const r of this.config.plugins||[])r.onBuild&&r.onBuild(e,{id:t,replayer:this})}};if(this.iframe.contentDocument)try{jc(this.iframe.contentDocument,this.virtualDom,e,this.virtualDom.mirror)}catch(e){console.warn(e)}if(this.virtualDom.destroyTree(),this.usingVirtualDom=!1,Object.keys(this.legacy_missingNodeRetryMap).length)for(const t in this.legacy_missingNodeRetryMap)try{const r=this.legacy_missingNodeRetryMap[t],n=Vc(r.node,this.mirror,this.virtualDom.mirror);jc(n,r.node,e,this.virtualDom.mirror),r.node=n}catch(e){this.warn(e)}this.constructedStyleMutations.forEach((e=>{this.applyStyleSheetMutation(e)})),this.constructedStyleMutations=[],this.adoptedStyleSheets.forEach((e=>{this.applyAdoptedStyleSheet(e)})),this.adoptedStyleSheets=[]}if(this.mousePos&&(this.moveAndHover(this.mousePos.x,this.mousePos.y,this.mousePos.id,!0,this.mousePos.debugData),this.mousePos=null),!0===this.touchActive?this.mouse.classList.add("touch-active"):!1===this.touchActive&&this.mouse.classList.remove("touch-active"),this.touchActive=null,this.lastMouseDownEvent){const[e,t]=this.lastMouseDownEvent;e.dispatchEvent(t)}this.lastMouseDownEvent=null,this.lastSelectionData&&(this.applySelection(this.lastSelectionData),this.lastSelectionData=null)})),this.emitter.on(Oh.PlayBack,(()=>{this.firstFullSnapshot=null,this.mirror.reset(),this.styleMirror.reset(),this.mediaManager.reset()}));const n=new zh([],{speed:this.config.speed});this.service=nu({events:e.map((e=>t&&t.unpackFn?t.unpackFn(e):e)).sort(((e,t)=>e.timestamp-t.timestamp)),timer:n,timeOffset:0,baselineTime:0,lastPlayedEvent:null},{getCastFn:this.getCastFn,applyEventsSynchronously:this.applyEventsSynchronously,emitter:this.emitter}),this.service.start(),this.service.subscribe((e=>{this.emitter.emit(Oh.StateChange,{player:e})})),this.speedService=ru(eu({id:"speed",context:{normalSpeed:-1,timer:n},initial:"normal",states:{normal:{on:{FAST_FORWARD:{target:"skipping",actions:["recordSpeed","setSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}},skipping:{on:{BACK_TO_NORMAL:{target:"normal",actions:["restoreSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}}}},{actions:{setSpeed:(e,t)=>{"payload"in t&&e.timer.setSpeed(t.payload.speed)},recordSpeed:Xh({normalSpeed:e=>e.timer.speed}),restoreSpeed:e=>{e.timer.setSpeed(e.normalSpeed)}}})),this.speedService.start(),this.speedService.subscribe((e=>{this.emitter.emit(Oh.StateChange,{speed:e})})),this.mediaManager=new hu({warn:this.warn.bind(this),service:this.service,speedService:this.speedService,emitter:this.emitter,getCurrentTime:this.getCurrentTime.bind(this)});const s=this.service.state.context.events.find((e=>e.type===Mh.Meta)),i=this.service.state.context.events.find((e=>e.type===Mh.FullSnapshot));if(s){const{width:e,height:t}=s.data;setTimeout((()=>{this.emitter.emit(Oh.Resize,{width:e,height:t})}),0)}i&&setTimeout((()=>{var e;this.firstFullSnapshot||(this.firstFullSnapshot=i,this.rebuildFullSnapshot(i),null==(e=this.iframe.contentWindow)||e.scrollTo(i.data.initialOffset))}),1),this.service.state.context.events.find(gu)&&this.mouse.classList.add("touch-device")}get timer(){return this.service.state.context.timer}on(e,t){return this.emitter.on(e,t),this}off(e,t){return this.emitter.off(e,t),this}setConfig(e){Object.keys(e).forEach((t=>{e[t],this.config[t]=e[t]})),this.config.skipInactive||this.backToNormal(),void 0!==e.speed&&this.speedService.send({type:"SET_SPEED",payload:{speed:e.speed}}),void 0!==e.mouseTail&&(!1===e.mouseTail?this.mouseTail&&(this.mouseTail.style.display="none"):(this.mouseTail||(this.mouseTail=document.createElement("canvas"),this.mouseTail.width=Number.parseFloat(this.iframe.width),this.mouseTail.height=Number.parseFloat(this.iframe.height),this.mouseTail.classList.add("replayer-mouse-tail"),this.wrapper.insertBefore(this.mouseTail,this.iframe)),this.mouseTail.style.display="inherit"))}getMetaData(){const e=this.service.state.context.events[0],t=this.service.state.context.events[this.service.state.context.events.length-1];return{startTime:e.timestamp,endTime:t.timestamp,totalTime:t.timestamp-e.timestamp}}getCurrentTime(){return this.timer.timeOffset+this.getTimeOffset()}getTimeOffset(){const{baselineTime:e,events:t}=this.service.state.context;return e-t[0].timestamp}getMirror(){return this.mirror}play(e=0){var t,r;this.service.state.matches("paused")||this.service.send({type:"PAUSE"}),this.service.send({type:"PLAY",payload:{timeOffset:e}}),null==(r=null==(t=this.iframe.contentDocument)?void 0:t.getElementsByTagName("html")[0])||r.classList.remove("rrweb-paused"),this.emitter.emit(Oh.Start)}pause(e){var t,r;void 0===e&&this.service.state.matches("playing")&&this.service.send({type:"PAUSE"}),"number"==typeof e&&(this.play(e),this.service.send({type:"PAUSE"})),null==(r=null==(t=this.iframe.contentDocument)?void 0:t.getElementsByTagName("html")[0])||r.classList.add("rrweb-paused"),this.emitter.emit(Oh.Pause)}resume(e=0){this.warn("The 'resume' was deprecated in 1.0. Please use 'play' method which has the same interface."),this.play(e),this.emitter.emit(Oh.Resume)}destroy(){this.pause(),this.mirror.reset(),this.styleMirror.reset(),this.mediaManager.reset(),this.config.root.removeChild(this.wrapper),this.emitter.emit(Oh.Destroy)}startLive(e){this.service.send({type:"TO_LIVE",payload:{baselineTime:e}})}addEvent(e){const t=this.config.unpackFn?this.config.unpackFn(e):e;gu(t)&&this.mouse.classList.add("touch-device"),Promise.resolve().then((()=>this.service.send({type:"ADD_EVENT",payload:{event:t}})))}enableInteract(){this.iframe.setAttribute("scrolling","auto"),this.iframe.style.pointerEvents="auto"}disableInteract(){this.iframe.setAttribute("scrolling","no"),this.iframe.style.pointerEvents="none"}resetCache(){this.cache=Si()}setupDom(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("replayer-wrapper"),this.config.root.appendChild(this.wrapper),this.mouse=document.createElement("div"),this.mouse.classList.add("replayer-mouse"),this.wrapper.appendChild(this.mouse),!1!==this.config.mouseTail&&(this.mouseTail=document.createElement("canvas"),this.mouseTail.classList.add("replayer-mouse-tail"),this.mouseTail.style.display="inherit",this.wrapper.appendChild(this.mouseTail)),this.iframe=document.createElement("iframe");const e=["allow-same-origin"];this.config.UNSAFE_replayCanvas&&e.push("allow-scripts"),this.iframe.style.display="none",this.iframe.setAttribute("sandbox",e.join(" ")),this.disableInteract(),this.wrapper.appendChild(this.iframe),this.iframe.contentWindow&&this.iframe.contentDocument&&($h(this.iframe.contentWindow,this.iframe.contentDocument),function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach)}(this.iframe.contentWindow))}rebuildFullSnapshot(e,t=!1){if(!this.iframe.contentDocument)return this.warn("Looks like your replayer has been destroyed.");Object.keys(this.legacy_missingNodeRetryMap).length&&this.warn("Found unresolved missing node map",this.legacy_missingNodeRetryMap),this.legacy_missingNodeRetryMap={};const r=[],n=new Set,s=(t,s)=>{if("DIALOG"===t.nodeName&&n.add(t),this.collectIframeAndAttachDocument(r,t),this.mediaManager.isSupportedMediaElement(t)){const{events:r}=this.service.state.context;this.mediaManager.addMediaElements(t,e.timestamp-r[0].timestamp,this.mirror)}for(const e of this.config.plugins||[])e.onBuild&&e.onBuild(t,{id:s,replayer:this})};this.usingVirtualDom&&(this.virtualDom.destroyTree(),this.usingVirtualDom=!1),this.mirror.reset(),Ai(e.data.node,{doc:this.iframe.contentDocument,afterAppend:s,cache:this.cache,mirror:this.mirror}),s(this.iframe.contentDocument,e.data.node.id);for(const{mutationInQueue:e,builtNode:t}of r)this.attachDocumentToIframe(e,t),this.newDocumentQueue=this.newDocumentQueue.filter((t=>t!==e));const{documentElement:i,head:o}=this.iframe.contentDocument;this.insertStyleRules(i,o),n.forEach((e=>uu(e))),this.service.state.matches("playing")||this.iframe.contentDocument.getElementsByTagName("html")[0].classList.add("rrweb-paused"),this.emitter.emit(Oh.FullsnapshotRebuilded,e),t||this.waitForStylesheetLoad(),this.config.UNSAFE_replayCanvas&&this.preloadAllImages()}insertStyleRules(e,t){var r;const n=(s=this.config.blockClass,[`.${s} { background: currentColor }`,"noscript { display: none !important; }"]).concat(this.config.insertStyleRules);var s;if(this.config.pauseAnimation&&n.push("html.rrweb-paused *, html.rrweb-paused *:before, html.rrweb-paused *:after { animation-play-state: paused !important; }"),this.usingVirtualDom){const r=this.virtualDom.createElement("style");this.virtualDom.mirror.add(r,ah(r,this.virtualDom.unserializedId)),e.insertBefore(r,t),r.rules.push({source:Nh.StyleSheetRule,adds:n.map(((e,t)=>({rule:e,index:t})))})}else{const s=document.createElement("style");e.insertBefore(s,t);for(let e=0;e<n.length;e++)null==(r=s.sheet)||r.insertRule(n[e],e)}}attachDocumentToIframe(e,t){const r=this.usingVirtualDom?this.virtualDom.mirror:this.mirror,n=[],s=new Set,i=(e,i)=>{"DIALOG"===e.nodeName&&s.add(e),this.collectIframeAndAttachDocument(n,e);const o=r.getMeta(e);if((null==o?void 0:o.type)===It.Element&&"HTML"===(null==o?void 0:o.tagName.toUpperCase())){const{documentElement:e,head:r}=t.contentDocument;this.insertStyleRules(e,r)}if(!this.usingVirtualDom)for(const t of this.config.plugins||[])t.onBuild&&t.onBuild(e,{id:i,replayer:this})};Ei(e.node,{doc:t.contentDocument,mirror:r,hackCss:!0,skipChild:!1,afterAppend:i,cache:this.cache}),i(t.contentDocument,e.node.id);for(const{mutationInQueue:e,builtNode:t}of n)this.attachDocumentToIframe(e,t),this.newDocumentQueue=this.newDocumentQueue.filter((t=>t!==e));s.forEach((e=>uu(e)))}collectIframeAndAttachDocument(e,t){if(Ch(t,this.mirror)){const r=this.newDocumentQueue.find((e=>e.parentId===this.mirror.getId(t)));r&&e.push({mutationInQueue:r,builtNode:t})}}waitForStylesheetLoad(){var e;const t=null==(e=this.iframe.contentDocument)?void 0:e.head;if(t){const e=new Set;let r,n=this.service.state;const s=()=>{n=this.service.state};this.emitter.on(Oh.Start,s),this.emitter.on(Oh.Pause,s);const i=()=>{this.emitter.off(Oh.Start,s),this.emitter.off(Oh.Pause,s)};t.querySelectorAll('link[rel="stylesheet"]').forEach((t=>{t.sheet||(e.add(t),t.addEventListener("load",(()=>{e.delete(t),0===e.size&&-1!==r&&(n.matches("playing")&&this.play(this.getCurrentTime()),this.emitter.emit(Oh.LoadStylesheetEnd),r&&clearTimeout(r),i())})))})),e.size>0&&(this.service.send({type:"PAUSE"}),this.emitter.emit(Oh.LoadStylesheetStart),r=setTimeout((()=>{n.matches("playing")&&this.play(this.getCurrentTime()),r=-1,i()}),this.config.loadTimeout))}}async preloadAllImages(){const e=[];for(const t of this.service.state.context.events)if(t.type===Mh.IncrementalSnapshot&&t.data.source===Nh.CanvasMutation){e.push(this.deserializeAndPreloadCanvasEvents(t.data,t));("commands"in t.data?t.data.commands:[t.data]).forEach((e=>{this.preloadImages(e,t)}))}return Promise.all(e)}preloadImages(e,t){if("drawImage"===e.property&&"string"==typeof e.args[0]&&!this.imageMap.has(t)){const e=document.createElement("canvas"),t=e.getContext("2d"),r=null==t?void 0:t.createImageData(e.width,e.height);null==t||t.putImageData(r,0,0)}}async deserializeAndPreloadCanvasEvents(e,t){if(!this.canvasEventMap.has(t)){const r={isUnchanged:!0};if("commands"in e){const n=await Promise.all(e.commands.map((async e=>{const t=await Promise.all(e.args.map(ou(this.imageMap,null,r)));return{...e,args:t}})));!1===r.isUnchanged&&this.canvasEventMap.set(t,{...e,commands:n})}else{const n=await Promise.all(e.args.map(ou(this.imageMap,null,r)));!1===r.isUnchanged&&this.canvasEventMap.set(t,{...e,args:n})}}}applyIncremental(e,t){var r,n,s;const{data:i}=e;switch(i.source){case Nh.Mutation:try{this.applyMutation(i,t)}catch(e){this.warn(`Exception in mutation ${e.message||e}`,i)}break;case Nh.Drag:case Nh.TouchMove:case Nh.MouseMove:if(t){const e=i.positions[i.positions.length-1];this.mousePos={x:e.x,y:e.y,id:e.id,debugData:i}}else i.positions.forEach((r=>{const n={doAction:()=>{this.moveAndHover(r.x,r.y,r.id,t,i)},delay:r.timeOffset+e.timestamp-this.service.state.context.baselineTime};this.timer.addAction(n)})),this.timer.addAction({doAction(){},delay:e.delay-(null==(r=i.positions[0])?void 0:r.timeOffset)});break;case Nh.MouseInteraction:{if(-1===i.id)break;const e=new Event(Th[i.type].toLowerCase()),r=this.mirror.getNode(i.id);if(!r)return this.debugNodeNotFound(i,i.id);this.emitter.emit(Oh.MouseInteraction,{type:i.type,target:r});const{triggerFocus:n}=this.config;switch(i.type){case Th.Blur:"blur"in r&&r.blur();break;case Th.Focus:n&&r.focus&&r.focus({preventScroll:!0});break;case Th.Click:case Th.TouchStart:case Th.TouchEnd:case Th.MouseDown:case Th.MouseUp:t?(i.type===Th.TouchStart?this.touchActive=!0:i.type===Th.TouchEnd&&(this.touchActive=!1),i.type===Th.MouseDown?this.lastMouseDownEvent=[r,e]:i.type===Th.MouseUp&&(this.lastMouseDownEvent=null),this.mousePos={x:i.x||0,y:i.y||0,id:i.id,debugData:i}):(i.type===Th.TouchStart&&(this.tailPositions.length=0),this.moveAndHover(i.x||0,i.y||0,i.id,t,i),i.type===Th.Click?(this.mouse.classList.remove("active"),this.mouse.offsetWidth,this.mouse.classList.add("active")):i.type===Th.TouchStart?(this.mouse.offsetWidth,this.mouse.classList.add("touch-active")):i.type===Th.TouchEnd?this.mouse.classList.remove("touch-active"):r.dispatchEvent(e));break;case Th.TouchCancel:t?this.touchActive=!1:this.mouse.classList.remove("touch-active");break;default:r.dispatchEvent(e)}break}case Nh.Scroll:if(-1===i.id)break;if(this.usingVirtualDom){const e=this.virtualDom.mirror.getNode(i.id);if(!e)return this.debugNodeNotFound(i,i.id);e.scrollData=i;break}this.applyScroll(i,t);break;case Nh.ViewportResize:this.emitter.emit(Oh.Resize,{width:i.width,height:i.height});break;case Nh.Input:if(-1===i.id)break;if(this.usingVirtualDom){const e=this.virtualDom.mirror.getNode(i.id);if(!e)return this.debugNodeNotFound(i,i.id);e.inputData=i;break}this.applyInput(i);break;case Nh.MediaInteraction:{const t=this.usingVirtualDom?this.virtualDom.mirror.getNode(i.id):this.mirror.getNode(i.id);if(!t)return this.debugNodeNotFound(i,i.id);const r=t,{events:n}=this.service.state.context;this.mediaManager.mediaMutation({target:r,timeOffset:e.timestamp-n[0].timestamp,mutation:i});break}case Nh.StyleSheetRule:case Nh.StyleDeclaration:this.usingVirtualDom?i.styleId?this.constructedStyleMutations.push(i):i.id&&(null==(n=this.virtualDom.mirror.getNode(i.id))||n.rules.push(i)):this.applyStyleSheetMutation(i);break;case Nh.CanvasMutation:if(!this.config.UNSAFE_replayCanvas)return;if(this.usingVirtualDom){const t=this.virtualDom.mirror.getNode(i.id);if(!t)return this.debugNodeNotFound(i,i.id);t.canvasMutations.push({event:e,mutation:i})}else{const t=this.mirror.getNode(i.id);if(!t)return this.debugNodeNotFound(i,i.id);cu({event:e,mutation:i,target:t,imageMap:this.imageMap,canvasEventMap:this.canvasEventMap,errorHandler:this.warnCanvasMutationFailed.bind(this)})}break;case Nh.Font:try{const e=new FontFace(i.family,i.buffer?new Uint8Array(JSON.parse(i.fontSource)):i.fontSource,i.descriptors);null==(s=this.iframe.contentDocument)||s.fonts.add(e)}catch(e){this.warn(e)}break;case Nh.Selection:if(t){this.lastSelectionData=i;break}this.applySelection(i);break;case Nh.AdoptedStyleSheet:this.usingVirtualDom?this.adoptedStyleSheets.push(i):this.applyAdoptedStyleSheet(i)}}applyMutation(e,t){if(this.config.useVirtualDom&&!this.usingVirtualDom&&t&&(this.usingVirtualDom=!0,ih(this.iframe.contentDocument,this.mirror,this.virtualDom),Object.keys(this.legacy_missingNodeRetryMap).length))for(const e in this.legacy_missingNodeRetryMap)try{const t=this.legacy_missingNodeRetryMap[e],r=sh(t.node,this.virtualDom,this.mirror);r&&(t.node=r)}catch(e){this.warn(e)}const r=this.usingVirtualDom?this.virtualDom.mirror:this.mirror;e.removes=e.removes.filter((t=>!!r.getNode(t.id)||(this.warnNodeNotFound(e,t.id),!1))),e.removes.forEach((t=>{var n;const s=r.getNode(t.id);if(!s)return;let i=r.getNode(t.parentId);if(!i)return this.warnNodeNotFound(e,t.parentId);if(t.isShadow&&xh(i)&&(i=i.shadowRoot),r.removeNodeFromMap(s),i)try{i.removeChild(s),this.usingVirtualDom&&"#text"===s.nodeName&&"STYLE"===i.nodeName&&(null==(n=i.rules)?void 0:n.length)>0&&(i.rules=[])}catch(t){if(!(t instanceof DOMException))throw t;this.warn("parent could not remove child in mutation",i,s,e)}}));const n={...this.legacy_missingNodeRetryMap},s=[],i=e=>{var t,i;if(!this.iframe.contentDocument)return this.warn("Looks like your replayer has been destroyed.");let o=r.getNode(e.parentId);if(!o)return e.node.type===It.Document?this.newDocumentQueue.push(e):s.push(e);e.node.isShadow&&(xh(o)||o.attachShadow({mode:"open"}),o=o.shadowRoot);let a=null,l=null;if(e.previousId&&(a=r.getNode(e.previousId)),e.nextId&&(l=r.getNode(e.nextId)),(e=>{let t=null;return e.nextId&&(t=r.getNode(e.nextId)),null!==e.nextId&&void 0!==e.nextId&&-1!==e.nextId&&!t})(e))return s.push(e);if(e.node.rootId&&!r.getNode(e.node.rootId))return;const c=e.node.rootId?r.getNode(e.node.rootId):this.usingVirtualDom?this.virtualDom:this.iframe.contentDocument;if(Ch(o,r))return void this.attachDocumentToIframe(e,o);const h=(e,t)=>{if(!this.usingVirtualDom){uu(e);for(const r of this.config.plugins||[])r.onBuild&&r.onBuild(e,{id:t,replayer:this})}},u=Ei(e.node,{doc:c,mirror:r,skipChild:!0,hackCss:!0,cache:this.cache,afterAppend:h});if(-1===e.previousId||-1===e.nextId)return void(n[e.node.id]={node:u,mutation:e});const p=r.getMeta(o);if(p&&p.type===It.Element&&e.node.type===It.Text){const e=Array.isArray(o.childNodes)?o.childNodes:Array.from(o.childNodes);if("textarea"===p.tagName)for(const t of e)t.nodeType===o.TEXT_NODE&&o.removeChild(t);else if("style"===p.tagName&&1===e.length)for(const t of e)t.nodeType!==o.TEXT_NODE||r.hasNode(t)||(u.textContent=t.textContent,o.removeChild(t))}else if((null==p?void 0:p.type)===It.Document){const r=o;e.node.type===It.DocumentType&&(null==(t=r.childNodes[0])?void 0:t.nodeType)===Node.DOCUMENT_TYPE_NODE&&r.removeChild(r.childNodes[0]),"HTML"===u.nodeName&&r.documentElement&&r.removeChild(r.documentElement)}if(a&&a.nextSibling&&a.nextSibling.parentNode?o.insertBefore(u,a.nextSibling):l&&l.parentNode?o.contains(l)?o.insertBefore(u,l):o.insertBefore(u,null):o.appendChild(u),h(u,e.node.id),this.usingVirtualDom&&"#text"===u.nodeName&&"STYLE"===o.nodeName&&(null==(i=o.rules)?void 0:i.length)>0&&(o.rules=[]),Ch(u,this.mirror)){const e=this.mirror.getId(u),t=this.newDocumentQueue.find((t=>t.parentId===e));t&&(this.attachDocumentToIframe(t,u),this.newDocumentQueue=this.newDocumentQueue.filter((e=>e!==t)))}(e.previousId||e.nextId)&&this.legacy_resolveMissingNode(n,o,u,e)};e.adds.forEach((e=>{i(e)}));const o=Date.now();for(;s.length;){const e=vh(s);if(s.length=0,Date.now()-o>500){this.warn("Timeout in the loop, please check the resolve tree data:",e);break}for(const t of e){r.getNode(t.value.parentId)?bh(t,(e=>{i(e)})):this.debug("Drop resolve tree since there is no parent for the root node.",t)}}Object.keys(n).length&&Object.assign(this.legacy_missingNodeRetryMap,n),function(e){const t=new Set,r=[];for(let n=e.length;n--;){const s=e[n];t.has(s.id)||(r.push(s),t.add(s.id))}return r}(e.texts).forEach((t=>{var n;const s=r.getNode(t.id);if(!s){if(e.removes.find((e=>e.id===t.id)))return;return this.warnNodeNotFound(e,t.id)}if(s.textContent=t.value,this.usingVirtualDom){const e=s.parentNode;(null==(n=null==e?void 0:e.rules)?void 0:n.length)>0&&(e.rules=[])}})),e.attributes.forEach((t=>{var n;const s=r.getNode(t.id);if(!s){if(e.removes.find((e=>e.id===t.id)))return;return this.warnNodeNotFound(e,t.id)}for(const e in t.attributes)if("string"==typeof e){const i=t.attributes[e];if(null===i)s.removeAttribute(e),"open"===e&&pu(s,t);else if("string"==typeof i)try{if("_cssText"===e&&("LINK"===s.nodeName||"STYLE"===s.nodeName))try{const e=r.getMeta(s);Object.assign(e.attributes,t.attributes);const n=Ei(e,{doc:s.ownerDocument,mirror:r,skipChild:!0,hackCss:!0,cache:this.cache}),i=s.nextSibling,o=s.parentNode;if(n&&o){o.removeChild(s),o.insertBefore(n,i),r.replace(t.id,n);break}}catch(e){}if("value"===e&&"TEXTAREA"===s.nodeName){const e=s;e.childNodes.forEach((t=>e.removeChild(t)));const t=null==(n=s.ownerDocument)?void 0:n.createTextNode(i);t&&e.appendChild(t)}else s.setAttribute(e,i);"rr_open_mode"===e&&"DIALOG"===s.nodeName&&uu(s,t)}catch(e){this.warn("An error occurred may due to the checkout feature.",e)}else if("style"===e){const e=i,t=s;for(const r in e)if(!1===e[r])t.style.removeProperty(r);else if(e[r]instanceof Array){const n=e[r];t.style.setProperty(r,n[0],n[1])}else{const n=e[r];t.style.setProperty(r,n)}}}}))}applyScroll(e,t){var r,n;const s=this.mirror.getNode(e.id);if(!s)return this.debugNodeNotFound(e,e.id);const i=this.mirror.getMeta(s);if(s===this.iframe.contentDocument)null==(r=this.iframe.contentWindow)||r.scrollTo({top:e.y,left:e.x,behavior:t?"auto":"smooth"});else if((null==i?void 0:i.type)===It.Document)null==(n=s.defaultView)||n.scrollTo({top:e.y,left:e.x,behavior:t?"auto":"smooth"});else try{s.scrollTo({top:e.y,left:e.x,behavior:t?"auto":"smooth"})}catch(e){}}applyInput(e){const t=this.mirror.getNode(e.id);if(!t)return this.debugNodeNotFound(e,e.id);try{t.checked=e.isChecked,t.value=e.text}catch(e){}}applySelection(e){try{const t=new Set,r=e.ranges.map((({start:e,startOffset:r,end:n,endOffset:s})=>{const i=this.mirror.getNode(e),o=this.mirror.getNode(n);if(!i||!o)return;const a=new Range;a.setStart(i,r),a.setEnd(o,s);const l=i.ownerDocument,c=null==l?void 0:l.getSelection();return c&&t.add(c),{range:a,selection:c}}));t.forEach((e=>e.removeAllRanges())),r.forEach((e=>{var t;return e&&(null==(t=e.selection)?void 0:t.addRange(e.range))}))}catch(e){}}applyStyleSheetMutation(e){var t;let r=null;e.styleId?r=this.styleMirror.getStyle(e.styleId):e.id&&(r=(null==(t=this.mirror.getNode(e.id))?void 0:t.sheet)||null),r&&(e.source===Nh.StyleSheetRule?this.applyStyleSheetRule(e,r):e.source===Nh.StyleDeclaration&&this.applyStyleDeclaration(e,r))}applyStyleSheetRule(e,t){var r,n,s,i;if(null==(r=e.adds)||r.forEach((({rule:e,index:r})=>{try{if(Array.isArray(r)){const{positions:n,index:s}=Ah(r);Eh(t.cssRules,n).insertRule(e,s)}else{const n=void 0===r?void 0:Math.min(r,t.cssRules.length);null==t||t.insertRule(e,n)}}catch(e){}})),null==(n=e.removes)||n.forEach((({index:e})=>{try{if(Array.isArray(e)){const{positions:r,index:n}=Ah(e);Eh(t.cssRules,r).deleteRule(n||0)}else null==t||t.deleteRule(e)}catch(e){}})),e.replace)try{null==(s=t.replace)||s.call(t,e.replace)}catch(e){}if(e.replaceSync)try{null==(i=t.replaceSync)||i.call(t,e.replaceSync)}catch(e){}}applyStyleDeclaration(e,t){if(e.set){Eh(t.rules,e.index).style.setProperty(e.set.property,e.set.value,e.set.priority)}if(e.remove){Eh(t.rules,e.index).style.removeProperty(e.remove.property)}}applyAdoptedStyleSheet(e){var t;const r=this.mirror.getNode(e.id);if(!r)return;null==(t=e.styles)||t.forEach((e=>{var t;let n=null,s=null;if(xh(r)?s=(null==(t=r.ownerDocument)?void 0:t.defaultView)||null:"#document"===r.nodeName&&(s=r.defaultView),s)try{n=new s.CSSStyleSheet,this.styleMirror.add(n,e.styleId),this.applyStyleSheetRule({source:Nh.StyleSheetRule,adds:e.rules},n)}catch(e){}}));let n=0;const s=(e,t)=>{const r=t.map((e=>this.styleMirror.getStyle(e))).filter((e=>null!==e));xh(e)?e.shadowRoot.adoptedStyleSheets=r:"#document"===e.nodeName&&(e.adoptedStyleSheets=r),r.length!==t.length&&n<10&&(setTimeout((()=>s(e,t)),0+100*n),n++)};s(r,e.styleIds)}legacy_resolveMissingNode(e,t,r,n){const{previousId:s,nextId:i}=n,o=s&&e[s],a=i&&e[i];if(o){const{node:n,mutation:s}=o;t.insertBefore(n,r),delete e[s.node.id],delete this.legacy_missingNodeRetryMap[s.node.id],(s.previousId||s.nextId)&&this.legacy_resolveMissingNode(e,t,n,s)}if(a){const{node:n,mutation:s}=a;t.insertBefore(n,r.nextSibling),delete e[s.node.id],delete this.legacy_missingNodeRetryMap[s.node.id],(s.previousId||s.nextId)&&this.legacy_resolveMissingNode(e,t,n,s)}}moveAndHover(e,t,r,n,s){const i=this.mirror.getNode(r);if(!i)return this.debugNodeNotFound(s,r);const o=Sh(i,this.iframe),a=e*o.absoluteScale+o.x,l=t*o.absoluteScale+o.y;this.mouse.style.left=`${a}px`,this.mouse.style.top=`${l}px`,n||this.drawMouseTail({x:a,y:l}),this.hoverElements(i)}drawMouseTail(e){if(!this.mouseTail)return;const{lineCap:t,lineWidth:r,strokeStyle:n,duration:s}=!0===this.config.mouseTail?mu:Object.assign({},mu,this.config.mouseTail),i=()=>{if(!this.mouseTail)return;const e=this.mouseTail.getContext("2d");e&&this.tailPositions.length&&(e.clearRect(0,0,this.mouseTail.width,this.mouseTail.height),e.beginPath(),e.lineWidth=r,e.lineCap=t,e.strokeStyle=n,e.moveTo(this.tailPositions[0].x,this.tailPositions[0].y),this.tailPositions.forEach((t=>e.lineTo(t.x,t.y))),e.stroke())};this.tailPositions.push(e),i(),setTimeout((()=>{this.tailPositions=this.tailPositions.filter((t=>t!==e)),i()}),s/this.speedService.state.context.timer.speed)}hoverElements(e){var t;null==(t=this.lastHoveredRootNode||this.iframe.contentDocument)||t.querySelectorAll(".\\:hover").forEach((e=>{e.classList.remove(":hover")})),this.lastHoveredRootNode=e.getRootNode();let r=e;for(;r;)r.classList&&r.classList.add(":hover"),r=r.parentElement}isUserInteraction(e){return e.type===Mh.IncrementalSnapshot&&(e.data.source>Nh.Mutation&&e.data.source<=Nh.Input)}backToNormal(){this.nextUserInteractionEvent=null,this.speedService.state.matches("normal")||(this.speedService.send({type:"BACK_TO_NORMAL"}),this.emitter.emit(Oh.SkipEnd,{speed:this.speedService.state.context.normalSpeed}))}warnNodeNotFound(e,t){this.warn(`Node with id '${t}' not found. `,e)}warnCanvasMutationFailed(e,t){this.warn("Has error on canvas update",t,"canvas mutation:",e)}debugNodeNotFound(e,t){this.debug(`Node with id '${t}' not found. `,e)}warn(...e){this.config.showWarning&&this.config.logger.warn(fu,...e)}debug(...e){this.config.showDebug&&this.config.logger.log(fu,...e)}}var wu=Uint8Array,vu=Uint16Array,bu=Uint32Array,Cu=new wu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Su=new wu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),xu=new wu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Eu=function(e,t){for(var r=new vu(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var s=new bu(r[30]);for(n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return[r,s]},Au=Eu(Cu,2),Iu=Au[0],Mu=Au[1];Iu[28]=258,Mu[258]=28;for(var Nu=Eu(Su,0)[0],Tu=new vu(32768),Ru=0;Ru<32768;++Ru){var ku=(43690&Ru)>>>1|(21845&Ru)<<1;ku=(61680&(ku=(52428&ku)>>>2|(13107&ku)<<2))>>>4|(3855&ku)<<4,Tu[Ru]=((65280&ku)>>>8|(255&ku)<<8)>>>1}var Ou=function(e,t,r){for(var n=e.length,s=0,i=new vu(t);s<n;++s)++i[e[s]-1];var o,a=new vu(t);for(s=0;s<t;++s)a[s]=a[s-1]+i[s-1]<<1;if(r){o=new vu(1<<t);var l=15-t;for(s=0;s<n;++s)if(e[s])for(var c=s<<4|e[s],h=t-e[s],u=a[e[s]-1]++<<h,p=u|(1<<h)-1;u<=p;++u)o[Tu[u]>>>l]=c}else for(o=new vu(n),s=0;s<n;++s)o[s]=Tu[a[e[s]-1]++]>>>15-e[s];return o},Du=new wu(288);for(Ru=0;Ru<144;++Ru)Du[Ru]=8;for(Ru=144;Ru<256;++Ru)Du[Ru]=9;for(Ru=256;Ru<280;++Ru)Du[Ru]=7;for(Ru=280;Ru<288;++Ru)Du[Ru]=8;var Pu=new wu(32);for(Ru=0;Ru<32;++Ru)Pu[Ru]=5;var _u=Ou(Du,9,1),Lu=Ou(Pu,5,1),Fu=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Bu=function(e,t,r){var n=t/8>>0;return(e[n]|e[n+1]<<8)>>>(7&t)&r},Uu=function(e,t){var r=t/8>>0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>>(7&t)},$u=function(e,t,r){(null==r||r>e.length)&&(r=e.length);var n=new(e instanceof vu?vu:e instanceof bu?bu:wu)(r-t);return n.set(e.subarray(t,r)),n};function zu(e,t){return function(e,t,r){var n=e.length,s=!t||r,i=!r||r.i;r||(r={}),t||(t=new wu(3*n));var o,a=function(e){var r=t.length;if(e>r){var n=new wu(Math.max(2*r,e));n.set(t),t=n}},l=r.f||0,c=r.p||0,h=r.b||0,u=r.l,p=r.d,d=r.m,f=r.n,m=8*n;do{if(!u){r.f=l=Bu(e,c,1);var g=Bu(e,c+1,3);if(c+=3,!g){var y=e[(N=((o=c)/8>>0)+(7&o&&1)+4)-4]|e[N-3]<<8,w=N+y;if(w>n){if(i)throw"unexpected EOF";break}s&&a(h+y),t.set(e.subarray(N,w),h),r.b=h+=y,r.p=c=8*w;continue}if(1==g)u=_u,p=Lu,d=9,f=5;else{if(2!=g)throw"invalid block type";var v=Bu(e,c,31)+257,b=Bu(e,c+10,15)+4,C=v+Bu(e,c+5,31)+1;c+=14;for(var S=new wu(C),x=new wu(19),E=0;E<b;++E)x[xu[E]]=Bu(e,c+3*E,7);c+=3*b;var A=Fu(x),I=(1<<A)-1;if(!i&&c+C*(A+7)>m)break;var M=Ou(x,A,1);for(E=0;E<C;){var N,T=M[Bu(e,c,I)];if(c+=15&T,(N=T>>>4)<16)S[E++]=N;else{var R=0,k=0;for(16==N?(k=3+Bu(e,c,3),c+=2,R=S[E-1]):17==N?(k=3+Bu(e,c,7),c+=3):18==N&&(k=11+Bu(e,c,127),c+=7);k--;)S[E++]=R}}var O=S.subarray(0,v),D=S.subarray(v);d=Fu(O),f=Fu(D),u=Ou(O,d,1),p=Ou(D,f,1)}if(c>m)throw"unexpected EOF"}s&&a(h+131072);for(var P=(1<<d)-1,_=(1<<f)-1,L=d+f+18;i||c+L<m;){var F=(R=u[Uu(e,c)&P])>>>4;if((c+=15&R)>m)throw"unexpected EOF";if(!R)throw"invalid length/literal";if(F<256)t[h++]=F;else{if(256==F){u=null;break}var B=F-254;if(F>264){var U=Cu[E=F-257];B=Bu(e,c,(1<<U)-1)+Iu[E],c+=U}var $=p[Uu(e,c)&_],z=$>>>4;if(!$)throw"invalid distance";if(c+=15&$,D=Nu[z],z>3&&(U=Su[z],D+=Uu(e,c)&(1<<U)-1,c+=U),c>m)throw"unexpected EOF";s&&a(h+131072);for(var j=h+B;h<j;h+=4)t[h]=t[h-D],t[h+1]=t[h+1-D],t[h+2]=t[h+2-D],t[h+3]=t[h+3-D];h=j}}r.l=u,r.p=c,r.b=h,u&&(l=1,r.m=d,r.d=p,r.n=f)}while(!l);return h==t.length?t:$u(t,0,h)}((function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"}(e),e.subarray(2,-4)),t)}const ju=e=>{if("string"!=typeof e)return e;try{const t=JSON.parse(e);if(t.timestamp)return t}catch(e){}try{const t=JSON.parse(function(e,t){var r="";if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var n=0;n<e.length;){var s=e[n++];s<128||t?r+=String.fromCharCode(s):s<224?r+=String.fromCharCode((31&s)<<6|63&e[n++]):s<240?r+=String.fromCharCode((15&s)<<12|(63&e[n++])<<6|63&e[n++]):(s=((15&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536,r+=String.fromCharCode(55296|s>>10,56320|1023&s))}return r}(zu(function(e,t){for(var r=e.length,n=new wu(e.length+(e.length>>>1)),s=0,i=function(e){n[s++]=e},o=0;o<r;++o){if(s+5>n.length){var a=new wu(s+8+(r-o<<1));a.set(n),n=a}var l=e.charCodeAt(o);l<128||t?i(l):l<2048?(i(192|l>>>6),i(128|63&l)):l>55295&&l<57344?(i(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++o))>>>18),i(128|l>>>12&63),i(128|l>>>6&63),i(128|63&l)):(i(224|l>>>12),i(128|l>>>6&63),i(128|63&l))}return $u(n,0,s)}(e,!0))));if("v1"===t.v)return t;throw new Error(`These events were packed with packer ${t.v} which is incompatible with current packer v1.`)}catch(e){throw console.error(e),new Error("Unknown data format.")}};var Yu=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Yu||{}),Vu=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Vu||{});function Gu(e){let t="";return Object.keys(e).forEach((r=>{t+=`${r}: ${e[r]};`})),t}function Wu(e,t=2){let r=String(e);const n=Math.pow(10,t-1);if(e<n)for(;String(n).length>r.length;)r=`0${e}`;return r}const Zu=1e3,Xu=60*Zu,Ju=60*Xu;function Hu(e){if(e<=0)return"00:00";const t=Math.floor(e/Ju);e%=Ju;const r=Math.floor(e/Xu);e%=Xu;const n=Math.floor(e/Zu);return t?`${Wu(t)}:${Wu(r)}:${Wu(n)}`:`${Wu(r)}:${Wu(n)}`}function Ku(){let e=!1;return["fullscreen","webkitIsFullScreen","mozFullScreen","msFullscreenElement"].forEach((t=>{t in document&&(e=e||Boolean(document[t]))})),e}function Qu(e){return{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[Object.prototype.toString.call(e)]}function qu(e){return e.type===Yu.IncrementalSnapshot&&(e.data.source>Vu.Mutation&&e.data.source<=Vu.Input)}function ep(e){let t,r,n,s,i,o,a,l,c;return{c(){t=Le("div"),r=Le("input"),n=Ue(),s=Le("label"),i=Ue(),o=Le("span"),a=Be(e[3]),ze(r,"type","checkbox"),ze(r,"id",e[2]),r.disabled=e[1],ze(r,"class","svelte-a6h7w7"),ze(s,"for",e[2]),ze(s,"class","svelte-a6h7w7"),ze(o,"class","label svelte-a6h7w7"),ze(t,"class","switch svelte-a6h7w7"),Ve(t,"disabled",e[1])},m(h,u){De(h,t,u),Oe(t,r),r.checked=e[0],Oe(t,n),Oe(t,s),Oe(t,i),Oe(t,o),Oe(o,a),l||(c=$e(r,"change",e[4]),l=!0)},p(e,[n]){4&n&&ze(r,"id",e[2]),2&n&&(r.disabled=e[1]),1&n&&(r.checked=e[0]),4&n&&ze(s,"for",e[2]),8&n&&je(a,e[3]),2&n&&Ve(t,"disabled",e[1])},i:Ee,o:Ee,d(e){e&&Pe(t),l=!1,c()}}}function tp(e,t,r){let{disabled:n}=t,{checked:s}=t,{id:i}=t,{label:o}=t;return e.$$set=e=>{"disabled"in e&&r(1,n=e.disabled),"checked"in e&&r(0,s=e.checked),"id"in e&&r(2,i=e.id),"label"in e&&r(3,o=e.label)},[s,n,i,o,function(){s=this.checked,r(0,s)}]}class rp extends bt{constructor(e){super(),vt(this,e,tp,ep,Re,{disabled:1,checked:0,id:2,label:3})}}function np(e,t,r){const n=e.slice();return n[38]=t[r],n}function sp(e,t,r){const n=e.slice();return n[41]=t[r],n}function ip(e,t,r){const n=e.slice();return n[44]=t[r],n}function op(e){let t,r,n,s,i,o,a,l,c,h,u,p,d,f,m,g,y,w,v,b,C,S,x,E,A,I,M=Hu(e[6])+"",N=Hu(e[8].totalTime)+"",T=ft(e[13]),R=[];for(let t=0;t<T.length;t+=1)R[t]=ap(ip(e,T,t));let k=ft(e[9]),O=[];for(let t=0;t<k.length;t+=1)O[t]=lp(sp(e,k,t));function D(e,t){return"playing"===e[7]?hp:cp}let P=D(e),_=P(e),L=ft(e[3]),F=[];for(let t=0;t<L.length;t+=1)F[t]=up(np(e,L,t));function B(t){e[29](t)}let U={id:"skip",disabled:"skipping"===e[10],label:"skip inactive"};return void 0!==e[0]&&(U.checked=e[0]),b=new rp({props:U}),Qe.push((()=>function(e,t,r){const n=e.$$.props[t];void 0!==n&&(e.$$.bound[n]=r,r(e.$$.ctx[n]))}(b,"checked",B))),{c(){t=Le("div"),r=Le("div"),n=Le("span"),s=Be(M),i=Ue(),o=Le("div"),a=Le("div"),l=Ue();for(let e=0;e<R.length;e+=1)R[e].c();c=Ue();for(let e=0;e<O.length;e+=1)O[e].c();h=Ue(),u=Le("div"),p=Ue(),d=Le("span"),f=Be(N),m=Ue(),g=Le("div"),y=Le("button"),_.c(),w=Ue();for(let e=0;e<F.length;e+=1)F[e].c();v=Ue(),mt(b.$$.fragment),S=Ue(),x=Le("button"),x.innerHTML='<svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M916 380c-26.4 0-48-21.6-48-48L868 223.2 613.6 477.6c-18.4\n            18.4-48.8 18.4-68 0-18.4-18.4-18.4-48.8 0-68L800 156 692 156c-26.4\n            0-48-21.6-48-48 0-26.4 21.6-48 48-48l224 0c26.4 0 48 21.6 48 48l0\n            224C964 358.4 942.4 380 916 380zM231.2 860l108.8 0c26.4 0 48 21.6 48\n            48s-21.6 48-48 48l-224 0c-26.4 0-48-21.6-48-48l0-224c0-26.4 21.6-48\n            48-48 26.4 0 48 21.6 48 48L164 792l253.6-253.6c18.4-18.4 48.8-18.4\n            68 0 18.4 18.4 18.4 48.8 0 68L231.2 860z"></path></svg>',ze(n,"class","rr-timeline__time svelte-189zk2r"),ze(a,"class","rr-progress__step svelte-189zk2r"),Ye(a,"width",e[12]),ze(u,"class","rr-progress__handler svelte-189zk2r"),Ye(u,"left",e[12]),ze(o,"class","rr-progress svelte-189zk2r"),Ve(o,"disabled","skipping"===e[10]),ze(d,"class","rr-timeline__time svelte-189zk2r"),ze(r,"class","rr-timeline svelte-189zk2r"),ze(y,"class","svelte-189zk2r"),ze(x,"class","svelte-189zk2r"),ze(g,"class","rr-controller__btns svelte-189zk2r"),ze(t,"class","rr-controller svelte-189zk2r")},m(C,M){De(C,t,M),Oe(t,r),Oe(r,n),Oe(n,s),Oe(r,i),Oe(r,o),Oe(o,a),Oe(o,l);for(let e=0;e<R.length;e+=1)R[e]&&R[e].m(o,null);Oe(o,c);for(let e=0;e<O.length;e+=1)O[e]&&O[e].m(o,null);Oe(o,h),Oe(o,u),e[27](o),Oe(r,p),Oe(r,d),Oe(d,f),Oe(t,m),Oe(t,g),Oe(g,y),_.m(y,null),Oe(g,w);for(let e=0;e<F.length;e+=1)F[e]&&F[e].m(g,null);Oe(g,v),gt(b,g,null),Oe(g,S),Oe(g,x),E=!0,A||(I=[$e(o,"click",e[15]),$e(o,"keydown",e[16]),$e(y,"click",e[4]),$e(x,"click",e[30])],A=!0)},p(e,t){if((!E||64&t[0])&&M!==(M=Hu(e[6])+"")&&je(s,M),(!E||4096&t[0])&&Ye(a,"width",e[12]),8192&t[0]){let r;for(T=ft(e[13]),r=0;r<T.length;r+=1){const n=ip(e,T,r);R[r]?R[r].p(n,t):(R[r]=ap(n),R[r].c(),R[r].m(o,c))}for(;r<R.length;r+=1)R[r].d(1);R.length=T.length}if(512&t[0]){let r;for(k=ft(e[9]),r=0;r<k.length;r+=1){const n=sp(e,k,r);O[r]?O[r].p(n,t):(O[r]=lp(n),O[r].c(),O[r].m(o,h))}for(;r<O.length;r+=1)O[r].d(1);O.length=k.length}if((!E||4096&t[0])&&Ye(u,"left",e[12]),(!E||1024&t[0])&&Ve(o,"disabled","skipping"===e[10]),(!E||256&t[0])&&N!==(N=Hu(e[8].totalTime)+"")&&je(f,N),P!==(P=D(e))&&(_.d(1),_=P(e),_&&(_.c(),_.m(y,null))),1066&t[0]){let r;for(L=ft(e[3]),r=0;r<L.length;r+=1){const n=np(e,L,r);F[r]?F[r].p(n,t):(F[r]=up(n),F[r].c(),F[r].m(g,v))}for(;r<F.length;r+=1)F[r].d(1);F.length=L.length}const r={};var n;1024&t[0]&&(r.disabled="skipping"===e[10]),!C&&1&t[0]&&(C=!0,r.checked=e[0],n=()=>C=!1,et.push(n)),b.$set(r)},i(e){E||(pt(b.$$.fragment,e),E=!0)},o(e){dt(b.$$.fragment,e),E=!1},d(r){r&&Pe(t),_e(R,r),_e(O,r),e[27](null),_.d(),_e(F,r),yt(b),A=!1,Ne(I)}}}function ap(e){let t,r;return{c(){t=Le("div"),ze(t,"title",r=e[44].name),Ye(t,"width",e[44].width),Ye(t,"height","4px"),Ye(t,"position","absolute"),Ye(t,"background",e[44].background),Ye(t,"left",e[44].position)},m(e,r){De(e,t,r)},p(e,n){8192&n[0]&&r!==(r=e[44].name)&&ze(t,"title",r),8192&n[0]&&Ye(t,"width",e[44].width),8192&n[0]&&Ye(t,"background",e[44].background),8192&n[0]&&Ye(t,"left",e[44].position)},d(e){e&&Pe(t)}}}function lp(e){let t,r;return{c(){t=Le("div"),ze(t,"title",r=e[41].name),Ye(t,"width","10px"),Ye(t,"height","5px"),Ye(t,"position","absolute"),Ye(t,"top","2px"),Ye(t,"transform","translate(-50%, -50%)"),Ye(t,"background",e[41].background),Ye(t,"left",e[41].position)},m(e,r){De(e,t,r)},p(e,n){512&n[0]&&r!==(r=e[41].name)&&ze(t,"title",r),512&n[0]&&Ye(t,"background",e[41].background),512&n[0]&&Ye(t,"left",e[41].position)},d(e){e&&Pe(t)}}}function cp(e){let t,r;return{c(){t=Fe("svg"),r=Fe("path"),ze(r,"d","M170.65984 896l0-768 640 384zM644.66944\n              512l-388.66944-233.32864 0 466.65728z"),ze(t,"class","icon"),ze(t,"viewBox","0 0 1024 1024"),ze(t,"version","1.1"),ze(t,"xmlns","http://www.w3.org/2000/svg"),ze(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),ze(t,"width","16"),ze(t,"height","16")},m(e,n){De(e,t,n),Oe(t,r)},d(e){e&&Pe(t)}}}function hp(e){let t,r;return{c(){t=Fe("svg"),r=Fe("path"),ze(r,"d","M682.65984 128q53.00224 0 90.50112 37.49888t37.49888 90.50112l0\n              512q0 53.00224-37.49888 90.50112t-90.50112\n              37.49888-90.50112-37.49888-37.49888-90.50112l0-512q0-53.00224\n              37.49888-90.50112t90.50112-37.49888zM341.34016 128q53.00224 0\n              90.50112 37.49888t37.49888 90.50112l0 512q0 53.00224-37.49888\n              90.50112t-90.50112\n              37.49888-90.50112-37.49888-37.49888-90.50112l0-512q0-53.00224\n              37.49888-90.50112t90.50112-37.49888zM341.34016 213.34016q-17.67424\n              0-30.16704 12.4928t-12.4928 30.16704l0 512q0 17.67424 12.4928\n              30.16704t30.16704 12.4928 30.16704-12.4928\n              12.4928-30.16704l0-512q0-17.67424-12.4928-30.16704t-30.16704-12.4928zM682.65984\n              213.34016q-17.67424 0-30.16704 12.4928t-12.4928 30.16704l0 512q0\n              17.67424 12.4928 30.16704t30.16704 12.4928 30.16704-12.4928\n              12.4928-30.16704l0-512q0-17.67424-12.4928-30.16704t-30.16704-12.4928z"),ze(t,"class","icon"),ze(t,"viewBox","0 0 1024 1024"),ze(t,"version","1.1"),ze(t,"xmlns","http://www.w3.org/2000/svg"),ze(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),ze(t,"width","16"),ze(t,"height","16")},m(e,n){De(e,t,n),Oe(t,r)},d(e){e&&Pe(t)}}}function up(e){let t,r,n,s,i,o,a=e[38]+"";function l(){return e[28](e[38])}return{c(){t=Le("button"),r=Be(a),n=Be("x"),t.disabled=s="skipping"===e[10],ze(t,"class","svelte-189zk2r"),Ve(t,"active",e[38]===e[1]&&"skipping"!==e[10])},m(e,s){De(e,t,s),Oe(t,r),Oe(t,n),i||(o=$e(t,"click",l),i=!0)},p(n,i){e=n,8&i[0]&&a!==(a=e[38]+"")&&je(r,a),1024&i[0]&&s!==(s="skipping"===e[10])&&(t.disabled=s),1034&i[0]&&Ve(t,"active",e[38]===e[1]&&"skipping"!==e[10])},d(e){e&&Pe(t),i=!1,o()}}}function pp(e){let t,r,n=e[2]&&op(e);return{c(){n&&n.c(),t=Be("")},m(e,s){n&&n.m(e,s),De(e,t,s),r=!0},p(e,r){e[2]?n?(n.p(e,r),4&r[0]&&pt(n,1)):(n=op(e),n.c(),pt(n,1),n.m(t.parentNode,t)):n&&(ht(),dt(n,1,1,(()=>{n=null})),ut())},i(e){r||(pt(n),r=!0)},o(e){dt(n),r=!1},d(e){e&&Pe(t),n&&n.d(e)}}}function dp(e,t,r){return(100-(t-r)/(t-e)*100).toFixed(2)}function fp(e,t,r){const n=He();let s,i,o,a,l,c,h,u,{replayer:p}=t,{showController:d}=t,{autoPlay:f}=t,{skipInactive:m}=t,{speedOption:g}=t,{speed:y=(g.length?g[0]:1)}=t,{tags:w={}}=t,{inactiveColor:v}=t,b=0,C=null,S=!1,x=null,E=null;const A=()=>{C&&(cancelAnimationFrame(C),C=null)},I=()=>{"paused"===s&&(a?(p.play(),a=!1):p.play(b))},M=()=>{"playing"===s&&(p.pause(),S=!1)},N=(e,t)=>{r(6,b=e),S=!1,a=!1;("boolean"==typeof t?t:"playing"===s)?p.play(e):p.pause(e)},T=(e,t,n=!1,s=void 0)=>{E=n?{start:e,end:t}:null,r(6,b=e),S=t,x=s||null,p.play(e)},R=e=>{let t="playing"===s;r(1,y=e),t&&p.pause(),p.setConfig({speed:y}),t&&p.play(b)};var k;Xe((()=>{r(7,s=p.service.state.value),r(10,i=p.speedService.state.value),p.on("state-change",(e=>{const{player:t,speed:n}=e;if((null==t?void 0:t.value)&&s!==t.value)switch(r(7,s=t.value),s){case"playing":A(),C=requestAnimationFrame((function e(){r(6,b=p.getCurrentTime()),S&&b>=S&&(E?T(E.start,E.end,!0,void 0):(p.pause(),x&&(x(),x=null))),b<l.totalTime&&(C=requestAnimationFrame(e))}));break;case"paused":A()}(null==n?void 0:n.value)&&i!==n.value&&r(10,i=n.value)})),p.on("finish",(()=>{a=!0,x&&(x(),x=null)})),f&&p.play()})),k=()=>{m!==p.config.skipInactive&&p.setConfig({skipInactive:m})},Ze().$$.after_update.push(k),Je((()=>{p.pause(),A()}));return e.$$set=e=>{"replayer"in e&&r(17,p=e.replayer),"showController"in e&&r(2,d=e.showController),"autoPlay"in e&&r(18,f=e.autoPlay),"skipInactive"in e&&r(0,m=e.skipInactive),"speedOption"in e&&r(3,g=e.speedOption),"speed"in e&&r(1,y=e.speed),"tags"in e&&r(19,w=e.tags),"inactiveColor"in e&&r(20,v=e.inactiveColor)},e.$$.update=()=>{if(64&e.$$.dirty[0]&&n("ui-update-current-time",{payload:b}),128&e.$$.dirty[0]&&n("ui-update-player-state",{payload:s}),131072&e.$$.dirty[0]&&r(8,l=p.getMetaData()),320&e.$$.dirty[0]){const e=Math.min(1,b/l.totalTime);r(12,c=100*e+"%"),n("ui-update-progress",{payload:e})}655360&e.$$.dirty[0]&&r(9,h=(()=>{const{context:e}=p.service.state,t=e.events.length,r=e.events[0].timestamp,n=e.events[t-1].timestamp,s=[];return e.events.forEach((e=>{if(e.type===Yu.Custom){const t={name:e.data.tag,background:w[e.data.tag]||"rgb(73, 80, 246)",position:`${dp(r,n,e.timestamp)}%`};s.push(t)}})),s})()),1179648&e.$$.dirty[0]&&r(13,u=(()=>{try{const{context:e}=p.service.state,t=e.events.length,r=e.events[0].timestamp,n=e.events[t-1].timestamp,s=function(e,t){const r=[];let n=e[0].timestamp;for(const s of e)qu(s)&&(s.timestamp-n>t&&r.push([n,s.timestamp]),n=s.timestamp);return r}(e.events,p.config.inactivePeriodThreshold),i=(e,t,r,n)=>((n-r)/(t-e)*100).toFixed(2);return s.map((e=>({name:"inactive period",background:v,position:`${dp(r,n,e[0])}%`,width:`${i(r,n,e[0],e[1])}%`})))}catch(e){return[]}})())},[m,y,d,g,()=>{switch(s){case"playing":M();break;case"paused":I()}},R,b,s,l,h,i,o,c,u,n,e=>{if("skipping"===i)return;const t=o.getBoundingClientRect();let r=(e.clientX-t.left)/t.width;r<0?r=0:r>1&&(r=1);const n=l.totalTime*r;N(n)},e=>{"skipping"!==i&&("ArrowLeft"===e.key?N(b-5):"ArrowRight"===e.key&&N(b+5))},p,f,w,v,I,M,N,T,()=>{r(0,m=!m)},()=>Promise.resolve().then((()=>{r(8,l=p.getMetaData())})),function(e){Qe[e?"unshift":"push"]((()=>{o=e,r(11,o)}))},e=>R(e),function(e){m=e,r(0,m)},()=>n("fullscreen")]}class mp extends bt{constructor(e){super(),vt(this,e,fp,pp,Re,{replayer:17,showController:2,autoPlay:18,skipInactive:0,speedOption:3,speed:1,tags:19,inactiveColor:20,toggle:4,play:21,pause:22,goto:23,playRange:24,setSpeed:5,toggleSkipInactive:25,triggerUpdateMeta:26},null,[-1,-1])}get toggle(){return this.$$.ctx[4]}get play(){return this.$$.ctx[21]}get pause(){return this.$$.ctx[22]}get goto(){return this.$$.ctx[23]}get playRange(){return this.$$.ctx[24]}get setSpeed(){return this.$$.ctx[5]}get toggleSkipInactive(){return this.$$.ctx[25]}get triggerUpdateMeta(){return this.$$.ctx[26]}}function gp(e){let t,r,n={replayer:e[7],showController:e[3],autoPlay:e[1],speedOption:e[2],skipInactive:e[0],tags:e[4],inactiveColor:e[5]};return t=new mp({props:n}),e[32](t),t.$on("fullscreen",e[33]),{c(){mt(t.$$.fragment)},m(e,n){gt(t,e,n),r=!0},p(e,r){const n={};128&r[0]&&(n.replayer=e[7]),8&r[0]&&(n.showController=e[3]),2&r[0]&&(n.autoPlay=e[1]),4&r[0]&&(n.speedOption=e[2]),1&r[0]&&(n.skipInactive=e[0]),16&r[0]&&(n.tags=e[4]),32&r[0]&&(n.inactiveColor=e[5]),t.$set(n)},i(e){r||(pt(t.$$.fragment,e),r=!0)},o(e){dt(t.$$.fragment,e),r=!1},d(r){e[32](null),yt(t,r)}}}function yp(e){let t,r,n,s,i=e[7]&&gp(e);return{c(){t=Le("div"),r=Le("div"),n=Ue(),i&&i.c(),ze(r,"class","rr-player__frame"),ze(r,"style",e[11]),ze(t,"class","rr-player"),ze(t,"style",e[12])},m(o,a){De(o,t,a),Oe(t,r),e[31](r),Oe(t,n),i&&i.m(t,null),e[34](t),s=!0},p(e,n){(!s||2048&n[0])&&ze(r,"style",e[11]),e[7]?i?(i.p(e,n),128&n[0]&&pt(i,1)):(i=gp(e),i.c(),pt(i,1),i.m(t,null)):i&&(ht(),dt(i,1,1,(()=>{i=null})),ut()),(!s||4096&n[0])&&ze(t,"style",e[12])},i(e){s||(pt(i),s=!0)},o(e){dt(i),s=!1},d(r){r&&Pe(t),e[31](null),i&&i.d(),e[34](null)}}}function wp(e,t,r){let n,{width:s=1024}=t,{height:i=576}=t,{maxScale:o=1}=t,{events:a}=t,{skipInactive:l=!0}=t,{autoPlay:c=!0}=t,{speedOption:h=[1,2,4,8]}=t,{speed:u=1}=t,{showController:p=!0}=t,{tags:d={}}=t,{inactiveColor:f="#D4D4D4"}=t;let m,g,y,w,v,b,C=s,S=i;const x=(e,t)=>{const r=[s/t.width,i/t.height];o&&r.push(o),e.style.transform=`scale(${Math.min(...r)})translate(-50%, -50%)`},E=()=>{var e;m&&(Ku()?document.exitFullscreen?document.exitFullscreen():document.mozExitFullscreen?document.mozExitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen?document.msExitFullscreen():Promise.resolve():(e=m).requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():Promise.resolve())};Xe((()=>{if(void 0!==h&&"array"!==Qu(h))throw new Error("speedOption must be array");if(h.forEach((e=>{if("number"!==Qu(e))throw new Error("item of speedOption must be number")})),h.indexOf(u)<0)throw new Error(`speed must be one of speedOption,\n        current config:\n        {\n          ...\n          speed: ${u},\n          speedOption: [${h.toString()}]\n          ...\n        }\n        `);var e;r(7,n=new yu(a,{speed:u,root:g,unpackFn:ju,...t})),n.on("resize",(e=>{x(n.wrapper,e)})),e=()=>{Ku()?setTimeout((()=>{C=s,S=i,r(13,s=m.offsetWidth),r(14,i=m.offsetHeight-(p?80:0)),x(n.wrapper,{width:n.iframe.offsetWidth,height:n.iframe.offsetHeight})}),0):(r(13,s=C),r(14,i=S),x(n.wrapper,{width:n.iframe.offsetWidth,height:n.iframe.offsetHeight}))},document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),y=()=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)}})),Je((()=>{y&&y()}));return e.$$set=e=>{r(39,t=Ae(Ae({},t),ke(e))),"width"in e&&r(13,s=e.width),"height"in e&&r(14,i=e.height),"maxScale"in e&&r(15,o=e.maxScale),"events"in e&&r(16,a=e.events),"skipInactive"in e&&r(0,l=e.skipInactive),"autoPlay"in e&&r(1,c=e.autoPlay),"speedOption"in e&&r(2,h=e.speedOption),"speed"in e&&r(17,u=e.speed),"showController"in e&&r(3,p=e.showController),"tags"in e&&r(4,d=e.tags),"inactiveColor"in e&&r(5,f=e.inactiveColor)},e.$$.update=()=>{24576&e.$$.dirty[0]&&r(11,v=Gu({width:`${s}px`,height:`${i}px`})),24584&e.$$.dirty[0]&&r(12,b=Gu({width:`${s}px`,height:`${i+(p?80:0)}px`}))},t=ke(t),[l,c,h,p,d,f,E,n,m,g,w,v,b,s,i,o,a,u,()=>n.getMirror(),()=>{x(n.wrapper,{width:n.iframe.offsetWidth,height:n.iframe.offsetHeight})},(e,t)=>{switch(n.on(e,t),e){case"ui-update-current-time":case"ui-update-progress":case"ui-update-player-state":w.$on(e,(({detail:e})=>t(e)))}},e=>{n.addEvent(e),w.triggerUpdateMeta()},()=>n.getMetaData(),()=>n,()=>{w.toggle()},e=>{w.setSpeed(e)},()=>{w.toggleSkipInactive()},()=>{w.play()},()=>{w.pause()},(e,t)=>{w.goto(e,t)},(e,t,r=!1,n=void 0)=>{w.playRange(e,t,r,n)},function(e){Qe[e?"unshift":"push"]((()=>{g=e,r(9,g)}))},function(e){Qe[e?"unshift":"push"]((()=>{w=e,r(10,w)}))},()=>E(),function(e){Qe[e?"unshift":"push"]((()=>{m=e,r(8,m)}))}]}let vp=class extends bt{constructor(e){super(),vt(this,e,wp,yp,Re,{width:13,height:14,maxScale:15,events:16,skipInactive:0,autoPlay:1,speedOption:2,speed:17,showController:3,tags:4,inactiveColor:5,getMirror:18,triggerResize:19,toggleFullscreen:6,addEventListener:20,addEvent:21,getMetaData:22,getReplayer:23,toggle:24,setSpeed:25,toggleSkipInactive:26,play:27,pause:28,goto:29,playRange:30},null,[-1,-1])}get getMirror(){return this.$$.ctx[18]}get triggerResize(){return this.$$.ctx[19]}get toggleFullscreen(){return this.$$.ctx[6]}get addEventListener(){return this.$$.ctx[20]}get addEvent(){return this.$$.ctx[21]}get getMetaData(){return this.$$.ctx[22]}get getReplayer(){return this.$$.ctx[23]}get toggle(){return this.$$.ctx[24]}get setSpeed(){return this.$$.ctx[25]}get toggleSkipInactive(){return this.$$.ctx[26]}get play(){return this.$$.ctx[27]}get pause(){return this.$$.ctx[28]}get goto(){return this.$$.ctx[29]}get playRange(){return this.$$.ctx[30]}};class bp extends vp{constructor(e){super({target:e.target,props:e.data||e.props})}}export{bp as Player,bp as default};
